<map version="1.0.1">
<!-- To view this file, download free mind mapping software FreeMind from http://freemind.sourceforge.net -->
<node CREATED="1529637384097" ID="ID_1117731069" MODIFIED="1529637388701" TEXT="Docker">
<node CREATED="1529637452302" ID="ID_1638746942" MODIFIED="1535520817684" POSITION="right" TEXT="&#x6587;&#x7ae0;">
<node CREATED="1529637462094" ID="ID_1008266553" MODIFIED="1535520823141">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      1&#12289;Docker &#20837;&#38376;&#25945;&#31243;
    </p>
    <p>
      http://www.ruanyifeng.com/blog/2018/02/docker-tutorial.html
    </p>
    <p>
      2&#12289;Docker&#8212;&#8212;&#20174;&#20837;&#38376;&#21040;&#23454;&#36341;
    </p>
    <p>
      https://yeasy.gitbooks.io/docker_practice/
    </p>
    <p>
      https://docker_practice.gitee.io/
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node CREATED="1535368905357" ID="ID_856431372" MODIFIED="1535632371080" POSITION="right" TEXT="&#x901f;&#x8bb0;">
<node CREATED="1535368914120" ID="ID_524213621" MODIFIED="1535634296494">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      docker run&#21442;&#25968;&#35828;&#26126;
    </p>
    <p>
      --name &#29992;&#20110;&#35774;&#32622;&#23481;&#22120;&#30340;&#21517;&#23383;&#65292;&#22914;&#8220;--name nginx&#8221;
    </p>
    <p>
      --volume, -v &#25346;&#36733;&#25968;&#25454;&#21367;&#65292;&#22914;&#8220;-v host_path:container_path&#8221;&#24102;&#26469;&#30340;&#25928;&#26524;&#26159;&#22312;&#23481;&#22120;&#20013;&#26377;&#19968;&#20010;container_path&#36335;&#24452;&#65292;&#23545;&#23427;&#36827;&#34892;&#25805;&#20316;&#23454;&#38469;&#19978;&#26159;&#25805;&#20316;&#23487;&#20027;&#26426;&#30340;host_path&#36335;&#24452;&#65292;&#21487;&#20197;&#26377;&#22810;&#20010;-v&#36873;&#39033;&#65292;&#21487;&#20197;&#20351;&#29992;$(pwd)&#34920;&#31034;&#24403;&#21069;&#23487;&#20027;&#26426;&#30340;&#24037;&#20316;&#30446;&#24405;
    </p>
    <p>
      &#27880;&#24847;&#65306;&#23558;&#23481;&#22120;&#30446;&#24405;&#25346;&#36733;&#21040;&#26412;&#22320;&#30446;&#24405;&#25110;&#32773;volume&#30340;&#21306;&#21035;&#26159;&#65306;
    </p>
    <p>
      &#65288;1&#65289;&#12289;&#25346;&#36733;&#21040;&#26412;&#22320;&#30446;&#24405;&#21518;&#65292;&#21487;&#20197;&#30452;&#25509;&#25805;&#20316;&#26412;&#22320;&#30446;&#24405;&#65292;&#23601;&#30456;&#24403;&#20110;&#25805;&#20316;&#23481;&#22120;&#20869;&#30446;&#24405;
    </p>
    <p>
      &#65288;2&#65289;&#12289;&#25346;&#36733;&#21040;volume&#65292;&#21017;&#38656;&#35201;&#36816;&#34892;docker exec&#36827;&#20837;&#23481;&#22120;&#21518;&#36827;&#34892;&#25805;&#20316;
    </p>
    <p>
      --workdir, -w &#35774;&#32622;&#23481;&#22120;&#30340;&#24037;&#20316;&#30446;&#24405;
    </p>
    <p>
      --tty, -t
    </p>
    <p>
      --publish, -p &#23558;&#23481;&#22120;&#30340;&#19968;&#20010;&#31471;&#21475;&#21521;&#23487;&#20027;&#26426;&#65292;&#26684;&#24335;&#22914;&#8220;-p host_port:container_port&#8221;
    </p>
    <p>
      --interactive, -i
    </p>
    <p>
      --detach, -d &#22312;&#21518;&#21488;&#36816;&#34892;&#23481;&#22120;&#24182;&#19988;&#25171;&#21360;&#20986;&#23481;&#22120;ID
    </p>
    <p>
      --rm &#24403;&#23481;&#22120;&#20572;&#27490;&#21518;&#23558;&#20854;&#21024;&#38500;
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node CREATED="1532589895714" FOLDED="true" ID="ID_1075708747" MODIFIED="1535091466319" POSITION="left">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Docker&#31616;&#20171;
    </p>
  </body>
</html></richcontent>
<node CREATED="1532589904159" ID="ID_679356131" MODIFIED="1532590005657">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#19968;&#12289;&#20160;&#20040;&#26159;Docker
    </p>
    <p>
      1&#12289;Docker &#26368;&#21021;&#26159; dotCloud &#20844;&#21496;&#21019;&#22987;&#20154; Solomon Hykes &#22312;&#27861;&#22269;&#26399;&#38388;&#21457;&#36215;&#30340;&#19968;&#20010;&#20844;&#21496;&#20869;&#37096;&#39033;&#30446;&#65292;&#23427;&#26159;&#22522;&#20110; dotCloud &#20844;&#21496;&#22810;&#24180;&#20113;&#26381;&#21153;&#25216;&#26415;&#30340;&#19968;&#27425;&#38761;&#26032;&#65292;&#24182;&#20110; 2013 &#24180; 3 &#26376;&#20197; Apache 2.0 &#25480;&#26435;&#21327;&#35758;&#24320;&#28304;&#65292;&#20027;&#35201;&#39033;&#30446;&#20195;&#30721;&#22312; GitHub &#19978;&#36827;&#34892;&#32500;&#25252;&#12290;Docker &#39033;&#30446;&#21518;&#26469;&#36824;&#21152;&#20837;&#20102; Linux &#22522;&#37329;&#20250;&#65292;&#24182;&#25104;&#31435;&#25512;&#21160; &#24320;&#25918;&#23481;&#22120;&#32852;&#30431;&#65288;OCI&#65289;&#12290;
    </p>
    <p>
      2&#12289;Docker &#20351;&#29992; Google &#20844;&#21496;&#25512;&#20986;&#30340; Go &#35821;&#35328; &#36827;&#34892;&#24320;&#21457;&#23454;&#29616;&#65292;&#22522;&#20110; Linux &#20869;&#26680;&#30340; cgroup&#65292;namespace&#65292;&#20197;&#21450; AUFS &#31867;&#30340; Union FS &#31561;&#25216;&#26415;&#65292;&#23545;&#36827;&#31243;&#36827;&#34892;&#23553;&#35013;&#38548;&#31163;&#65292;&#23646;&#20110; &#25805;&#20316;&#31995;&#32479;&#23618;&#38754;&#30340;&#34394;&#25311;&#21270;&#25216;&#26415;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1532590030728" ID="ID_993323183" MODIFIED="1532590350525">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#20108;&#12289;&#20026;&#20160;&#20040;&#35201;&#20351;&#29992;Docker
    </p>
    <p>
      1&#12289;&#26356;&#39640;&#25928;&#30340;&#21033;&#29992;&#31995;&#32479;&#36164;&#28304;
    </p>
    <p>
      &#30001;&#20110;&#23481;&#22120;&#19981;&#38656;&#35201;&#36827;&#34892;&#30828;&#20214;&#34394;&#25311;&#20197;&#21450;&#36816;&#34892;&#23436;&#25972;&#25805;&#20316;&#31995;&#32479;&#31561;&#39069;&#22806;&#24320;&#38144;&#65292;Docker &#23545;&#31995;&#32479;&#36164;&#28304;&#30340;&#21033;&#29992;&#29575;&#26356;&#39640;&#12290;
    </p>
    <p>
      2&#12289;&#26356;&#24555;&#36895;&#30340;&#21551;&#21160;&#26102;&#38388;
    </p>
    <p>
      &#20256;&#32479;&#30340;&#34394;&#25311;&#26426;&#25216;&#26415;&#21551;&#21160;&#24212;&#29992;&#26381;&#21153;&#24448;&#24448;&#38656;&#35201;&#25968;&#20998;&#38047;&#65292;&#32780; Docker &#23481;&#22120;&#24212;&#29992;&#65292;&#30001;&#20110;&#30452;&#25509;&#36816;&#34892;&#20110;&#23487;&#20027;&#20869;&#26680;&#65292;&#26080;&#38656;&#21551;&#21160;&#23436;&#25972;&#30340;&#25805;&#20316;&#31995;&#32479;&#65292;&#22240;&#27492;&#21487;&#20197;&#20570;&#21040;&#31186;&#32423;&#12289;&#29978;&#33267;&#27627;&#31186;&#32423;&#30340;&#21551;&#21160;&#26102;&#38388;&#12290;&#22823;&#22823;&#30340;&#33410;&#32422;&#20102;&#24320;&#21457;&#12289;&#27979;&#35797;&#12289;&#37096;&#32626;&#30340;&#26102;&#38388;&#12290;
    </p>
    <p>
      3&#12289;&#19968;&#33268;&#30340;&#36816;&#34892;&#29615;&#22659;
    </p>
    <p>
      &#24320;&#21457;&#36807;&#31243;&#20013;&#19968;&#20010;&#24120;&#35265;&#30340;&#38382;&#39064;&#26159;&#29615;&#22659;&#19968;&#33268;&#24615;&#38382;&#39064;&#12290;&#30001;&#20110;&#24320;&#21457;&#29615;&#22659;&#12289;&#27979;&#35797;&#29615;&#22659;&#12289;&#29983;&#20135;&#29615;&#22659;&#19981;&#19968;&#33268;&#65292;&#23548;&#33268;&#26377;&#20123; bug &#24182;&#26410;&#22312;&#24320;&#21457;&#36807;&#31243;&#20013;&#34987;&#21457;&#29616;&#12290;&#32780; Docker &#30340;&#38236;&#20687;&#25552;&#20379;&#20102;&#38500;&#20869;&#26680;&#22806;&#23436;&#25972;&#30340;&#36816;&#34892;&#26102;&#29615;&#22659;&#65292;&#30830;&#20445;&#20102;&#24212;&#29992;&#36816;&#34892;&#29615;&#22659;&#19968;&#33268;&#24615;&#65292;&#20174;&#32780;&#19981;&#20250;&#20877;&#20986;&#29616; &#12300;&#36825;&#27573;&#20195;&#30721;&#22312;&#25105;&#26426;&#22120;&#19978;&#27809;&#38382;&#39064;&#21834;&#12301; &#36825;&#31867;&#38382;&#39064;&#12290;
    </p>
    <p>
      4&#12289;&#25345;&#32493;&#20132;&#20184;&#21644;&#37096;&#32626;
    </p>
    <p>
      5&#12289;&#26356;&#36731;&#26494;&#30340;&#36801;&#31227;
    </p>
    <p>
      6&#12289;&#26356;&#36731;&#26494;&#30340;&#32500;&#25252;&#21644;&#25193;&#23637;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1532590354294" FOLDED="true" ID="ID_1027308249" MODIFIED="1535091464491" POSITION="left" TEXT="&#x57fa;&#x672c;&#x6982;&#x5ff5;">
<node CREATED="1532590376564" ID="ID_650687013" MODIFIED="1532590851456">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#38236;&#20687;
    </p>
    <p>
      1&#12289;Docker &#38236;&#20687;&#26159;&#19968;&#20010;&#29305;&#27530;&#30340;&#25991;&#20214;&#31995;&#32479;&#65292;&#38500;&#20102;&#25552;&#20379;&#23481;&#22120;&#36816;&#34892;&#26102;&#25152;&#38656;&#30340;&#31243;&#24207;&#12289;&#24211;&#12289;&#36164;&#28304;&#12289;&#37197;&#32622;&#31561;&#25991;&#20214;&#22806;&#65292;&#36824;&#21253;&#21547;&#20102;&#19968;&#20123;&#20026;&#36816;&#34892;&#26102;&#20934;&#22791;&#30340;&#19968;&#20123;&#37197;&#32622;&#21442;&#25968;&#65288;&#22914;&#21311;&#21517;&#21367;&#12289;&#29615;&#22659;&#21464;&#37327;&#12289;&#29992;&#25143;&#31561;&#65289;&#12290;&#38236;&#20687;&#19981;&#21253;&#21547;&#20219;&#20309;&#21160;&#24577;&#25968;&#25454;&#65292;&#20854;&#20869;&#23481;&#22312;&#26500;&#24314;&#20043;&#21518;&#20063;&#19981;&#20250;&#34987;&#25913;&#21464;&#12290;
    </p>
    <p>
      2&#12289;&#20998;&#23618;&#23384;&#20648;&#30340;&#29305;&#24449;&#20351;&#24471;&#38236;&#20687;&#30340;&#22797;&#29992;&#12289;&#23450;&#21046;&#21464;&#30340;&#26356;&#20026;&#23481;&#26131;&#12290;&#29978;&#33267;&#21487;&#20197;&#29992;&#20043;&#21069;&#26500;&#24314;&#22909;&#30340;&#38236;&#20687;&#20316;&#20026;&#22522;&#30784;&#23618;&#65292;&#28982;&#21518;&#36827;&#19968;&#27493;&#28155;&#21152;&#26032;&#30340;&#23618;&#65292;&#20197;&#23450;&#21046;&#33258;&#24049;&#25152;&#38656;&#30340;&#20869;&#23481;&#65292;&#26500;&#24314;&#26032;&#30340;&#38236;&#20687;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1532590892634" ID="ID_30093594" MODIFIED="1532591213424">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#23481;&#22120;
    </p>
    <p>
      1&#12289;&#38236;&#20687;&#65288;Image&#65289;&#21644;&#23481;&#22120;&#65288;Container&#65289;&#30340;&#20851;&#31995;&#65292;&#23601;&#20687;&#26159;&#38754;&#21521;&#23545;&#35937;&#31243;&#24207;&#35774;&#35745;&#20013;&#30340; &#31867; &#21644; &#23454;&#20363; &#19968;&#26679;&#65292;&#38236;&#20687;&#26159;&#38745;&#24577;&#30340;&#23450;&#20041;&#65292;&#23481;&#22120;&#26159;&#38236;&#20687;&#36816;&#34892;&#26102;&#30340;&#23454;&#20307;&#12290;&#23481;&#22120;&#21487;&#20197;&#34987;&#21019;&#24314;&#12289;&#21551;&#21160;&#12289;&#20572;&#27490;&#12289;&#21024;&#38500;&#12289;&#26242;&#20572;&#31561;&#12290;
    </p>
    <p>
      2&#12289;&#21069;&#38754;&#35762;&#36807;&#38236;&#20687;&#20351;&#29992;&#30340;&#26159;&#20998;&#23618;&#23384;&#20648;&#65292;&#23481;&#22120;&#20063;&#26159;&#22914;&#27492;&#12290;&#27599;&#19968;&#20010;&#23481;&#22120;&#36816;&#34892;&#26102;&#65292;&#26159;&#20197;&#38236;&#20687;&#20026;&#22522;&#30784;&#23618;&#65292;&#22312;&#20854;&#19978;&#21019;&#24314;&#19968;&#20010;&#24403;&#21069;&#23481;&#22120;&#30340;&#23384;&#20648;&#23618;&#65292;&#25105;&#20204;&#21487;&#20197;&#31216;&#36825;&#20010;&#20026;&#23481;&#22120;&#36816;&#34892;&#26102;&#35835;&#20889;&#32780;&#20934;&#22791;&#30340;&#23384;&#20648;&#23618;&#20026;&#23481;&#22120;&#23384;&#20648;&#23618;&#12290;&#23481;&#22120;&#23384;&#20648;&#23618;&#30340;&#29983;&#23384;&#21608;&#26399;&#21644;&#23481;&#22120;&#19968;&#26679;&#65292;&#23481;&#22120;&#28040;&#20129;&#26102;&#65292;&#23481;&#22120;&#23384;&#20648;&#23618;&#20063;&#38543;&#20043;&#28040;&#20129;&#12290;&#22240;&#27492;&#65292;&#20219;&#20309;&#20445;&#23384;&#20110;&#23481;&#22120;&#23384;&#20648;&#23618;&#30340;&#20449;&#24687;&#37117;&#20250;&#38543;&#23481;&#22120;&#21024;&#38500;&#32780;&#20002;&#22833;&#12290;
    </p>
    <p>
      3&#12289;&#25353;&#29031; Docker &#26368;&#20339;&#23454;&#36341;&#30340;&#35201;&#27714;&#65292;&#23481;&#22120;&#19981;&#24212;&#35813;&#21521;&#20854;&#23384;&#20648;&#23618;&#20869;&#20889;&#20837;&#20219;&#20309;&#25968;&#25454;&#65292;&#23481;&#22120;&#23384;&#20648;&#23618;&#35201;&#20445;&#25345;&#26080;&#29366;&#24577;&#21270;&#12290;&#25152;&#26377;&#30340;&#25991;&#20214;&#20889;&#20837;&#25805;&#20316;&#65292;&#37117;&#24212;&#35813;&#20351;&#29992; &#25968;&#25454;&#21367;&#65288;Volume&#65289;&#12289;&#25110;&#32773;&#32465;&#23450;&#23487;&#20027;&#30446;&#24405;&#65292;&#22312;&#36825;&#20123;&#20301;&#32622;&#30340;&#35835;&#20889;&#20250;&#36339;&#36807;&#23481;&#22120;&#23384;&#20648;&#23618;&#65292;&#30452;&#25509;&#23545;&#23487;&#20027;&#65288;&#25110;&#32593;&#32476;&#23384;&#20648;&#65289;&#21457;&#29983;&#35835;&#20889;&#65292;&#20854;&#24615;&#33021;&#21644;&#31283;&#23450;&#24615;&#26356;&#39640;&#12290;
    </p>
    <p>
      4&#12289;&#25968;&#25454;&#21367;&#30340;&#29983;&#23384;&#21608;&#26399;&#29420;&#31435;&#20110;&#23481;&#22120;&#65292;&#23481;&#22120;&#28040;&#20129;&#65292;&#25968;&#25454;&#21367;&#19981;&#20250;&#28040;&#20129;&#12290;&#22240;&#27492;&#65292;&#20351;&#29992;&#25968;&#25454;&#21367;&#21518;&#65292;&#23481;&#22120;&#21024;&#38500;&#25110;&#32773;&#37325;&#26032;&#36816;&#34892;&#20043;&#21518;&#65292;&#25968;&#25454;&#21364;&#19981;&#20250;&#20002;&#22833;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1532591259504" ID="ID_67105147" MODIFIED="1532591619834">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#20179;&#24211;
    </p>
    <p>
      1&#12289;&#38236;&#20687;&#26500;&#24314;&#23436;&#25104;&#21518;&#65292;&#21487;&#20197;&#24456;&#23481;&#26131;&#30340;&#22312;&#24403;&#21069;&#23487;&#20027;&#26426;&#19978;&#36816;&#34892;&#65292;&#20294;&#26159;&#65292;&#22914;&#26524;&#38656;&#35201;&#22312;&#20854;&#23427;&#26381;&#21153;&#22120;&#19978;&#20351;&#29992;&#36825;&#20010;&#38236;&#20687;&#65292;&#25105;&#20204;&#23601;&#38656;&#35201;&#19968;&#20010;&#38598;&#20013;&#30340;&#23384;&#20648;&#12289;&#20998;&#21457;&#38236;&#20687;&#30340;&#26381;&#21153;&#65292;Docker Registry &#23601;&#26159;&#36825;&#26679;&#30340;&#26381;&#21153;&#12290;
    </p>
    <p>
      2&#12289;&#19968;&#20010; Docker Registry &#20013;&#21487;&#20197;&#21253;&#21547;&#22810;&#20010;&#20179;&#24211;&#65288;Repository&#65289;&#65307;&#27599;&#20010;&#20179;&#24211;&#21487;&#20197;&#21253;&#21547;&#22810;&#20010;&#26631;&#31614;&#65288;Tag&#65289;&#65307;&#27599;&#20010;&#26631;&#31614;&#23545;&#24212;&#19968;&#20010;&#38236;&#20687;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1532591629757" FOLDED="true" ID="ID_532100903" MODIFIED="1535091462951" POSITION="left" TEXT="&#x5b89;&#x88c5;Docker">
<node CREATED="1532592386079" ID="ID_1974437702" MODIFIED="1535091406003">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      1&#12289;&#22269;&#20869;&#20174; Docker Hub &#25289;&#21462;&#38236;&#20687;&#26377;&#26102;&#20250;&#36935;&#21040;&#22256;&#38590;&#65292;&#27492;&#26102;&#21487;&#20197;&#37197;&#32622;&#38236;&#20687;&#21152;&#36895;&#22120;&#12290;Docker &#23448;&#26041;&#21644;&#22269;&#20869;&#24456;&#22810;&#20113;&#26381;&#21153;&#21830;&#37117;&#25552;&#20379;&#20102;&#22269;&#20869;&#21152;&#36895;&#22120;&#26381;&#21153;&#65292;&#20363;&#22914;&#65306;
    </p>
    <p>
      Docker &#23448;&#26041;&#25552;&#20379;&#30340;&#20013;&#22269; registry mirror https://registry.docker-cn.com
    </p>
    <p>
      &#19971;&#29275;&#20113;&#21152;&#36895;&#22120; https://reg-mirror.qiniu.com/
    </p>
    <p>
      &#33150;&#35759;&#20113;&#21152;&#36895;&#22120;https://mirror.ccs.tencentyun.com/
    </p>
    <p>
      2&#12289;Ubuntu 14.04&#12289;Debian 7 Wheezy
    </p>
    <p>
      &#23545;&#20110;&#20351;&#29992; upstart &#30340;&#31995;&#32479;&#32780;&#35328;&#65292;&#32534;&#36753; /etc/default/docker &#25991;&#20214;&#65292;&#22312;&#20854;&#20013;&#30340; DOCKER_OPTS &#20013;&#37197;&#32622;&#21152;&#36895;&#22120;&#22320;&#22336;&#65306;
    </p>
    <p>
      DOCKER_OPTS=&quot;--registry-mirror=https://registry.docker-cn.com&quot; &#37325;&#26032;&#21551;&#21160;&#26381;&#21153;&#12290;
    </p>
    <p>
      $ sudo service docker restart
    </p>
    <p>
      3&#12289;Ubuntu 16.04+&#12289;Debian 8+&#12289;CentOS 7
    </p>
    <p>
      &#23545;&#20110;&#20351;&#29992; systemd &#30340;&#31995;&#32479;&#65292;&#35831;&#22312; /etc/docker/daemon.json &#20013;&#20889;&#20837;&#22914;&#19979;&#20869;&#23481;&#65288;&#22914;&#26524;&#25991;&#20214;&#19981;&#23384;&#22312;&#35831;&#26032;&#24314;&#35813;&#25991;&#20214;&#65289;
    </p>
    <p>
      &#160;{ &quot;registry-mirrors&quot;: [ &quot;https://registry.docker-cn.com&quot; ] }
    </p>
    <p>
      &#160;&#27880;&#24847;&#65292;&#19968;&#23450;&#35201;&#20445;&#35777;&#35813;&#25991;&#20214;&#31526;&#21512; json &#35268;&#33539;&#65292;&#21542;&#21017; Docker &#23558;&#19981;&#33021;&#21551;&#21160;&#12290; &#20043;&#21518;&#37325;&#26032;&#21551;&#21160;&#26381;&#21153;&#12290;
    </p>
    <p>
      $ sudo systemctl daemon-reload
    </p>
    <p>
      $ sudo systemctl restart docker
    </p>
    <p>
      4&#12289;&#26816;&#26597;&#21152;&#36895;&#22120;&#26159;&#21542;&#29983;&#25928;
    </p>
    <p>
      &#37197;&#32622;&#21152;&#36895;&#22120;&#20043;&#21518;&#65292;&#22914;&#26524;&#25289;&#21462;&#38236;&#20687;&#20173;&#28982;&#21313;&#20998;&#32531;&#24930;&#65292;&#35831;&#25163;&#21160;&#26816;&#26597;&#21152;&#36895;&#22120;&#37197;&#32622;&#26159;&#21542;&#29983;&#25928;&#65292;&#22312;&#21629;&#20196;&#34892;&#25191;&#34892; docker info&#65292;&#22914;&#26524;&#20174;&#32467;&#26524;&#20013;&#30475;&#21040;&#20102;&#22914;&#19979;&#20869;&#23481;&#65292;&#35828;&#26126;&#37197;&#32622;&#25104;&#21151;&#12290;
    </p>
    <p>
      Registry Mirrors:
    </p>
    <p>
      &#160;&#160;&#160;https://registry.docker-cn.com/
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1532599527589" FOLDED="true" ID="ID_703602351" MODIFIED="1535632456902" POSITION="left" TEXT="&#x4f7f;&#x7528;&#x955c;&#x50cf;">
<node CREATED="1532603253279" ID="ID_1243628752" MODIFIED="1532604998289">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#33719;&#21462;&#38236;&#20687;
    </p>
    <p>
      1&#12289;&#20174; Docker &#38236;&#20687;&#20179;&#24211;&#33719;&#21462;&#38236;&#20687;&#30340;&#21629;&#20196;&#26159; docker pull&#12290;&#20854;&#21629;&#20196;&#26684;&#24335;&#20026;&#65306;
    </p>
    <p>
      docker pull [&#36873;&#39033;] [Docker Registry &#22320;&#22336;[:&#31471;&#21475;&#21495;]/]&#20179;&#24211;&#21517;[:&#26631;&#31614;]
    </p>
    <p>
      2&#12289;Docker &#38236;&#20687;&#20179;&#24211;&#22320;&#22336;&#65306;&#22320;&#22336;&#30340;&#26684;&#24335;&#19968;&#33324;&#26159; &lt;&#22495;&#21517;/IP&gt;[:&#31471;&#21475;&#21495;]&#12290;&#40664;&#35748;&#22320;&#22336;&#26159; Docker Hub&#12290;
    </p>
    <p>
      3&#12289;&#20179;&#24211;&#21517;&#65306;&#22914;&#20043;&#21069;&#25152;&#35828;&#65292;&#36825;&#37324;&#30340;&#20179;&#24211;&#21517;&#26159;&#20004;&#27573;&#24335;&#21517;&#31216;&#65292;&#21363; &lt;&#29992;&#25143;&#21517;&gt;/&lt;&#36719;&#20214;&#21517;&gt;&#12290;&#23545;&#20110; Docker Hub&#65292;&#22914;&#26524;&#19981;&#32473;&#20986;&#29992;&#25143;&#21517;&#65292;&#21017;&#40664;&#35748;&#20026; library&#65292;&#20063;&#23601;&#26159;&#23448;&#26041;&#38236;&#20687;&#12290;
    </p>
    <p>
      4&#12289;&#26377;&#20102;&#38236;&#20687;&#21518;&#65292;&#25105;&#20204;&#23601;&#33021;&#22815;&#20197;&#36825;&#20010;&#38236;&#20687;&#20026;&#22522;&#30784;&#21551;&#21160;&#24182;&#36816;&#34892;&#19968;&#20010;&#23481;&#22120;&#12290;&#20197;&#19978;&#38754;&#30340; ubuntu:16.04 &#20026;&#20363;&#65292;&#22914;&#26524;&#25105;&#20204;&#25171;&#31639;&#21551;&#21160;&#37324;&#38754;&#30340; bash &#24182;&#19988;&#36827;&#34892;&#20132;&#20114;&#24335;&#25805;&#20316;&#30340;&#35805;&#65292;&#21487;&#20197;&#25191;&#34892;&#19979;&#38754;&#30340;&#21629;&#20196;&#12290;
    </p>
    <p>
      $ docker run -it --rm ubuntu:16.04 bash
    </p>
    <p>
      -it&#65306;&#36825;&#26159;&#20004;&#20010;&#21442;&#25968;&#65292;&#19968;&#20010;&#26159; -i&#65306;&#20132;&#20114;&#24335;&#25805;&#20316;&#65292;&#19968;&#20010;&#26159; -t &#32456;&#31471;&#12290;&#25105;&#20204;&#36825;&#37324;&#25171;&#31639;&#36827;&#20837; bash &#25191;&#34892;&#19968;&#20123;&#21629;&#20196;&#24182;&#26597;&#30475;&#36820;&#22238;&#32467;&#26524;&#65292;&#22240;&#27492;&#25105;&#20204;&#38656;&#35201;&#20132;&#20114;&#24335;&#32456;&#31471;&#12290;
    </p>
    <p>
      --rm&#65306;&#36825;&#20010;&#21442;&#25968;&#26159;&#35828;&#23481;&#22120;&#36864;&#20986;&#21518;&#38543;&#20043;&#23558;&#20854;&#21024;&#38500;&#12290;&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#20026;&#20102;&#25490;&#38556;&#38656;&#27714;&#65292;&#36864;&#20986;&#30340;&#23481;&#22120;&#24182;&#19981;&#20250;&#31435;&#21363;&#21024;&#38500;&#65292;&#38500;&#38750;&#25163;&#21160; docker rm&#12290;&#25105;&#20204;&#36825;&#37324;&#21482;&#26159;&#38543;&#20415;&#25191;&#34892;&#20010;&#21629;&#20196;&#65292;&#30475;&#30475;&#32467;&#26524;&#65292;&#19981;&#38656;&#35201;&#25490;&#38556;&#21644;&#20445;&#30041;&#32467;&#26524;&#65292;&#22240;&#27492;&#20351;&#29992; --rm &#21487;&#20197;&#36991;&#20813;&#28010;&#36153;&#31354;&#38388;&#12290;
    </p>
    <p>
      ubuntu:16.04&#65306;&#36825;&#26159;&#25351;&#29992; ubuntu:16.04 &#38236;&#20687;&#20026;&#22522;&#30784;&#26469;&#21551;&#21160;&#23481;&#22120;&#12290;
    </p>
    <p>
      bash&#65306;&#25918;&#22312;&#38236;&#20687;&#21517;&#21518;&#30340;&#26159;&#21629;&#20196;&#65292;&#36825;&#37324;&#25105;&#20204;&#24076;&#26395;&#26377;&#20010;&#20132;&#20114;&#24335; Shell&#65292;&#22240;&#27492;&#29992;&#30340;&#26159; bash&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1532605746535" ID="ID_1384680406" MODIFIED="1532606270032">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#21015;&#20986;&#38236;&#20687;
    </p>
    <p>
      1&#12289;docker image ls
    </p>
    <p>
      $ docker image ls
    </p>
    <p>
      REPOSITORY&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TAG&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;IMAGE ID&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;CREATED&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SIZE
    </p>
    <p>
      redis&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;5f515359c7f8&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;5 days ago&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;183 MB
    </p>
    <p>
      &lt;none&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;none&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;00285df0df87&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;5 days ago&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;342 MB
    </p>
    <p>
      &#21015;&#34920;&#21253;&#21547;&#20102; &#20179;&#24211;&#21517;&#12289;&#26631;&#31614;&#12289;&#38236;&#20687; ID&#12289;&#21019;&#24314;&#26102;&#38388; &#20197;&#21450; &#25152;&#21344;&#29992;&#30340;&#31354;&#38388;&#12290;
    </p>
    <p>
      2&#12289;docker image ls &#21015;&#34920;&#20013;&#30340;&#38236;&#20687;&#20307;&#31215;&#24635;&#21644;&#24182;&#38750;&#26159;&#25152;&#26377;&#38236;&#20687;&#23454;&#38469;&#30828;&#30424;&#28040;&#32791;&#12290;&#30001;&#20110; Docker &#38236;&#20687;&#26159;&#22810;&#23618;&#23384;&#20648;&#32467;&#26500;&#65292;&#24182;&#19988;&#21487;&#20197;&#32487;&#25215;&#12289;&#22797;&#29992;&#65292;&#22240;&#27492;&#19981;&#21516;&#38236;&#20687;&#21487;&#33021;&#20250;&#22240;&#20026;&#20351;&#29992;&#30456;&#21516;&#30340;&#22522;&#30784;&#38236;&#20687;&#65292;&#20174;&#32780;&#25317;&#26377;&#20849;&#21516;&#30340;&#23618;&#12290;&#30001;&#20110; Docker &#20351;&#29992; Union FS&#65292;&#30456;&#21516;&#30340;&#23618;&#21482;&#38656;&#35201;&#20445;&#23384;&#19968;&#20221;&#21363;&#21487;&#65292;&#22240;&#27492;&#23454;&#38469;&#38236;&#20687;&#30828;&#30424;&#21344;&#29992;&#31354;&#38388;&#24456;&#21487;&#33021;&#35201;&#27604;&#36825;&#20010;&#21015;&#34920;&#38236;&#20687;&#22823;&#23567;&#30340;&#24635;&#21644;&#35201;&#23567;&#30340;&#22810;&#12290;
    </p>
    <p>
      3&#12289;&#20320;&#21487;&#20197;&#36890;&#36807;&#20197;&#19979;&#21629;&#20196;&#26469;&#20415;&#25463;&#30340;&#26597;&#30475;&#38236;&#20687;&#12289;&#23481;&#22120;&#12289;&#25968;&#25454;&#21367;&#25152;&#21344;&#29992;&#30340;&#31354;&#38388;&#12290;
    </p>
    <p>
      $ docker system df
    </p>
    <p>
      TYPE&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TOTAL&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ACTIVE&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SIZE&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;RECLAIMABLE
    </p>
    <p>
      Images&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;24&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;1.992GB&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;1.992GB (100%)
    </p>
    <p>
      Containers&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;62.82MB&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;62.82MB (100%)
    </p>
    <p>
      Local Volumes&#160;&#160;&#160;&#160;&#160;&#160;&#160;9&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;652.2MB&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;652.2MB (100%)
    </p>
    <p>
      Build Cache&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0B&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;0B
    </p>
    <p>
      4&#12289;&#34394;&#24748;&#38236;&#20687;
    </p>
    <p>
      &#19978;&#38754;&#30340;&#38236;&#20687;&#21015;&#34920;&#20013;&#65292;&#36824;&#21487;&#20197;&#30475;&#21040;&#19968;&#20010;&#29305;&#27530;&#30340;&#38236;&#20687;&#65292;&#36825;&#20010;&#38236;&#20687;&#26082;&#27809;&#26377;&#20179;&#24211;&#21517;&#65292;&#20063;&#27809;&#26377;&#26631;&#31614;&#65292;&#22343;&#20026; &lt;none&gt;&#12290;&#65306;
    </p>
    <p>
      &lt;none&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;none&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;00285df0df87&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;5 days ago&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;342 MB
    </p>
    <p>
      &#36825;&#20010;&#38236;&#20687;&#21407;&#26412;&#26159;&#26377;&#38236;&#20687;&#21517;&#21644;&#26631;&#31614;&#30340;&#65292;&#21407;&#26469;&#20026; mongo:3.2&#65292;&#38543;&#30528;&#23448;&#26041;&#38236;&#20687;&#32500;&#25252;&#65292;&#21457;&#24067;&#20102;&#26032;&#29256;&#26412;&#21518;&#65292;&#37325;&#26032; docker pull mongo:3.2 &#26102;&#65292;mongo:3.2 &#36825;&#20010;&#38236;&#20687;&#21517;&#34987;&#36716;&#31227;&#21040;&#20102;&#26032;&#19979;&#36733;&#30340;&#38236;&#20687;&#36523;&#19978;&#65292;&#32780;&#26087;&#30340;&#38236;&#20687;&#19978;&#30340;&#36825;&#20010;&#21517;&#31216;&#21017;&#34987;&#21462;&#28040;&#65292;&#20174;&#32780;&#25104;&#20026;&#20102; &lt;none&gt;&#12290;&#38500;&#20102; docker pull &#21487;&#33021;&#23548;&#33268;&#36825;&#31181;&#24773;&#20917;&#65292;docker build &#20063;&#21516;&#26679;&#21487;&#20197;&#23548;&#33268;&#36825;&#31181;&#29616;&#35937;&#12290;&#30001;&#20110;&#26032;&#26087;&#38236;&#20687;&#21516;&#21517;&#65292;&#26087;&#38236;&#20687;&#21517;&#31216;&#34987;&#21462;&#28040;&#65292;&#20174;&#32780;&#20986;&#29616;&#20179;&#24211;&#21517;&#12289;&#26631;&#31614;&#22343;&#20026; &lt;none&gt; &#30340;&#38236;&#20687;&#12290;&#36825;&#31867;&#26080;&#26631;&#31614;&#38236;&#20687;&#20063;&#34987;&#31216;&#20026; &#34394;&#24748;&#38236;&#20687;(dangling image) &#65292;&#21487;&#20197;&#29992;&#19979;&#38754;&#30340;&#21629;&#20196;&#19987;&#38376;&#26174;&#31034;&#36825;&#31867;&#38236;&#20687;&#65306;
    </p>
    <p>
      $ docker image ls -f dangling=true
    </p>
    <p>
      REPOSITORY&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TAG&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;IMAGE ID&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;CREATED&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;SIZE
    </p>
    <p>
      &lt;none&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;none&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;00285df0df87&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;5 days ago&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;342 MB
    </p>
    <p>
      &#19968;&#33324;&#26469;&#35828;&#65292;&#34394;&#24748;&#38236;&#20687;&#24050;&#32463;&#22833;&#21435;&#20102;&#23384;&#22312;&#30340;&#20215;&#20540;&#65292;&#26159;&#21487;&#20197;&#38543;&#24847;&#21024;&#38500;&#30340;&#65292;&#21487;&#20197;&#29992;&#19979;&#38754;&#30340;&#21629;&#20196;&#21024;&#38500;&#12290;
    </p>
    <p>
      $ docker image prune
    </p>
    <p>
      5&#12289;&#20013;&#38388;&#23618;&#38236;&#20687;
    </p>
    <p>
      &#20026;&#20102;&#21152;&#36895;&#38236;&#20687;&#26500;&#24314;&#12289;&#37325;&#22797;&#21033;&#29992;&#36164;&#28304;&#65292;Docker &#20250;&#21033;&#29992; &#20013;&#38388;&#23618;&#38236;&#20687;&#12290;&#25152;&#20197;&#22312;&#20351;&#29992;&#19968;&#27573;&#26102;&#38388;&#21518;&#65292;&#21487;&#33021;&#20250;&#30475;&#21040;&#19968;&#20123;&#20381;&#36182;&#30340;&#20013;&#38388;&#23618;&#38236;&#20687;&#12290;&#40664;&#35748;&#30340; docker image ls &#21015;&#34920;&#20013;&#21482;&#20250;&#26174;&#31034;&#39030;&#23618;&#38236;&#20687;&#65292;&#22914;&#26524;&#24076;&#26395;&#26174;&#31034;&#21253;&#25324;&#20013;&#38388;&#23618;&#38236;&#20687;&#22312;&#20869;&#30340;&#25152;&#26377;&#38236;&#20687;&#30340;&#35805;&#65292;&#38656;&#35201;&#21152; -a &#21442;&#25968;&#12290;
    </p>
    <p>
      $ docker image ls -a
    </p>
    <p>
      &#36825;&#26679;&#20250;&#30475;&#21040;&#24456;&#22810;&#26080;&#26631;&#31614;&#30340;&#38236;&#20687;&#65292;&#19982;&#20043;&#21069;&#30340;&#34394;&#24748;&#38236;&#20687;&#19981;&#21516;&#65292;&#36825;&#20123;&#26080;&#26631;&#31614;&#30340;&#38236;&#20687;&#24456;&#22810;&#37117;&#26159;&#20013;&#38388;&#23618;&#38236;&#20687;&#65292;&#26159;&#20854;&#23427;&#38236;&#20687;&#25152;&#20381;&#36182;&#30340;&#38236;&#20687;&#12290;&#36825;&#20123;&#26080;&#26631;&#31614;&#38236;&#20687;&#19981;&#24212;&#35813;&#21024;&#38500;&#65292;&#21542;&#21017;&#20250;&#23548;&#33268;&#19978;&#23618;&#38236;&#20687;&#22240;&#20026;&#20381;&#36182;&#20002;&#22833;&#32780;&#20986;&#38169;&#12290;&#23454;&#38469;&#19978;&#65292;&#36825;&#20123;&#38236;&#20687;&#20063;&#27809;&#24517;&#35201;&#21024;&#38500;&#65292;&#22240;&#20026;&#20043;&#21069;&#35828;&#36807;&#65292;&#30456;&#21516;&#30340;&#23618;&#21482;&#20250;&#23384;&#19968;&#36941;&#65292;&#32780;&#36825;&#20123;&#38236;&#20687;&#26159;&#21035;&#30340;&#38236;&#20687;&#30340;&#20381;&#36182;&#65292;&#22240;&#27492;&#24182;&#19981;&#20250;&#22240;&#20026;&#23427;&#20204;&#34987;&#21015;&#20986;&#26469;&#32780;&#22810;&#23384;&#20102;&#19968;&#20221;&#65292;&#26080;&#35770;&#22914;&#20309;&#20320;&#20063;&#20250;&#38656;&#35201;&#23427;&#20204;&#12290;&#21482;&#35201;&#21024;&#38500;&#37027;&#20123;&#20381;&#36182;&#23427;&#20204;&#30340;&#38236;&#20687;&#21518;&#65292;&#36825;&#20123;&#20381;&#36182;&#30340;&#20013;&#38388;&#23618;&#38236;&#20687;&#20063;&#20250;&#34987;&#36830;&#24102;&#21024;&#38500;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1532606507803" ID="ID_585229897" MODIFIED="1532606906071">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#21024;&#38500;&#26412;&#22320;&#38236;&#20687;
    </p>
    <p>
      1&#12289;&#22914;&#26524;&#35201;&#21024;&#38500;&#26412;&#22320;&#30340;&#38236;&#20687;&#65292;&#21487;&#20197;&#20351;&#29992; docker image rm &#21629;&#20196;&#65292;&#20854;&#26684;&#24335;&#20026;&#65306;
    </p>
    <p>
      $ docker image rm [&#36873;&#39033;] &lt;&#38236;&#20687;1&gt; [&lt;&#38236;&#20687;2&gt; ...]
    </p>
    <p>
      &#20854;&#20013;&#65292;&lt;&#38236;&#20687;&gt; &#21487;&#20197;&#26159; &#38236;&#20687;&#30701; ID&#12289;&#38236;&#20687;&#38271; ID&#12289;&#38236;&#20687;&#21517; &#25110;&#32773; &#38236;&#20687;&#25688;&#35201;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1532673439246" ID="ID_371038715" MODIFIED="1532674162694">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#21033;&#29992;commit&#29702;&#35299;&#38236;&#20687;&#26500;&#25104;
    </p>
    <p>
      1&#12289;&#27880;&#24847;&#65306; docker commit &#21629;&#20196;&#38500;&#20102;&#23398;&#20064;&#20043;&#22806;&#65292;&#36824;&#26377;&#19968;&#20123;&#29305;&#27530;&#30340;&#24212;&#29992;&#22330;&#21512;&#65292;&#27604;&#22914;&#34987;&#20837;&#20405;&#21518;&#20445;&#23384;&#29616;&#22330;&#31561;&#12290;&#20294;&#26159;&#65292;&#19981;&#35201;&#20351;&#29992; docker commit &#23450;&#21046;&#38236;&#20687;&#65292;&#23450;&#21046;&#38236;&#20687;&#24212;&#35813;&#20351;&#29992; Dockerfile &#26469;&#23436;&#25104;&#12290;
    </p>
    <p>
      2&#12289;&#24403;&#25105;&#20204;&#36816;&#34892;&#19968;&#20010;&#23481;&#22120;&#30340;&#26102;&#20505;&#65288;&#22914;&#26524;&#19981;&#20351;&#29992;&#21367;&#30340;&#35805;&#65289;&#65292;&#25105;&#20204;&#20570;&#30340;&#20219;&#20309;&#25991;&#20214;&#20462;&#25913;&#37117;&#20250;&#34987;&#35760;&#24405;&#20110;&#23481;&#22120;&#23384;&#20648;&#23618;&#37324;&#12290;&#32780; Docker &#25552;&#20379;&#20102;&#19968;&#20010; docker commit &#21629;&#20196;&#65292;&#21487;&#20197;&#23558;&#23481;&#22120;&#30340;&#23384;&#20648;&#23618;&#20445;&#23384;&#19979;&#26469;&#25104;&#20026;&#38236;&#20687;&#12290;&#25442;&#21477;&#35805;&#35828;&#65292;&#23601;&#26159;&#22312;&#21407;&#26377;&#38236;&#20687;&#30340;&#22522;&#30784;&#19978;&#65292;&#20877;&#21472;&#21152;&#19978;&#23481;&#22120;&#30340;&#23384;&#20648;&#23618;&#65292;&#24182;&#26500;&#25104;&#26032;&#30340;&#38236;&#20687;&#12290;&#20197;&#21518;&#25105;&#20204;&#36816;&#34892;&#36825;&#20010;&#26032;&#38236;&#20687;&#30340;&#26102;&#20505;&#65292;&#23601;&#20250;&#25317;&#26377;&#21407;&#26377;&#23481;&#22120;&#26368;&#21518;&#30340;&#25991;&#20214;&#21464;&#21270;&#12290;
    </p>
    <p>
      docker commit &#30340;&#35821;&#27861;&#26684;&#24335;&#20026;&#65306;
    </p>
    <p>
      docker commit [&#36873;&#39033;] &lt;&#23481;&#22120;ID&#25110;&#23481;&#22120;&#21517;&gt; [&lt;&#20179;&#24211;&#21517;&gt;[:&lt;&#26631;&#31614;&gt;]]
    </p>
    <p>
      3&#12289;&#22914;&#26524;&#20180;&#32454;&#35266;&#23519;&#20043;&#21069;&#30340; docker diff webserver &#30340;&#32467;&#26524;&#65292;&#20320;&#20250;&#21457;&#29616;&#38500;&#20102;&#30495;&#27491;&#24819;&#35201;&#20462;&#25913;&#30340; /usr/share/nginx/html/index.html &#25991;&#20214;&#22806;&#65292;&#30001;&#20110;&#21629;&#20196;&#30340;&#25191;&#34892;&#65292;&#36824;&#26377;&#24456;&#22810;&#25991;&#20214;&#34987;&#25913;&#21160;&#25110;&#28155;&#21152;&#20102;&#12290;&#36825;&#36824;&#20165;&#20165;&#26159;&#26368;&#31616;&#21333;&#30340;&#25805;&#20316;&#65292;&#22914;&#26524;&#26159;&#23433;&#35013;&#36719;&#20214;&#21253;&#12289;&#32534;&#35793;&#26500;&#24314;&#65292;&#37027;&#20250;&#26377;&#22823;&#37327;&#30340;&#26080;&#20851;&#20869;&#23481;&#34987;&#28155;&#21152;&#36827;&#26469;&#65292;&#22914;&#26524;&#19981;&#23567;&#24515;&#28165;&#29702;&#65292;&#23558;&#20250;&#23548;&#33268;&#38236;&#20687;&#26497;&#20026;&#33219;&#32959;&#12290;
    </p>
    <p>
      4&#12289;&#20351;&#29992; docker commit &#24847;&#21619;&#30528;&#25152;&#26377;&#23545;&#38236;&#20687;&#30340;&#25805;&#20316;&#37117;&#26159;&#40657;&#31665;&#25805;&#20316;&#65292;&#29983;&#25104;&#30340;&#38236;&#20687;&#20063;&#34987;&#31216;&#20026;&#40657;&#31665;&#38236;&#20687;&#65292;&#25442;&#21477;&#35805;&#35828;&#65292;&#23601;&#26159;&#38500;&#20102;&#21046;&#20316;&#38236;&#20687;&#30340;&#20154;&#30693;&#36947;&#25191;&#34892;&#36807;&#20160;&#20040;&#21629;&#20196;&#12289;&#24590;&#20040;&#29983;&#25104;&#30340;&#38236;&#20687;&#65292;&#21035;&#20154;&#26681;&#26412;&#26080;&#20174;&#24471;&#30693;&#12290;&#32780;&#19988;&#65292;&#21363;&#20351;&#26159;&#36825;&#20010;&#21046;&#20316;&#38236;&#20687;&#30340;&#20154;&#65292;&#36807;&#19968;&#27573;&#26102;&#38388;&#21518;&#20063;&#26080;&#27861;&#35760;&#28165;&#20855;&#20307;&#22312;&#25805;&#20316;&#30340;&#12290;&#34429;&#28982; docker diff &#25110;&#35768;&#21487;&#20197;&#21578;&#35785;&#24471;&#21040;&#19968;&#20123;&#32447;&#32034;&#65292;&#20294;&#26159;&#36828;&#36828;&#19981;&#21040;&#21487;&#20197;&#30830;&#20445;&#29983;&#25104;&#19968;&#33268;&#38236;&#20687;&#30340;&#22320;&#27493;&#12290;&#36825;&#31181;&#40657;&#31665;&#38236;&#20687;&#30340;&#32500;&#25252;&#24037;&#20316;&#26159;&#38750;&#24120;&#30171;&#33510;&#30340;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1532674165079" ID="ID_1813637665" MODIFIED="1532675864060">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#21033;&#29992;Dockerfile&#23450;&#21046;&#38236;&#20687;
    </p>
    <p>
      1&#12289;&#20174;&#21018;&#25165;&#30340; docker commit &#30340;&#23398;&#20064;&#20013;&#65292;&#25105;&#20204;&#21487;&#20197;&#20102;&#35299;&#21040;&#65292;&#38236;&#20687;&#30340;&#23450;&#21046;&#23454;&#38469;&#19978;&#23601;&#26159;&#23450;&#21046;&#27599;&#19968;&#23618;&#25152;&#28155;&#21152;&#30340;&#37197;&#32622;&#12289;&#25991;&#20214;&#12290;&#22914;&#26524;&#25105;&#20204;&#21487;&#20197;&#25226;&#27599;&#19968;&#23618;&#20462;&#25913;&#12289;&#23433;&#35013;&#12289;&#26500;&#24314;&#12289;&#25805;&#20316;&#30340;&#21629;&#20196;&#37117;&#20889;&#20837;&#19968;&#20010;&#33050;&#26412;&#65292;&#29992;&#36825;&#20010;&#33050;&#26412;&#26469;&#26500;&#24314;&#12289;&#23450;&#21046;&#38236;&#20687;&#65292;&#37027;&#20040;&#20043;&#21069;&#25552;&#21450;&#30340;&#26080;&#27861;&#37325;&#22797;&#30340;&#38382;&#39064;&#12289;&#38236;&#20687;&#26500;&#24314;&#36879;&#26126;&#24615;&#30340;&#38382;&#39064;&#12289;&#20307;&#31215;&#30340;&#38382;&#39064;&#23601;&#37117;&#20250;&#35299;&#20915;&#12290;&#36825;&#20010;&#33050;&#26412;&#23601;&#26159; Dockerfile&#12290;
    </p>
    <p>
      2&#12289;Dockerfile &#26159;&#19968;&#20010;&#25991;&#26412;&#25991;&#20214;&#65292;&#20854;&#20869;&#21253;&#21547;&#20102;&#19968;&#26465;&#26465;&#30340;&#25351;&#20196;(Instruction)&#65292;&#27599;&#19968;&#26465;&#25351;&#20196;&#26500;&#24314;&#19968;&#23618;&#65292;&#22240;&#27492;&#27599;&#19968;&#26465;&#25351;&#20196;&#30340;&#20869;&#23481;&#65292;&#23601;&#26159;&#25551;&#36848;&#35813;&#23618;&#24212;&#24403;&#22914;&#20309;&#26500;&#24314;&#12290;
    </p>
    <p>
      3&#12289;FROM &#25351;&#23450;&#22522;&#30784;&#38236;&#20687;
    </p>
    <p>
      &#65288;1&#65289;&#12289;&#25152;&#35859;&#23450;&#21046;&#38236;&#20687;&#65292;&#37027;&#19968;&#23450;&#26159;&#20197;&#19968;&#20010;&#38236;&#20687;&#20026;&#22522;&#30784;&#65292;&#22312;&#20854;&#19978;&#36827;&#34892;&#23450;&#21046;&#12290;&#23601;&#20687;&#25105;&#20204;&#20043;&#21069;&#36816;&#34892;&#20102;&#19968;&#20010; nginx &#38236;&#20687;&#30340;&#23481;&#22120;&#65292;&#20877;&#36827;&#34892;&#20462;&#25913;&#19968;&#26679;&#65292;&#22522;&#30784;&#38236;&#20687;&#26159;&#24517;&#39035;&#25351;&#23450;&#30340;&#12290;&#32780; FROM &#23601;&#26159;&#25351;&#23450;&#22522;&#30784;&#38236;&#20687;&#65292;&#22240;&#27492;&#19968;&#20010; Dockerfile &#20013; FROM &#26159;&#24517;&#22791;&#30340;&#25351;&#20196;&#65292;&#24182;&#19988;&#24517;&#39035;&#26159;&#31532;&#19968;&#26465;&#25351;&#20196;&#12290;
    </p>
    <p>
      &#65288;2&#65289;&#12289;&#38500;&#20102;&#36873;&#25321;&#29616;&#26377;&#38236;&#20687;&#20026;&#22522;&#30784;&#38236;&#20687;&#22806;&#65292;Docker &#36824;&#23384;&#22312;&#19968;&#20010;&#29305;&#27530;&#30340;&#38236;&#20687;&#65292;&#21517;&#20026; scratch&#12290;&#36825;&#20010;&#38236;&#20687;&#26159;&#34394;&#25311;&#30340;&#27010;&#24565;&#65292;&#24182;&#19981;&#23454;&#38469;&#23384;&#22312;&#65292;&#23427;&#34920;&#31034;&#19968;&#20010;&#31354;&#30333;&#30340;&#38236;&#20687;&#12290;
    </p>
    <p>
      FROM scratch
    </p>
    <p>
      ...
    </p>
    <p>
      &#22914;&#26524;&#20320;&#20197; scratch &#20026;&#22522;&#30784;&#38236;&#20687;&#30340;&#35805;&#65292;&#24847;&#21619;&#30528;&#20320;&#19981;&#20197;&#20219;&#20309;&#38236;&#20687;&#20026;&#22522;&#30784;&#65292;&#25509;&#19979;&#26469;&#25152;&#20889;&#30340;&#25351;&#20196;&#23558;&#20316;&#20026;&#38236;&#20687;&#31532;&#19968;&#23618;&#24320;&#22987;&#23384;&#22312;&#12290;
    </p>
    <p>
      4&#12289;RUN &#25191;&#34892;&#21629;&#20196;
    </p>
    <p>
      RUN &#25351;&#20196;&#26159;&#29992;&#26469;&#25191;&#34892;&#21629;&#20196;&#34892;&#21629;&#20196;&#30340;&#12290;&#30001;&#20110;&#21629;&#20196;&#34892;&#30340;&#24378;&#22823;&#33021;&#21147;&#65292;RUN &#25351;&#20196;&#22312;&#23450;&#21046;&#38236;&#20687;&#26102;&#26159;&#26368;&#24120;&#29992;&#30340;&#25351;&#20196;&#20043;&#19968;&#12290;&#20854;&#26684;&#24335;&#26377;&#20004;&#31181;&#65306;
    </p>
    <p>
      shell &#26684;&#24335;&#65306;RUN &lt;&#21629;&#20196;&gt;&#65292;&#23601;&#20687;&#30452;&#25509;&#22312;&#21629;&#20196;&#34892;&#20013;&#36755;&#20837;&#30340;&#21629;&#20196;&#19968;&#26679;&#12290;&#21018;&#25165;&#20889;&#30340; Dockerfile &#20013;&#30340; RUN &#25351;&#20196;&#23601;&#26159;&#36825;&#31181;&#26684;&#24335;&#12290;
    </p>
    <p>
      RUN echo '&lt;h1&gt;Hello, Docker!&lt;/h1&gt;' &gt; /usr/share/nginx/html/index.html
    </p>
    <p>
      exec &#26684;&#24335;&#65306;RUN [&quot;&#21487;&#25191;&#34892;&#25991;&#20214;&quot;, &quot;&#21442;&#25968;1&quot;, &quot;&#21442;&#25968;2&quot;]&#65292;&#36825;&#26356;&#20687;&#26159;&#20989;&#25968;&#35843;&#29992;&#20013;&#30340;&#26684;&#24335;&#12290;
    </p>
    <p>
      &#26082;&#28982; RUN &#23601;&#20687; Shell &#33050;&#26412;&#19968;&#26679;&#21487;&#20197;&#25191;&#34892;&#21629;&#20196;&#65292;&#37027;&#20040;&#25105;&#20204;&#26159;&#21542;&#23601;&#21487;&#20197;&#20687; Shell &#33050;&#26412;&#19968;&#26679;&#25226;&#27599;&#20010;&#21629;&#20196;&#23545;&#24212;&#19968;&#20010; RUN &#21602;&#65311;&#27604;&#22914;&#36825;&#26679;&#65306;
    </p>
    <p>
      FROM debian:jessie
    </p>
    <p>
      RUN apt-get update
    </p>
    <p>
      RUN apt-get install -y gcc libc6-dev make
    </p>
    <p>
      RUN wget -O redis.tar.gz &quot;http://download.redis.io/releases/redis-3.2.5.tar.gz&quot;
    </p>
    <p>
      RUN mkdir -p /usr/src/redis
    </p>
    <p>
      RUN tar -xzf redis.tar.gz -C /usr/src/redis --strip-components=1
    </p>
    <p>
      RUN make -C /usr/src/redis
    </p>
    <p>
      RUN make -C /usr/src/redis install
    </p>
    <p>
      &#20043;&#21069;&#35828;&#36807;&#65292;Dockerfile &#20013;&#27599;&#19968;&#20010;&#25351;&#20196;&#37117;&#20250;&#24314;&#31435;&#19968;&#23618;&#65292;RUN &#20063;&#19981;&#20363;&#22806;&#12290;&#27599;&#19968;&#20010; RUN &#30340;&#34892;&#20026;&#65292;&#23601;&#21644;&#21018;&#25165;&#25105;&#20204;&#25163;&#24037;&#24314;&#31435;&#38236;&#20687;&#30340;&#36807;&#31243;&#19968;&#26679;&#65306;&#26032;&#24314;&#31435;&#19968;&#23618;&#65292;&#22312;&#20854;&#19978;&#25191;&#34892;&#36825;&#20123;&#21629;&#20196;&#65292;&#25191;&#34892;&#32467;&#26463;&#21518;&#65292;commit &#36825;&#19968;&#23618;&#30340;&#20462;&#25913;&#65292;&#26500;&#25104;&#26032;&#30340;&#38236;&#20687;&#12290;
    </p>
    <p>
      &#32780;&#19978;&#38754;&#30340;&#36825;&#31181;&#20889;&#27861;&#65292;&#21019;&#24314;&#20102; 7 &#23618;&#38236;&#20687;&#12290;&#36825;&#26159;&#23436;&#20840;&#27809;&#26377;&#24847;&#20041;&#30340;&#65292;&#32780;&#19988;&#24456;&#22810;&#36816;&#34892;&#26102;&#19981;&#38656;&#35201;&#30340;&#19996;&#35199;&#65292;&#37117;&#34987;&#35013;&#36827;&#20102;&#38236;&#20687;&#37324;&#65292;&#27604;&#22914;&#32534;&#35793;&#29615;&#22659;&#12289;&#26356;&#26032;&#30340;&#36719;&#20214;&#21253;&#31561;&#31561;&#12290;&#32467;&#26524;&#23601;&#26159;&#20135;&#29983;&#38750;&#24120;&#33219;&#32959;&#12289;&#38750;&#24120;&#22810;&#23618;&#30340;&#38236;&#20687;&#65292;&#19981;&#20165;&#20165;&#22686;&#21152;&#20102;&#26500;&#24314;&#37096;&#32626;&#30340;&#26102;&#38388;&#65292;&#20063;&#24456;&#23481;&#26131;&#20986;&#38169;&#12290; &#36825;&#26159;&#24456;&#22810;&#21021;&#23398; Docker &#30340;&#20154;&#24120;&#29359;&#30340;&#19968;&#20010;&#38169;&#35823;&#12290;
    </p>
    <p>
      Union FS &#26159;&#26377;&#26368;&#22823;&#23618;&#25968;&#38480;&#21046;&#30340;&#65292;&#27604;&#22914; AUFS&#65292;&#26366;&#32463;&#26159;&#26368;&#22823;&#19981;&#24471;&#36229;&#36807; 42 &#23618;&#65292;&#29616;&#22312;&#26159;&#19981;&#24471;&#36229;&#36807; 127 &#23618;&#12290;
    </p>
    <p>
      &#19978;&#38754;&#30340; Dockerfile &#27491;&#30830;&#30340;&#20889;&#27861;&#24212;&#35813;&#26159;&#36825;&#26679;&#65306;
    </p>
    <p>
      FROM debian:jessie
    </p>
    <p>
      RUN buildDeps='gcc libc6-dev make' \
    </p>
    <p>
      &#160;&#160;&#160;&#160;&amp;&amp; apt-get update \
    </p>
    <p>
      &#160;&#160;&#160;&#160;&amp;&amp; apt-get install -y $buildDeps \
    </p>
    <p>
      &#160;&#160;&#160;&#160;&amp;&amp; wget -O redis.tar.gz &quot;http://download.redis.io/releases/redis-3.2.5.tar.gz&quot; \
    </p>
    <p>
      &#160;&#160;&#160;&#160;&amp;&amp; mkdir -p /usr/src/redis \
    </p>
    <p>
      &#160;&#160;&#160;&#160;&amp;&amp; tar -xzf redis.tar.gz -C /usr/src/redis --strip-components=1 \
    </p>
    <p>
      &#160;&#160;&#160;&#160;&amp;&amp; make -C /usr/src/redis \
    </p>
    <p>
      &#160;&#160;&#160;&#160;&amp;&amp; make -C /usr/src/redis install \
    </p>
    <p>
      &#160;&#160;&#160;&#160;&amp;&amp; rm -rf /var/lib/apt/lists/* \
    </p>
    <p>
      &#160;&#160;&#160;&#160;&amp;&amp; rm redis.tar.gz \
    </p>
    <p>
      &#160;&#160;&#160;&#160;&amp;&amp; rm -r /usr/src/redis \
    </p>
    <p>
      &#160;&#160;&#160;&#160;&amp;&amp; apt-get purge -y --auto-remove $buildDeps
    </p>
    <p>
      &#36825;&#19968;&#32452;&#21629;&#20196;&#30340;&#26368;&#21518;&#28155;&#21152;&#20102;&#28165;&#29702;&#24037;&#20316;&#30340;&#21629;&#20196;&#65292;&#21024;&#38500;&#20102;&#20026;&#20102;&#32534;&#35793;&#26500;&#24314;&#25152;&#38656;&#35201;&#30340;&#36719;&#20214;&#65292;&#28165;&#29702;&#20102;&#25152;&#26377;&#19979;&#36733;&#12289;&#23637;&#24320;&#30340;&#25991;&#20214;&#65292;&#24182;&#19988;&#36824;&#28165;&#29702;&#20102; apt &#32531;&#23384;&#25991;&#20214;&#12290;&#36825;&#26159;&#24456;&#37325;&#35201;&#30340;&#19968;&#27493;&#65292;&#25105;&#20204;&#20043;&#21069;&#35828;&#36807;&#65292;&#38236;&#20687;&#26159;&#22810;&#23618;&#23384;&#20648;&#65292;&#27599;&#19968;&#23618;&#30340;&#19996;&#35199;&#24182;&#19981;&#20250;&#22312;&#19979;&#19968;&#23618;&#34987;&#21024;&#38500;&#65292;&#20250;&#19968;&#30452;&#36319;&#38543;&#30528;&#38236;&#20687;&#12290;&#22240;&#27492;&#38236;&#20687;&#26500;&#24314;&#26102;&#65292;&#19968;&#23450;&#35201;&#30830;&#20445;&#27599;&#19968;&#23618;&#21482;&#28155;&#21152;&#30495;&#27491;&#38656;&#35201;&#28155;&#21152;&#30340;&#19996;&#35199;&#65292;&#20219;&#20309;&#26080;&#20851;&#30340;&#19996;&#35199;&#37117;&#24212;&#35813;&#28165;&#29702;&#25481;&#12290;
    </p>
    <p>
      5&#12289;&#26500;&#24314;&#38236;&#20687;
    </p>
    <p>
      &#65288;1&#65289;&#12289;&#36827;&#20837;Dockerfile&#25991;&#20214;&#25152;&#22312;&#30340;&#30446;&#24405;
    </p>
    <p>
      &#65288;2&#65289;&#12289;docker build -t nginx:v3 .&#160;&#160;&#160;&#160;&#160;&#27880;&#24847;&#26368;&#21518;&#26377;&#19968;&#20010;&#28857;
    </p>
    <p>
      -t&#26159;&#29992;&#26469;&#25351;&#23450;&#38236;&#20687;&#21517;&#30340;&#36873;&#39033;
    </p>
    <p>
      6&#12289;&#38236;&#20687;&#26500;&#24314;&#19978;&#19979;&#25991;
    </p>
    <p>
      &#22914;&#26524;&#27880;&#24847;&#65292;&#20250;&#30475;&#21040; docker build &#21629;&#20196;&#26368;&#21518;&#26377;&#19968;&#20010; .&#12290;. &#34920;&#31034;&#24403;&#21069;&#30446;&#24405;&#65292;&#32780; Dockerfile &#23601;&#22312;&#24403;&#21069;&#30446;&#24405;&#65292;&#22240;&#27492;&#19981;&#23569;&#21021;&#23398;&#32773;&#20197;&#20026;&#36825;&#20010;&#36335;&#24452;&#26159;&#22312;&#25351;&#23450; Dockerfile &#25152;&#22312;&#36335;&#24452;&#65292;&#36825;&#20040;&#29702;&#35299;&#20854;&#23454;&#26159;&#19981;&#20934;&#30830;&#30340;&#12290;&#22914;&#26524;&#23545;&#24212;&#19978;&#38754;&#30340;&#21629;&#20196;&#26684;&#24335;&#65292;&#20320;&#21487;&#33021;&#20250;&#21457;&#29616;&#65292;&#36825;&#26159;&#22312;&#25351;&#23450;&#19978;&#19979;&#25991;&#36335;&#24452;&#12290;&#37027;&#20040;&#20160;&#20040;&#26159;&#19978;&#19979;&#25991;&#21602;&#65311;
    </p>
    <p>
      &#39318;&#20808;&#25105;&#20204;&#35201;&#29702;&#35299; docker build &#30340;&#24037;&#20316;&#21407;&#29702;&#12290;Docker &#22312;&#36816;&#34892;&#26102;&#20998;&#20026; Docker &#24341;&#25806;&#65288;&#20063;&#23601;&#26159;&#26381;&#21153;&#31471;&#23432;&#25252;&#36827;&#31243;&#65289;&#21644;&#23458;&#25143;&#31471;&#24037;&#20855;&#12290;Docker &#30340;&#24341;&#25806;&#25552;&#20379;&#20102;&#19968;&#32452; REST API&#65292;&#34987;&#31216;&#20026; Docker Remote API&#65292;&#32780;&#22914; docker &#21629;&#20196;&#36825;&#26679;&#30340;&#23458;&#25143;&#31471;&#24037;&#20855;&#65292;&#21017;&#26159;&#36890;&#36807;&#36825;&#32452; API &#19982; Docker &#24341;&#25806;&#20132;&#20114;&#65292;&#20174;&#32780;&#23436;&#25104;&#21508;&#31181;&#21151;&#33021;&#12290;&#22240;&#27492;&#65292;&#34429;&#28982;&#34920;&#38754;&#19978;&#25105;&#20204;&#22909;&#20687;&#26159;&#22312;&#26412;&#26426;&#25191;&#34892;&#21508;&#31181; docker &#21151;&#33021;&#65292;&#20294;&#23454;&#38469;&#19978;&#65292;&#19968;&#20999;&#37117;&#26159;&#20351;&#29992;&#30340;&#36828;&#31243;&#35843;&#29992;&#24418;&#24335;&#22312;&#26381;&#21153;&#31471;&#65288;Docker &#24341;&#25806;&#65289;&#23436;&#25104;&#12290;&#20063;&#22240;&#20026;&#36825;&#31181; C/S &#35774;&#35745;&#65292;&#35753;&#25105;&#20204;&#25805;&#20316;&#36828;&#31243;&#26381;&#21153;&#22120;&#30340; Docker &#24341;&#25806;&#21464;&#24471;&#36731;&#32780;&#26131;&#20030;&#12290;
    </p>
    <p>
      &#24403;&#25105;&#20204;&#36827;&#34892;&#38236;&#20687;&#26500;&#24314;&#30340;&#26102;&#20505;&#65292;&#24182;&#38750;&#25152;&#26377;&#23450;&#21046;&#37117;&#20250;&#36890;&#36807; RUN &#25351;&#20196;&#23436;&#25104;&#65292;&#32463;&#24120;&#20250;&#38656;&#35201;&#23558;&#19968;&#20123;&#26412;&#22320;&#25991;&#20214;&#22797;&#21046;&#36827;&#38236;&#20687;&#65292;&#27604;&#22914;&#36890;&#36807; COPY &#25351;&#20196;&#12289;ADD &#25351;&#20196;&#31561;&#12290;&#32780; docker build &#21629;&#20196;&#26500;&#24314;&#38236;&#20687;&#65292;&#20854;&#23454;&#24182;&#38750;&#22312;&#26412;&#22320;&#26500;&#24314;&#65292;&#32780;&#26159;&#22312;&#26381;&#21153;&#31471;&#65292;&#20063;&#23601;&#26159; Docker &#24341;&#25806;&#20013;&#26500;&#24314;&#30340;&#12290;&#37027;&#20040;&#22312;&#36825;&#31181;&#23458;&#25143;&#31471;/&#26381;&#21153;&#31471;&#30340;&#26550;&#26500;&#20013;&#65292;&#22914;&#20309;&#25165;&#33021;&#35753;&#26381;&#21153;&#31471;&#33719;&#24471;&#26412;&#22320;&#25991;&#20214;&#21602;&#65311;
    </p>
    <p>
      &#36825;&#23601;&#24341;&#20837;&#20102;&#19978;&#19979;&#25991;&#30340;&#27010;&#24565;&#12290;&#24403;&#26500;&#24314;&#30340;&#26102;&#20505;&#65292;&#29992;&#25143;&#20250;&#25351;&#23450;&#26500;&#24314;&#38236;&#20687;&#19978;&#19979;&#25991;&#30340;&#36335;&#24452;&#65292;docker build &#21629;&#20196;&#24471;&#30693;&#36825;&#20010;&#36335;&#24452;&#21518;&#65292;&#20250;&#23558;&#36335;&#24452;&#19979;&#30340;&#25152;&#26377;&#20869;&#23481;&#25171;&#21253;&#65292;&#28982;&#21518;&#19978;&#20256;&#32473; Docker &#24341;&#25806;&#12290;&#36825;&#26679; Docker &#24341;&#25806;&#25910;&#21040;&#36825;&#20010;&#19978;&#19979;&#25991;&#21253;&#21518;&#65292;&#23637;&#24320;&#23601;&#20250;&#33719;&#24471;&#26500;&#24314;&#38236;&#20687;&#25152;&#38656;&#30340;&#19968;&#20999;&#25991;&#20214;&#12290;
    </p>
    <p>
      &#22914;&#26524;&#22312; Dockerfile &#20013;&#36825;&#20040;&#20889;&#65306;
    </p>
    <p>
      COPY ./package.json /app/
    </p>
    <p>
      &#36825;&#24182;&#19981;&#26159;&#35201;&#22797;&#21046;&#25191;&#34892; docker build &#21629;&#20196;&#25152;&#22312;&#30340;&#30446;&#24405;&#19979;&#30340; package.json&#65292;&#20063;&#19981;&#26159;&#22797;&#21046; Dockerfile &#25152;&#22312;&#30446;&#24405;&#19979;&#30340; package.json&#65292;&#32780;&#26159;&#22797;&#21046; &#19978;&#19979;&#25991;&#65288;context&#65289; &#30446;&#24405;&#19979;&#30340; package.json&#12290;
    </p>
    <p>
      &#19968;&#33324;&#26469;&#35828;&#65292;&#24212;&#35813;&#20250;&#23558; Dockerfile &#32622;&#20110;&#19968;&#20010;&#31354;&#30446;&#24405;&#19979;&#65292;&#25110;&#32773;&#39033;&#30446;&#26681;&#30446;&#24405;&#19979;&#12290;&#22914;&#26524;&#35813;&#30446;&#24405;&#19979;&#27809;&#26377;&#25152;&#38656;&#25991;&#20214;&#65292;&#37027;&#20040;&#24212;&#35813;&#25226;&#25152;&#38656;&#25991;&#20214;&#22797;&#21046;&#19968;&#20221;&#36807;&#26469;&#12290;&#22914;&#26524;&#30446;&#24405;&#19979;&#26377;&#20123;&#19996;&#35199;&#30830;&#23454;&#19981;&#24076;&#26395;&#26500;&#24314;&#26102;&#20256;&#32473; Docker &#24341;&#25806;&#65292;&#37027;&#20040;&#21487;&#20197;&#29992; .gitignore &#19968;&#26679;&#30340;&#35821;&#27861;&#20889;&#19968;&#20010; .dockerignore&#65292;&#35813;&#25991;&#20214;&#26159;&#29992;&#20110;&#21076;&#38500;&#19981;&#38656;&#35201;&#20316;&#20026;&#19978;&#19979;&#25991;&#20256;&#36882;&#32473; Docker &#24341;&#25806;&#30340;&#12290;
    </p>
    <p>
      7&#12289;&#20854;&#20182;docker build&#30340;&#29992;&#27861;
    </p>
    <p>
      &#65288;1&#65289;&#12289;&#30452;&#25509;&#29992; Git repo &#36827;&#34892;&#26500;&#24314;
    </p>
    <p>
      &#25110;&#35768;&#20320;&#24050;&#32463;&#27880;&#24847;&#21040;&#20102;&#65292;docker build &#36824;&#25903;&#25345;&#20174; URL &#26500;&#24314;&#65292;&#27604;&#22914;&#21487;&#20197;&#30452;&#25509;&#20174; Git repo &#20013;&#26500;&#24314;&#65306;
    </p>
    <p>
      $ docker build https://github.com/twang2218/gitlab-ce-zh.git#:8.14
    </p>
    <p>
      docker build https://github.com/twang2218/gitlab-ce-zh.git\#:8.14
    </p>
    <p>
      Sending build context to Docker daemon 2.048 kB
    </p>
    <p>
      Step 1 : FROM gitlab/gitlab-ce:8.14.0-ce.0
    </p>
    <p>
      8.14.0-ce.0: Pulling from gitlab/gitlab-ce
    </p>
    <p>
      aed15891ba52: Already exists
    </p>
    <p>
      773ae8583d14: Already exists
    </p>
    <p>
      ...
    </p>
    <p>
      &#36825;&#34892;&#21629;&#20196;&#25351;&#23450;&#20102;&#26500;&#24314;&#25152;&#38656;&#30340; Git repo&#65292;&#24182;&#19988;&#25351;&#23450;&#40664;&#35748;&#30340; master &#20998;&#25903;&#65292;&#26500;&#24314;&#30446;&#24405;&#20026; /8.14/&#65292;&#28982;&#21518; Docker &#23601;&#20250;&#33258;&#24049;&#21435; git clone &#36825;&#20010;&#39033;&#30446;&#12289;&#20999;&#25442;&#21040;&#25351;&#23450;&#20998;&#25903;&#12289;&#24182;&#36827;&#20837;&#21040;&#25351;&#23450;&#30446;&#24405;&#21518;&#24320;&#22987;&#26500;&#24314;&#12290;
    </p>
    <p>
      &#65288;2&#65289;&#12289;&#29992;&#32473;&#23450;&#30340; tar &#21387;&#32553;&#21253;&#26500;&#24314;
    </p>
    <p>
      $ docker build http://server/context.tar.gz
    </p>
    <p>
      &#22914;&#26524;&#25152;&#32473;&#20986;&#30340; URL &#19981;&#26159;&#20010; Git repo&#65292;&#32780;&#26159;&#20010; tar &#21387;&#32553;&#21253;&#65292;&#37027;&#20040; Docker &#24341;&#25806;&#20250;&#19979;&#36733;&#36825;&#20010;&#21253;&#65292;&#24182;&#33258;&#21160;&#35299;&#21387;&#32553;&#65292;&#20197;&#20854;&#20316;&#20026;&#19978;&#19979;&#25991;&#65292;&#24320;&#22987;&#26500;&#24314;&#12290;
    </p>
    <p>
      &#65288;3&#65289;&#12289;&#20174;&#26631;&#20934;&#36755;&#20837;&#20013;&#35835;&#21462; Dockerfile &#36827;&#34892;&#26500;&#24314;
    </p>
    <p>
      docker build - &lt; Dockerfile
    </p>
    <p>
      &#25110;
    </p>
    <p>
      cat Dockerfile | docker build -
    </p>
    <p>
      &#22914;&#26524;&#26631;&#20934;&#36755;&#20837;&#20256;&#20837;&#30340;&#26159;&#25991;&#26412;&#25991;&#20214;&#65292;&#21017;&#23558;&#20854;&#35270;&#20026; Dockerfile&#65292;&#24182;&#24320;&#22987;&#26500;&#24314;&#12290;&#36825;&#31181;&#24418;&#24335;&#30001;&#20110;&#30452;&#25509;&#20174;&#26631;&#20934;&#36755;&#20837;&#20013;&#35835;&#21462; Dockerfile &#30340;&#20869;&#23481;&#65292;&#23427;&#27809;&#26377;&#19978;&#19979;&#25991;&#65292;&#22240;&#27492;&#19981;&#21487;&#20197;&#20687;&#20854;&#20182;&#26041;&#27861;&#37027;&#26679;&#21487;&#20197;&#23558;&#26412;&#22320;&#25991;&#20214; COPY &#36827;&#38236;&#20687;&#20043;&#31867;&#30340;&#20107;&#24773;&#12290;
    </p>
    <p>
      &#65288;4&#65289;&#12289;&#20174;&#26631;&#20934;&#36755;&#20837;&#20013;&#35835;&#21462;&#19978;&#19979;&#25991;&#21387;&#32553;&#21253;&#36827;&#34892;&#26500;&#24314;
    </p>
    <p>
      $ docker build - &lt; context.tar.gz
    </p>
    <p>
      &#22914;&#26524;&#21457;&#29616;&#26631;&#20934;&#36755;&#20837;&#30340;&#25991;&#20214;&#26684;&#24335;&#26159; gzip&#12289;bzip2 &#20197;&#21450; xz &#30340;&#35805;&#65292;&#23558;&#20250;&#20351;&#20854;&#20026;&#19978;&#19979;&#25991;&#21387;&#32553;&#21253;&#65292;&#30452;&#25509;&#23558;&#20854;&#23637;&#24320;&#65292;&#23558;&#37324;&#38754;&#35270;&#20026;&#19978;&#19979;&#25991;&#65292;&#24182;&#24320;&#22987;&#26500;&#24314;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1532678417730" ID="ID_1871420160" MODIFIED="1532680039820">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Dockerfile&#25351;&#20196;&#35814;&#35299;
    </p>
    <p>
      1&#12289;COPY &#22797;&#21046;&#25991;&#20214;
    </p>
    <p>
      &#26684;&#24335;&#65306;
    </p>
    <p>
      &#65288;1&#65289;&#12289;COPY &lt;&#28304;&#36335;&#24452;&gt;... &lt;&#30446;&#26631;&#36335;&#24452;&gt;
    </p>
    <p>
      &#65288;2&#65289;&#12289;COPY [&quot;&lt;&#28304;&#36335;&#24452;1&gt;&quot;,... &quot;&lt;&#30446;&#26631;&#36335;&#24452;&gt;&quot;]
    </p>
    <p>
      &#21644; RUN &#25351;&#20196;&#19968;&#26679;&#65292;&#20063;&#26377;&#20004;&#31181;&#26684;&#24335;&#65292;&#19968;&#31181;&#31867;&#20284;&#20110;&#21629;&#20196;&#34892;&#65292;&#19968;&#31181;&#31867;&#20284;&#20110;&#20989;&#25968;&#35843;&#29992;&#12290;
    </p>
    <p>
      COPY &#25351;&#20196;&#23558;&#20174;&#26500;&#24314;&#19978;&#19979;&#25991;&#30446;&#24405;&#20013; &lt;&#28304;&#36335;&#24452;&gt; &#30340;&#25991;&#20214;/&#30446;&#24405;&#22797;&#21046;&#21040;&#26032;&#30340;&#19968;&#23618;&#30340;&#38236;&#20687;&#20869;&#30340; &lt;&#30446;&#26631;&#36335;&#24452;&gt; &#20301;&#32622;&#12290;&#27604;&#22914;&#65306;
    </p>
    <p>
      COPY package.json /usr/src/app/
    </p>
    <p>
      &lt;&#28304;&#36335;&#24452;&gt; &#21487;&#20197;&#26159;&#22810;&#20010;&#65292;&#29978;&#33267;&#21487;&#20197;&#26159;&#36890;&#37197;&#31526;&#65292;&#20854;&#36890;&#37197;&#31526;&#35268;&#21017;&#35201;&#28385;&#36275; Go &#30340; filepath.Match &#35268;&#21017;&#65292;&#22914;&#65306;
    </p>
    <p>
      COPY hom* /mydir/
    </p>
    <p>
      COPY hom?.txt /mydir/
    </p>
    <p>
      &lt;&#30446;&#26631;&#36335;&#24452;&gt; &#21487;&#20197;&#26159;&#23481;&#22120;&#20869;&#30340;&#32477;&#23545;&#36335;&#24452;&#65292;&#20063;&#21487;&#20197;&#26159;&#30456;&#23545;&#20110;&#24037;&#20316;&#30446;&#24405;&#30340;&#30456;&#23545;&#36335;&#24452;&#65288;&#24037;&#20316;&#30446;&#24405;&#21487;&#20197;&#29992; WORKDIR &#25351;&#20196;&#26469;&#25351;&#23450;&#65289;&#12290;&#30446;&#26631;&#36335;&#24452;&#19981;&#38656;&#35201;&#20107;&#20808;&#21019;&#24314;&#65292;&#22914;&#26524;&#30446;&#24405;&#19981;&#23384;&#22312;&#20250;&#22312;&#22797;&#21046;&#25991;&#20214;&#21069;&#20808;&#34892;&#21019;&#24314;&#32570;&#22833;&#30446;&#24405;&#12290;
    </p>
    <p>
      &#27492;&#22806;&#65292;&#36824;&#38656;&#35201;&#27880;&#24847;&#19968;&#28857;&#65292;&#20351;&#29992; COPY &#25351;&#20196;&#65292;&#28304;&#25991;&#20214;&#30340;&#21508;&#31181;&#20803;&#25968;&#25454;&#37117;&#20250;&#20445;&#30041;&#12290;&#27604;&#22914;&#35835;&#12289;&#20889;&#12289;&#25191;&#34892;&#26435;&#38480;&#12289;&#25991;&#20214;&#21464;&#26356;&#26102;&#38388;&#31561;&#12290;&#36825;&#20010;&#29305;&#24615;&#23545;&#20110;&#38236;&#20687;&#23450;&#21046;&#24456;&#26377;&#29992;&#12290;&#29305;&#21035;&#26159;&#26500;&#24314;&#30456;&#20851;&#25991;&#20214;&#37117;&#22312;&#20351;&#29992; Git &#36827;&#34892;&#31649;&#29702;&#30340;&#26102;&#20505;&#12290;
    </p>
    <p>
      2&#12289;ADD &#26356;&#39640;&#32423;&#30340;&#22797;&#21046;&#25991;&#20214;
    </p>
    <p>
      ADD &#25351;&#20196;&#21644; COPY &#30340;&#26684;&#24335;&#21644;&#24615;&#36136;&#22522;&#26412;&#19968;&#33268;&#12290;&#20294;&#26159;&#22312; COPY &#22522;&#30784;&#19978;&#22686;&#21152;&#20102;&#19968;&#20123;&#21151;&#33021;&#12290;
    </p>
    <p>
      &#27604;&#22914; &lt;&#28304;&#36335;&#24452;&gt; &#21487;&#20197;&#26159;&#19968;&#20010; URL&#65292;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;Docker &#24341;&#25806;&#20250;&#35797;&#22270;&#21435;&#19979;&#36733;&#36825;&#20010;&#38142;&#25509;&#30340;&#25991;&#20214;&#25918;&#21040; &lt;&#30446;&#26631;&#36335;&#24452;&gt; &#21435;&#12290;&#19979;&#36733;&#21518;&#30340;&#25991;&#20214;&#26435;&#38480;&#33258;&#21160;&#35774;&#32622;&#20026; 600&#65292;&#22914;&#26524;&#36825;&#24182;&#19981;&#26159;&#24819;&#35201;&#30340;&#26435;&#38480;&#65292;&#37027;&#20040;&#36824;&#38656;&#35201;&#22686;&#21152;&#39069;&#22806;&#30340;&#19968;&#23618; RUN &#36827;&#34892;&#26435;&#38480;&#35843;&#25972;&#65292;&#21478;&#22806;&#65292;&#22914;&#26524;&#19979;&#36733;&#30340;&#26159;&#20010;&#21387;&#32553;&#21253;&#65292;&#38656;&#35201;&#35299;&#21387;&#32553;&#65292;&#20063;&#19968;&#26679;&#36824;&#38656;&#35201;&#39069;&#22806;&#30340;&#19968;&#23618; RUN &#25351;&#20196;&#36827;&#34892;&#35299;&#21387;&#32553;&#12290;&#25152;&#20197;&#19981;&#22914;&#30452;&#25509;&#20351;&#29992; RUN &#25351;&#20196;&#65292;&#28982;&#21518;&#20351;&#29992; wget &#25110;&#32773; curl &#24037;&#20855;&#19979;&#36733;&#65292;&#22788;&#29702;&#26435;&#38480;&#12289;&#35299;&#21387;&#32553;&#12289;&#28982;&#21518;&#28165;&#29702;&#26080;&#29992;&#25991;&#20214;&#26356;&#21512;&#29702;&#12290;&#22240;&#27492;&#65292;&#36825;&#20010;&#21151;&#33021;&#20854;&#23454;&#24182;&#19981;&#23454;&#29992;&#65292;&#32780;&#19988;&#19981;&#25512;&#33616;&#20351;&#29992;&#12290;
    </p>
    <p>
      &#22914;&#26524; &lt;&#28304;&#36335;&#24452;&gt; &#20026;&#19968;&#20010; tar &#21387;&#32553;&#25991;&#20214;&#30340;&#35805;&#65292;&#21387;&#32553;&#26684;&#24335;&#20026; gzip, bzip2 &#20197;&#21450; xz &#30340;&#24773;&#20917;&#19979;&#65292;ADD &#25351;&#20196;&#23558;&#20250;&#33258;&#21160;&#35299;&#21387;&#32553;&#36825;&#20010;&#21387;&#32553;&#25991;&#20214;&#21040; &lt;&#30446;&#26631;&#36335;&#24452;&gt; &#21435;&#12290;
    </p>
    <p>
      &#22312;&#26576;&#20123;&#24773;&#20917;&#19979;&#65292;&#36825;&#20010;&#33258;&#21160;&#35299;&#21387;&#32553;&#30340;&#21151;&#33021;&#38750;&#24120;&#26377;&#29992;&#65292;&#27604;&#22914;&#23448;&#26041;&#38236;&#20687; ubuntu &#20013;&#65306;
    </p>
    <p>
      FROM scratch
    </p>
    <p>
      ADD ubuntu-xenial-core-cloudimg-amd64-root.tar.gz /
    </p>
    <p>
      ...
    </p>
    <p>
      &#20294;&#22312;&#26576;&#20123;&#24773;&#20917;&#19979;&#65292;&#22914;&#26524;&#25105;&#20204;&#30495;&#30340;&#26159;&#24076;&#26395;&#22797;&#21046;&#20010;&#21387;&#32553;&#25991;&#20214;&#36827;&#21435;&#65292;&#32780;&#19981;&#35299;&#21387;&#32553;&#65292;&#36825;&#26102;&#23601;&#19981;&#21487;&#20197;&#20351;&#29992; ADD &#21629;&#20196;&#20102;&#12290;
    </p>
    <p>
      &#22312; Docker &#23448;&#26041;&#30340; Dockerfile &#26368;&#20339;&#23454;&#36341;&#25991;&#26723; &#20013;&#35201;&#27714;&#65292;&#23613;&#21487;&#33021;&#30340;&#20351;&#29992; COPY&#65292;&#22240;&#20026; COPY &#30340;&#35821;&#20041;&#24456;&#26126;&#30830;&#65292;&#23601;&#26159;&#22797;&#21046;&#25991;&#20214;&#32780;&#24050;&#65292;&#32780; ADD &#21017;&#21253;&#21547;&#20102;&#26356;&#22797;&#26434;&#30340;&#21151;&#33021;&#65292;&#20854;&#34892;&#20026;&#20063;&#19981;&#19968;&#23450;&#24456;&#28165;&#26224;&#12290;&#26368;&#36866;&#21512;&#20351;&#29992; ADD &#30340;&#22330;&#21512;&#65292;&#23601;&#26159;&#25152;&#25552;&#21450;&#30340;&#38656;&#35201;&#33258;&#21160;&#35299;&#21387;&#32553;&#30340;&#22330;&#21512;&#12290;
    </p>
    <p>
      &#21478;&#22806;&#38656;&#35201;&#27880;&#24847;&#30340;&#26159;&#65292;ADD &#25351;&#20196;&#20250;&#20196;&#38236;&#20687;&#26500;&#24314;&#32531;&#23384;&#22833;&#25928;&#65292;&#20174;&#32780;&#21487;&#33021;&#20250;&#20196;&#38236;&#20687;&#26500;&#24314;&#21464;&#24471;&#27604;&#36739;&#32531;&#24930;&#12290;
    </p>
    <p>
      &#22240;&#27492;&#22312; COPY &#21644; ADD &#25351;&#20196;&#20013;&#36873;&#25321;&#30340;&#26102;&#20505;&#65292;&#21487;&#20197;&#36981;&#24490;&#36825;&#26679;&#30340;&#21407;&#21017;&#65292;&#25152;&#26377;&#30340;&#25991;&#20214;&#22797;&#21046;&#22343;&#20351;&#29992; COPY &#25351;&#20196;&#65292;&#20165;&#22312;&#38656;&#35201;&#33258;&#21160;&#35299;&#21387;&#32553;&#30340;&#22330;&#21512;&#20351;&#29992; ADD&#12290;
    </p>
    <p>
      3&#12289;CMD &#23481;&#22120;&#21551;&#21160;&#21629;&#20196;
    </p>
    <p>
      CMD &#25351;&#20196;&#30340;&#26684;&#24335;&#21644; RUN &#30456;&#20284;&#65292;&#20063;&#26159;&#20004;&#31181;&#26684;&#24335;&#65306;
    </p>
    <p>
      &#65288;1&#65289;&#12289;shell &#26684;&#24335;&#65306;CMD &lt;&#21629;&#20196;&gt;
    </p>
    <p>
      &#65288;2&#65289;&#12289;exec &#26684;&#24335;&#65306;CMD [&quot;&#21487;&#25191;&#34892;&#25991;&#20214;&quot;, &quot;&#21442;&#25968;1&quot;, &quot;&#21442;&#25968;2&quot;...]
    </p>
    <p>
      &#65288;3&#65289;&#12289;&#21442;&#25968;&#21015;&#34920;&#26684;&#24335;&#65306;CMD [&quot;&#21442;&#25968;1&quot;, &quot;&#21442;&#25968;2&quot;...]&#12290;&#22312;&#25351;&#23450;&#20102; ENTRYPOINT &#25351;&#20196;&#21518;&#65292;&#29992; CMD &#25351;&#23450;&#20855;&#20307;&#30340;&#21442;&#25968;&#12290;
    </p>
    <p>
      &#20043;&#21069;&#20171;&#32461;&#23481;&#22120;&#30340;&#26102;&#20505;&#26366;&#32463;&#35828;&#36807;&#65292;Docker &#19981;&#26159;&#34394;&#25311;&#26426;&#65292;&#23481;&#22120;&#23601;&#26159;&#36827;&#31243;&#12290;&#26082;&#28982;&#26159;&#36827;&#31243;&#65292;&#37027;&#20040;&#22312;&#21551;&#21160;&#23481;&#22120;&#30340;&#26102;&#20505;&#65292;&#38656;&#35201;&#25351;&#23450;&#25152;&#36816;&#34892;&#30340;&#31243;&#24207;&#21450;&#21442;&#25968;&#12290;CMD &#25351;&#20196;&#23601;&#26159;&#29992;&#20110;&#25351;&#23450;&#40664;&#35748;&#30340;&#23481;&#22120;&#20027;&#36827;&#31243;&#30340;&#21551;&#21160;&#21629;&#20196;&#30340;&#12290;
    </p>
    <p>
      &#22312;&#36816;&#34892;&#26102;&#21487;&#20197;&#25351;&#23450;&#26032;&#30340;&#21629;&#20196;&#26469;&#26367;&#20195;&#38236;&#20687;&#35774;&#32622;&#20013;&#30340;&#36825;&#20010;&#40664;&#35748;&#21629;&#20196;&#65292;&#27604;&#22914;&#65292;ubuntu &#38236;&#20687;&#40664;&#35748;&#30340; CMD &#26159; /bin/bash&#65292;&#22914;&#26524;&#25105;&#20204;&#30452;&#25509; docker run -it ubuntu &#30340;&#35805;&#65292;&#20250;&#30452;&#25509;&#36827;&#20837; bash&#12290;&#25105;&#20204;&#20063;&#21487;&#20197;&#22312;&#36816;&#34892;&#26102;&#25351;&#23450;&#36816;&#34892;&#21035;&#30340;&#21629;&#20196;&#65292;&#22914; docker run -it ubuntu cat /etc/os-release&#12290;&#36825;&#23601;&#26159;&#29992; cat /etc/os-release &#21629;&#20196;&#26367;&#25442;&#20102;&#40664;&#35748;&#30340; /bin/bash &#21629;&#20196;&#20102;&#65292;&#36755;&#20986;&#20102;&#31995;&#32479;&#29256;&#26412;&#20449;&#24687;&#12290;
    </p>
    <p>
      &#22312;&#25351;&#20196;&#26684;&#24335;&#19978;&#65292;&#19968;&#33324;&#25512;&#33616;&#20351;&#29992; exec &#26684;&#24335;&#65292;&#36825;&#31867;&#26684;&#24335;&#22312;&#35299;&#26512;&#26102;&#20250;&#34987;&#35299;&#26512;&#20026; JSON &#25968;&#32452;&#65292;&#22240;&#27492;&#19968;&#23450;&#35201;&#20351;&#29992;&#21452;&#24341;&#21495; &quot;&#65292;&#32780;&#19981;&#35201;&#20351;&#29992;&#21333;&#24341;&#21495;&#12290;
    </p>
    <p>
      &#22914;&#26524;&#20351;&#29992; shell &#26684;&#24335;&#30340;&#35805;&#65292;&#23454;&#38469;&#30340;&#21629;&#20196;&#20250;&#34987;&#21253;&#35013;&#20026; sh -c &#30340;&#21442;&#25968;&#30340;&#24418;&#24335;&#36827;&#34892;&#25191;&#34892;&#12290;&#27604;&#22914;&#65306;
    </p>
    <p>
      CMD echo $HOME
    </p>
    <p>
      &#22312;&#23454;&#38469;&#25191;&#34892;&#20013;&#65292;&#20250;&#23558;&#20854;&#21464;&#26356;&#20026;&#65306;
    </p>
    <p>
      CMD [ &quot;sh&quot;, &quot;-c&quot;, &quot;echo $HOME&quot; ]
    </p>
    <p>
      &#36825;&#23601;&#26159;&#20026;&#20160;&#20040;&#25105;&#20204;&#21487;&#20197;&#20351;&#29992;&#29615;&#22659;&#21464;&#37327;&#30340;&#21407;&#22240;&#65292;&#22240;&#20026;&#36825;&#20123;&#29615;&#22659;&#21464;&#37327;&#20250;&#34987; shell &#36827;&#34892;&#35299;&#26512;&#22788;&#29702;&#12290;
    </p>
    <p>
      &#25552;&#21040; CMD &#23601;&#19981;&#24471;&#19981;&#25552;&#23481;&#22120;&#20013;&#24212;&#29992;&#22312;&#21069;&#21488;&#25191;&#34892;&#21644;&#21518;&#21488;&#25191;&#34892;&#30340;&#38382;&#39064;&#12290;&#36825;&#26159;&#21021;&#23398;&#32773;&#24120;&#20986;&#29616;&#30340;&#19968;&#20010;&#28151;&#28102;&#12290;
    </p>
    <p>
      Docker &#19981;&#26159;&#34394;&#25311;&#26426;&#65292;&#23481;&#22120;&#20013;&#30340;&#24212;&#29992;&#37117;&#24212;&#35813;&#20197;&#21069;&#21488;&#25191;&#34892;&#65292;&#32780;&#19981;&#26159;&#20687;&#34394;&#25311;&#26426;&#12289;&#29289;&#29702;&#26426;&#37324;&#38754;&#37027;&#26679;&#65292;&#29992; upstart/systemd &#21435;&#21551;&#21160;&#21518;&#21488;&#26381;&#21153;&#65292;&#23481;&#22120;&#20869;&#27809;&#26377;&#21518;&#21488;&#26381;&#21153;&#30340;&#27010;&#24565;&#12290;
    </p>
    <p>
      &#19968;&#20123;&#21021;&#23398;&#32773;&#23558; CMD &#20889;&#20026;&#65306;
    </p>
    <p>
      CMD service nginx start
    </p>
    <p>
      &#28982;&#21518;&#21457;&#29616;&#23481;&#22120;&#25191;&#34892;&#21518;&#23601;&#31435;&#21363;&#36864;&#20986;&#20102;&#12290;&#29978;&#33267;&#22312;&#23481;&#22120;&#20869;&#21435;&#20351;&#29992; systemctl &#21629;&#20196;&#32467;&#26524;&#21364;&#21457;&#29616;&#26681;&#26412;&#25191;&#34892;&#19981;&#20102;&#12290;&#36825;&#23601;&#26159;&#22240;&#20026;&#27809;&#26377;&#25630;&#26126;&#30333;&#21069;&#21488;&#12289;&#21518;&#21488;&#30340;&#27010;&#24565;&#65292;&#27809;&#26377;&#21306;&#20998;&#23481;&#22120;&#21644;&#34394;&#25311;&#26426;&#30340;&#24046;&#24322;&#65292;&#20381;&#26087;&#22312;&#20197;&#20256;&#32479;&#34394;&#25311;&#26426;&#30340;&#35282;&#24230;&#21435;&#29702;&#35299;&#23481;&#22120;&#12290;
    </p>
    <p>
      &#23545;&#20110;&#23481;&#22120;&#32780;&#35328;&#65292;&#20854;&#21551;&#21160;&#31243;&#24207;&#23601;&#26159;&#23481;&#22120;&#24212;&#29992;&#36827;&#31243;&#65292;&#23481;&#22120;&#23601;&#26159;&#20026;&#20102;&#20027;&#36827;&#31243;&#32780;&#23384;&#22312;&#30340;&#65292;&#20027;&#36827;&#31243;&#36864;&#20986;&#65292;&#23481;&#22120;&#23601;&#22833;&#21435;&#20102;&#23384;&#22312;&#30340;&#24847;&#20041;&#65292;&#20174;&#32780;&#36864;&#20986;&#65292;&#20854;&#23427;&#36741;&#21161;&#36827;&#31243;&#19981;&#26159;&#23427;&#38656;&#35201;&#20851;&#24515;&#30340;&#19996;&#35199;&#12290;
    </p>
    <p>
      &#32780;&#20351;&#29992; service nginx start &#21629;&#20196;&#65292;&#21017;&#26159;&#24076;&#26395; upstart &#26469;&#20197;&#21518;&#21488;&#23432;&#25252;&#36827;&#31243;&#24418;&#24335;&#21551;&#21160; nginx &#26381;&#21153;&#12290;&#32780;&#21018;&#25165;&#35828;&#20102; CMD service nginx start &#20250;&#34987;&#29702;&#35299;&#20026; CMD [ &quot;sh&quot;, &quot;-c&quot;, &quot;service nginx start&quot;]&#65292;&#22240;&#27492;&#20027;&#36827;&#31243;&#23454;&#38469;&#19978;&#26159; sh&#12290;&#37027;&#20040;&#24403; service nginx start &#21629;&#20196;&#32467;&#26463;&#21518;&#65292;sh &#20063;&#23601;&#32467;&#26463;&#20102;&#65292;sh &#20316;&#20026;&#20027;&#36827;&#31243;&#36864;&#20986;&#20102;&#65292;&#33258;&#28982;&#23601;&#20250;&#20196;&#23481;&#22120;&#36864;&#20986;&#12290;
    </p>
    <p>
      &#27491;&#30830;&#30340;&#20570;&#27861;&#26159;&#30452;&#25509;&#25191;&#34892; nginx &#21487;&#25191;&#34892;&#25991;&#20214;&#65292;&#24182;&#19988;&#35201;&#27714;&#20197;&#21069;&#21488;&#24418;&#24335;&#36816;&#34892;&#12290;&#27604;&#22914;&#65306;
    </p>
    <p>
      CMD [&quot;nginx&quot;, &quot;-g&quot;, &quot;daemon off;&quot;]
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1533019098214" ID="ID_159514798" MODIFIED="1533019918746">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Dockerfile&#22810;&#38454;&#27573;&#26500;&#24314;
    </p>
    <p>
      &#19968;&#12289;&#20043;&#21069;&#30340;&#20570;&#27861;
    </p>
    <p>
      1&#12289;&#20840;&#37096;&#25918;&#20837;&#19968;&#20010;Dockerfile
    </p>
    <p>
      2&#12289;&#20998;&#25955;&#21040;&#22810;&#20010;Dockerfile
    </p>
    <p>
      &#20108;&#12289;&#20351;&#29992;&#22810;&#38454;&#27573;&#26500;&#24314;
    </p>
    <p>
      Docker v17.05 &#24320;&#22987;&#25903;&#25345;&#22810;&#38454;&#27573;&#26500;&#24314; (multistage builds)&#12290;&#20351;&#29992;&#22810;&#38454;&#27573;&#26500;&#24314;&#25105;&#20204;&#23601;&#21487;&#20197;&#24456;&#23481;&#26131;&#35299;&#20915;&#21069;&#38754;&#25552;&#21040;&#30340;&#38382;&#39064;&#65292;&#24182;&#19988;&#21482;&#38656;&#35201;&#32534;&#20889;&#19968;&#20010; Dockerfile&#65288;&#20854;&#20013;&#21253;&#21547;&#22810;&#20010;FROM&#35821;&#21477;&#65289;&#65306;
    </p>
    <p>
      &#20363;&#22914;
    </p>
    <p>
      &#32534;&#20889; Dockerfile &#25991;&#20214;
    </p>
    <p>
      FROM golang:1.9-alpine as builder
    </p>
    <p>
      RUN apk --no-cache add git
    </p>
    <p>
      WORKDIR /go/src/github.com/go/helloworld/
    </p>
    <p>
      RUN go get -d -v github.com/go-sql-driver/mysql
    </p>
    <p>
      COPY app.go .
    </p>
    <p>
      RUN CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o app .
    </p>
    <p>
      
    </p>
    <p>
      FROM alpine:latest as prod
    </p>
    <p>
      RUN apk --no-cache add ca-certificates
    </p>
    <p>
      WORKDIR /root/
    </p>
    <p>
      COPY --from=0 /go/src/github.com/go/helloworld/app .
    </p>
    <p>
      CMD [&quot;./app&quot;]
    </p>
    <p>
      &#26500;&#24314;&#38236;&#20687;
    </p>
    <p>
      $ docker build -t go/helloworld:3 .
    </p>
    <p>
      &#23545;&#27604;&#19977;&#20010;&#38236;&#20687;&#22823;&#23567;
    </p>
    <p>
      $ docker image ls
    </p>
    <p>
      REPOSITORY&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TAG&#160;&#160;&#160;IMAGE ID&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;CREATED&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SIZE
    </p>
    <p>
      go/helloworld&#160;&#160;&#160;&#160;&#160;3&#160;&#160;&#160;&#160;&#160;d6911ed9c846&#160;&#160;&#160;&#160;&#160;7 seconds ago&#160;&#160;&#160;&#160;&#160;&#160;6.47MB
    </p>
    <p>
      go/helloworld&#160;&#160;&#160;&#160;&#160;2&#160;&#160;&#160;&#160;&#160;f7cf3465432c&#160;&#160;&#160;&#160;&#160;22 seconds ago&#160;&#160;&#160;&#160;&#160;6.47MB
    </p>
    <p>
      go/helloworld&#160;&#160;&#160;&#160;&#160;1&#160;&#160;&#160;&#160;&#160;f55d3e16affc&#160;&#160;&#160;&#160;&#160;2 minutes ago&#160;&#160;&#160;&#160;&#160;&#160;295MB
    </p>
    <p>
      &#24456;&#26126;&#26174;&#20351;&#29992;&#22810;&#38454;&#27573;&#26500;&#24314;&#30340;&#38236;&#20687;&#20307;&#31215;&#23567;&#65292;&#21516;&#26102;&#20063;&#23436;&#32654;&#35299;&#20915;&#20102;&#19978;&#36793;&#25552;&#21040;&#30340;&#38382;&#39064;&#12290;
    </p>
    <p>
      &#65288;1&#65289;&#12289;&#21482;&#26500;&#24314;&#26576;&#19968;&#38454;&#27573;&#30340;&#38236;&#20687;
    </p>
    <p>
      &#25105;&#20204;&#21487;&#20197;&#20351;&#29992; as &#26469;&#20026;&#26576;&#19968;&#38454;&#27573;&#21629;&#21517;&#65292;&#20363;&#22914;
    </p>
    <p>
      FROM golang:1.9-alpine as builder
    </p>
    <p>
      &#20363;&#22914;&#24403;&#25105;&#20204;&#21482;&#24819;&#26500;&#24314; builder &#38454;&#27573;&#30340;&#38236;&#20687;&#26102;&#65292;&#25105;&#20204;&#21487;&#20197;&#22312;&#20351;&#29992; docker build &#21629;&#20196;&#26102;&#21152;&#19978; --target &#21442;&#25968;&#21363;&#21487;
    </p>
    <p>
      $ docker build --target builder -t username/imagename:tag .
    </p>
    <p>
      &#65288;2&#65289;&#12289;&#26500;&#24314;&#26102;&#20174;&#20854;&#20182;&#38236;&#20687;&#22797;&#21046;&#25991;&#20214;
    </p>
    <p>
      &#19978;&#38754;&#20363;&#23376;&#20013;&#25105;&#20204;&#20351;&#29992; COPY --from=0 /go/src/github.com/go/helloworld/app . &#20174;&#19978;&#19968;&#38454;&#27573;&#30340;&#38236;&#20687;&#20013;&#22797;&#21046;&#25991;&#20214;&#65292;&#25105;&#20204;&#20063;&#21487;&#20197;&#22797;&#21046;&#20219;&#24847;&#38236;&#20687;&#20013;&#30340;&#25991;&#20214;&#12290;
    </p>
    <p>
      $ COPY --from=nginx:latest /etc/nginx/nginx.conf /nginx.conf
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1533020113240" ID="ID_1988920910" MODIFIED="1533020339140">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#20854;&#20182;&#21046;&#20316;&#38236;&#20687;&#30340;&#26041;&#24335;
    </p>
    <p>
      &#19968;&#12289;&#20174; rootfs &#21387;&#32553;&#21253;&#23548;&#20837;
    </p>
    <p>
      &#26684;&#24335;&#65306;docker import [&#36873;&#39033;] &lt;&#25991;&#20214;&gt;|&lt;URL&gt;|- [&lt;&#20179;&#24211;&#21517;&gt;[:&lt;&#26631;&#31614;&gt;]]
    </p>
    <p>
      &#21387;&#32553;&#21253;&#21487;&#20197;&#26159;&#26412;&#22320;&#25991;&#20214;&#12289;&#36828;&#31243; Web &#25991;&#20214;&#65292;&#29978;&#33267;&#26159;&#20174;&#26631;&#20934;&#36755;&#20837;&#20013;&#24471;&#21040;&#12290;&#21387;&#32553;&#21253;&#23558;&#20250;&#22312;&#38236;&#20687; / &#30446;&#24405;&#23637;&#24320;&#65292;&#24182;&#30452;&#25509;&#20316;&#20026;&#38236;&#20687;&#31532;&#19968;&#23618;&#25552;&#20132;&#12290;
    </p>
    <p>
      &#27604;&#22914;&#25105;&#20204;&#24819;&#35201;&#21019;&#24314;&#19968;&#20010; OpenVZ &#30340; Ubuntu 14.04 &#27169;&#26495;&#30340;&#38236;&#20687;&#65306;
    </p>
    <p>
      $ docker import \
    </p>
    <p>
      &#160;&#160;&#160; http://download.openvz.org/template/precreated/ubuntu-14.04-x86_64-minimal.tar.gz \
    </p>
    <p>
      &#160;&#160;&#160;&#160;openvz/ubuntu:14.04
    </p>
    <p>
      Downloading from http://download.openvz.org/template/precreated/ubuntu-14.04-x86_64-minimal.tar.gz
    </p>
    <p>
      sha256:f477a6e18e989839d25223f301ef738b69621c4877600ae6467c4e5289822a79B/78.42 MB
    </p>
    <p>
      &#36825;&#26465;&#21629;&#20196;&#33258;&#21160;&#19979;&#36733;&#20102; ubuntu-14.04-x86_64-minimal.tar.gz &#25991;&#20214;&#65292;&#24182;&#19988;&#20316;&#20026;&#26681;&#25991;&#20214;&#31995;&#32479;&#23637;&#24320;&#23548;&#20837;&#65292;&#24182;&#20445;&#23384;&#20026;&#38236;&#20687; openvz/ubuntu:14.04&#12290;
    </p>
    <p>
      &#23548;&#20837;&#25104;&#21151;&#21518;&#65292;&#25105;&#20204;&#21487;&#20197;&#29992; docker image ls &#30475;&#21040;&#36825;&#20010;&#23548;&#20837;&#30340;&#38236;&#20687;&#65306;
    </p>
    <p>
      $ docker image ls openvz/ubuntu
    </p>
    <p>
      REPOSITORY&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TAG&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;IMAGE ID&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;CREATED&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;SIZE
    </p>
    <p>
      openvz/ubuntu&#160;&#160;&#160;&#160;&#160;&#160;&#160;14.04&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;f477a6e18e98&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;55 seconds ago&#160;&#160;&#160;&#160;&#160;&#160;214.9 MB
    </p>
    <p>
      &#22914;&#26524;&#25105;&#20204;&#26597;&#30475;&#20854;&#21382;&#21490;&#30340;&#35805;&#65292;&#20250;&#30475;&#21040;&#25551;&#36848;&#20013;&#26377;&#23548;&#20837;&#30340;&#25991;&#20214;&#38142;&#25509;&#65306;
    </p>
    <p>
      $ docker history openvz/ubuntu:14.04
    </p>
    <p>
      IMAGE&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;CREATED&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;CREATED BY&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SIZE&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;COMMENT
    </p>
    <p>
      f477a6e18e98&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;About a minute ago&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;214.9 MB&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Imported from http://download.openvz.org/template/precreated/ubuntu-14.04-x86_64-minimal.tar.gz
    </p>
    <p>
      docker save &#21644; docker load
    </p>
    <p>
      Docker &#36824;&#25552;&#20379;&#20102; docker load &#21644; docker save &#21629;&#20196;&#65292;&#29992;&#20197;&#23558;&#38236;&#20687;&#20445;&#23384;&#20026;&#19968;&#20010; tar &#25991;&#20214;&#65292;&#28982;&#21518;&#20256;&#36755;&#21040;&#21478;&#19968;&#20010;&#20301;&#32622;&#19978;&#65292;&#20877;&#21152;&#36733;&#36827;&#26469;&#12290;&#36825;&#26159;&#22312;&#27809;&#26377; Docker Registry &#26102;&#30340;&#20570;&#27861;&#65292;&#29616;&#22312;&#24050;&#32463;&#19981;&#25512;&#33616;&#65292;&#38236;&#20687;&#36801;&#31227;&#24212;&#35813;&#30452;&#25509;&#20351;&#29992; Docker Registry&#65292;&#26080;&#35770;&#26159;&#30452;&#25509;&#20351;&#29992; Docker Hub &#36824;&#26159;&#20351;&#29992;&#20869;&#32593;&#31169;&#26377; Registry &#37117;&#21487;&#20197;&#12290;
    </p>
    <p>
      &#20108;&#12289;&#20445;&#23384;&#38236;&#20687;
    </p>
    <p>
      &#20351;&#29992; docker save &#21629;&#20196;&#21487;&#20197;&#23558;&#38236;&#20687;&#20445;&#23384;&#20026;&#24402;&#26723;&#25991;&#20214;&#12290;
    </p>
    <p>
      &#27604;&#22914;&#25105;&#20204;&#24076;&#26395;&#20445;&#23384;&#36825;&#20010; alpine &#38236;&#20687;&#12290;
    </p>
    <p>
      $ docker image ls alpine
    </p>
    <p>
      REPOSITORY&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TAG&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;IMAGE ID&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;CREATED&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;SIZE
    </p>
    <p>
      alpine&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;baa5d63471ea&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;5 weeks ago&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;4.803 MB
    </p>
    <p>
      &#20445;&#23384;&#38236;&#20687;&#30340;&#21629;&#20196;&#20026;&#65306;
    </p>
    <p>
      $ docker save alpine | gzip &gt; alpine-latest.tar.gz
    </p>
    <p>
      &#28982;&#21518;&#25105;&#20204;&#23558; alpine-latest.tar.gz &#25991;&#20214;&#22797;&#21046;&#21040;&#20102;&#21040;&#20102;&#21478;&#19968;&#20010;&#26426;&#22120;&#19978;&#65292;&#21487;&#20197;&#29992;&#19979;&#38754;&#36825;&#20010;&#21629;&#20196;&#21152;&#36733;&#38236;&#20687;&#65306;
    </p>
    <p>
      $ docker load -i alpine-latest.tar.gz
    </p>
    <p>
      Loaded image: alpine:latest
    </p>
    <p>
      &#22914;&#26524;&#25105;&#20204;&#32467;&#21512;&#36825;&#20004;&#20010;&#21629;&#20196;&#20197;&#21450; ssh &#29978;&#33267; pv &#30340;&#35805;&#65292;&#21033;&#29992; Linux &#24378;&#22823;&#30340;&#31649;&#36947;&#65292;&#25105;&#20204;&#21487;&#20197;&#20889;&#19968;&#20010;&#21629;&#20196;&#23436;&#25104;&#20174;&#19968;&#20010;&#26426;&#22120;&#23558;&#38236;&#20687;&#36801;&#31227;&#21040;&#21478;&#19968;&#20010;&#26426;&#22120;&#65292;&#24182;&#19988;&#24102;&#36827;&#24230;&#26465;&#30340;&#21151;&#33021;&#65306;
    </p>
    <p>
      docker save &lt;&#38236;&#20687;&#21517;&gt; | bzip2 | pv | ssh &lt;&#29992;&#25143;&#21517;&gt;@&lt;&#20027;&#26426;&#21517;&gt; 'cat | docker load'
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1533020414013" ID="ID_1038718869" MODIFIED="1533020445889">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#38236;&#20687;&#30340;&#23454;&#29616;&#21407;&#29702;
    </p>
    <p>
      Docker &#38236;&#20687;&#26159;&#24590;&#20040;&#23454;&#29616;&#22686;&#37327;&#30340;&#20462;&#25913;&#21644;&#32500;&#25252;&#30340;&#65311;
    </p>
    <p>
      &#27599;&#20010;&#38236;&#20687;&#37117;&#30001;&#24456;&#22810;&#23618;&#27425;&#26500;&#25104;&#65292;Docker &#20351;&#29992; Union FS &#23558;&#36825;&#20123;&#19981;&#21516;&#30340;&#23618;&#32467;&#21512;&#21040;&#19968;&#20010;&#38236;&#20687;&#20013;&#21435;&#12290;
    </p>
    <p>
      &#36890;&#24120; Union FS &#26377;&#20004;&#20010;&#29992;&#36884;, &#19968;&#26041;&#38754;&#21487;&#20197;&#23454;&#29616;&#19981;&#20511;&#21161; LVM&#12289;RAID &#23558;&#22810;&#20010; disk &#25346;&#21040;&#21516;&#19968;&#20010;&#30446;&#24405;&#19979;,&#21478;&#19968;&#20010;&#26356;&#24120;&#29992;&#30340;&#23601;&#26159;&#23558;&#19968;&#20010;&#21482;&#35835;&#30340;&#20998;&#25903;&#21644;&#19968;&#20010;&#21487;&#20889;&#30340;&#20998;&#25903;&#32852;&#21512;&#22312;&#19968;&#36215;&#65292;Live CD &#27491;&#26159;&#22522;&#20110;&#27492;&#26041;&#27861;&#21487;&#20197;&#20801;&#35768;&#22312;&#38236;&#20687;&#19981;&#21464;&#30340;&#22522;&#30784;&#19978;&#20801;&#35768;&#29992;&#25143;&#22312;&#20854;&#19978;&#36827;&#34892;&#19968;&#20123;&#20889;&#25805;&#20316;&#12290;
    </p>
    <p>
      Docker &#22312; AUFS &#19978;&#26500;&#24314;&#30340;&#23481;&#22120;&#20063;&#26159;&#21033;&#29992;&#20102;&#31867;&#20284;&#30340;&#21407;&#29702;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1535100485899" ID="ID_1340203439" MODIFIED="1535632458146" POSITION="left" TEXT="&#x64cd;&#x4f5c;&#x5bb9;&#x5668;">
<node CREATED="1535100811368" ID="ID_888211667" MODIFIED="1535101300162">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#21551;&#21160;
    </p>
    <p>
      1&#12289;&#21551;&#21160;&#23481;&#22120;&#26377;&#20004;&#31181;&#26041;&#24335;&#65292;&#19968;&#31181;&#26159;&#22522;&#20110;&#38236;&#20687;&#26032;&#24314;&#19968;&#20010;&#23481;&#22120;&#24182;&#21551;&#21160;&#65292;&#21478;&#22806;&#19968;&#20010;&#26159;&#23558;&#22312;&#32456;&#27490;&#29366;&#24577;&#65288;stopped&#65289;&#30340;&#23481;&#22120;&#37325;&#26032;&#21551;&#21160;&#12290;
    </p>
    <p>
      &#22240;&#20026; Docker &#30340;&#23481;&#22120;&#23454;&#22312;&#22826;&#36731;&#37327;&#32423;&#20102;&#65292;&#24456;&#22810;&#26102;&#20505;&#29992;&#25143;&#37117;&#26159;&#38543;&#26102;&#21024;&#38500;&#21644;&#26032;&#21019;&#24314;&#23481;&#22120;&#12290;
    </p>
    <p>
      2&#12289;&#26032;&#24314;&#24182;&#21551;&#21160;
    </p>
    <p>
      &#65288;1&#65289;&#12289;&#19979;&#38754;&#30340;&#21629;&#20196;&#36755;&#20986;&#19968;&#20010; &#8220;Hello World&#8221;&#65292;&#20043;&#21518;&#32456;&#27490;&#23481;&#22120;&#12290;
    </p>
    <p>
      $ docker run ubuntu:14.04 /bin/echo 'Hello world'
    </p>
    <p>
      Hello world
    </p>
    <p>
      &#36825;&#36319;&#22312;&#26412;&#22320;&#30452;&#25509;&#25191;&#34892; /bin/echo 'hello world' &#20960;&#20046;&#24863;&#35273;&#19981;&#20986;&#20219;&#20309;&#21306;&#21035;&#12290;
    </p>
    <p>
      &#65288;2&#65289;&#12289;&#19979;&#38754;&#30340;&#21629;&#20196;&#21017;&#21551;&#21160;&#19968;&#20010; bash &#32456;&#31471;&#65292;&#20801;&#35768;&#29992;&#25143;&#36827;&#34892;&#20132;&#20114;&#12290;
    </p>
    <p>
      $ docker run -t -i ubuntu:14.04 /bin/bash
    </p>
    <p>
      root@af8bae53bdd3:/#
    </p>
    <p>
      &#20854;&#20013;&#65292;-t &#36873;&#39033;&#35753;Docker&#20998;&#37197;&#19968;&#20010;&#20266;&#32456;&#31471;&#65288;pseudo-tty&#65289;&#24182;&#32465;&#23450;&#21040;&#23481;&#22120;&#30340;&#26631;&#20934;&#36755;&#20837;&#19978;&#65292; -i &#21017;&#35753;&#23481;&#22120;&#30340;&#26631;&#20934;&#36755;&#20837;&#20445;&#25345;&#25171;&#24320;&#12290;
    </p>
    <p>
      &#65288;3&#65289;&#12289;&#24403;&#21033;&#29992; docker run &#26469;&#21019;&#24314;&#23481;&#22120;&#26102;&#65292;Docker &#22312;&#21518;&#21488;&#36816;&#34892;&#30340;&#26631;&#20934;&#25805;&#20316;&#21253;&#25324;&#65306;
    </p>
    <p>
      &#26816;&#26597;&#26412;&#22320;&#26159;&#21542;&#23384;&#22312;&#25351;&#23450;&#30340;&#38236;&#20687;&#65292;&#19981;&#23384;&#22312;&#23601;&#20174;&#20844;&#26377;&#20179;&#24211;&#19979;&#36733;
    </p>
    <p>
      &#21033;&#29992;&#38236;&#20687;&#21019;&#24314;&#24182;&#21551;&#21160;&#19968;&#20010;&#23481;&#22120;
    </p>
    <p>
      &#20998;&#37197;&#19968;&#20010;&#25991;&#20214;&#31995;&#32479;&#65292;&#24182;&#22312;&#21482;&#35835;&#30340;&#38236;&#20687;&#23618;&#22806;&#38754;&#25346;&#36733;&#19968;&#23618;&#21487;&#35835;&#20889;&#23618;
    </p>
    <p>
      &#20174;&#23487;&#20027;&#20027;&#26426;&#37197;&#32622;&#30340;&#32593;&#26725;&#25509;&#21475;&#20013;&#26725;&#25509;&#19968;&#20010;&#34394;&#25311;&#25509;&#21475;&#21040;&#23481;&#22120;&#20013;&#21435;
    </p>
    <p>
      &#20174;&#22320;&#22336;&#27744;&#37197;&#32622;&#19968;&#20010; ip &#22320;&#22336;&#32473;&#23481;&#22120;
    </p>
    <p>
      &#25191;&#34892;&#29992;&#25143;&#25351;&#23450;&#30340;&#24212;&#29992;&#31243;&#24207;
    </p>
    <p>
      &#25191;&#34892;&#23436;&#27605;&#21518;&#23481;&#22120;&#34987;&#32456;&#27490;
    </p>
    <p>
      3&#12289;&#21551;&#21160;&#24050;&#32456;&#27490;&#30340;&#23481;&#22120;
    </p>
    <p>
      &#21033;&#29992; docker container start &#21629;&#20196;&#65292;&#30452;&#25509;&#23558;&#19968;&#20010;&#24050;&#32463;&#32456;&#27490;&#30340;&#23481;&#22120;&#21551;&#21160;&#36816;&#34892;&#12290;
    </p>
    <p>
      &#23481;&#22120;&#30340;&#26680;&#24515;&#20026;&#25152;&#25191;&#34892;&#30340;&#24212;&#29992;&#31243;&#24207;&#65292;&#25152;&#38656;&#35201;&#30340;&#36164;&#28304;&#37117;&#26159;&#24212;&#29992;&#31243;&#24207;&#36816;&#34892;&#25152;&#24517;&#38656;&#30340;&#12290;&#38500;&#27492;&#20043;&#22806;&#65292;&#24182;&#27809;&#26377;&#20854;&#23427;&#30340;&#36164;&#28304;&#12290;&#21487;&#20197;&#22312;&#20266;&#32456;&#31471;&#20013;&#21033;&#29992; ps &#25110; top &#26469;&#26597;&#30475;&#36827;&#31243;&#20449;&#24687;&#12290;
    </p>
    <p>
      root@ba267838cc1b:/# ps
    </p>
    <p>
      &#160;&#160;PID TTY&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TIME CMD
    </p>
    <p>
      &#160;&#160;&#160;&#160;1 ?&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;00:00:00 bash
    </p>
    <p>
      &#160;&#160;&#160;11 ?&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;00:00:00 ps
    </p>
    <p>
      &#21487;&#35265;&#65292;&#23481;&#22120;&#20013;&#20165;&#36816;&#34892;&#20102;&#25351;&#23450;&#30340; bash &#24212;&#29992;&#12290;&#36825;&#31181;&#29305;&#28857;&#20351;&#24471; Docker &#23545;&#36164;&#28304;&#30340;&#21033;&#29992;&#29575;&#26497;&#39640;&#65292;&#26159;&#36135;&#30495;&#20215;&#23454;&#30340;&#36731;&#37327;&#32423;&#34394;&#25311;&#21270;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1535101317886" ID="ID_680659435" MODIFIED="1535102040402">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#21518;&#21488;&#36816;&#34892;&#65288;&#23432;&#25252;&#24577;&#36816;&#34892;&#65289;
    </p>
    <p>
      1&#12289;&#31867;&#20284;&#20110;&amp;&#30340;&#20316;&#29992;
    </p>
    <p>
      2&#12289;&#20351;&#29992;-d&#36873;&#39033;&#26469;&#24320;&#21551;
    </p>
    <p>
      3&#12289;&#23481;&#22120;&#22312;&#21518;&#21488;&#36816;&#34892;&#21518;&#65292;&#24182;&#19981;&#20250;&#25226;&#36755;&#20986;&#30340;&#32467;&#26524; (STDOUT) &#25171;&#21360;&#21040;&#23487;&#20027;&#26426;&#19978;&#38754;(&#36755;&#20986;&#32467;&#26524;&#21487;&#20197;&#29992; docker container logs &#26597;&#30475;)&#12290;
    </p>
    <p>
      docker container logs [&#23481;&#22120;ID/&#23481;&#22120;&#21517;]
    </p>
    <p>
      4&#12289;&#27880;&#65306; &#23481;&#22120;&#26159;&#21542;&#20250;&#38271;&#20037;&#36816;&#34892;&#65292;&#26159;&#21644; docker run &#25351;&#23450;&#30340;&#21629;&#20196;&#26377;&#20851;&#65292;&#21644; -d &#21442;&#25968;&#26080;&#20851;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1535103797977" ID="ID_1294020061" MODIFIED="1535103966690">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#32456;&#27490;&#23481;&#22120;
    </p>
    <p>
      1&#12289;&#20351;&#29992;docker container stop&#32456;&#27490;&#19968;&#20010;&#36816;&#34892;&#20013;&#30340;&#23481;&#22120;
    </p>
    <p>
      2&#12289;&#24403;&#23481;&#22120;&#20013;&#30340;&#24212;&#29992;&#32456;&#27490;&#26102;&#65292;&#23481;&#22120;&#20063;&#33258;&#21160;&#32456;&#27490;
    </p>
    <p>
      3&#12289;&#32456;&#27490;&#29366;&#24577;&#30340;&#23481;&#22120;&#21487;&#20197;&#36890;&#36807;docker container ls -a&#26597;&#30475;&#65292;STATUS&#29366;&#24577;&#26159;Exit
    </p>
    <p>
      4&#12289;&#20351;&#29992;docker container start&#26469;&#21551;&#21160;&#19968;&#20010;&#24050;&#32463;&#32456;&#27490;&#30340;&#23481;&#22120;
    </p>
    <p>
      5&#12289;docker container restart&#26159;&#23558;&#19968;&#20010;&#23481;&#22120;&#32456;&#27490;&#21518;&#20877;&#21551;&#21160;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1535104048651" ID="ID_625364247" MODIFIED="1535104364442">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#36827;&#20837;&#23481;&#22120;
    </p>
    <p>
      1&#12289;&#20351;&#29992;-d&#36873;&#39033;&#23481;&#22120;&#20250;&#36827;&#20837;&#21518;&#21488;&#36816;&#34892;&#65292;&#22914;&#26524;&#35201;&#36827;&#20837;&#23481;&#22120;&#36827;&#34892;&#25805;&#20316;&#65292;&#21487;&#20197;&#20351;&#29992;docker attach&#25110;&#32773;docker exec&#65292;&#25512;&#33616;&#21518;&#32773;
    </p>
    <p>
      2&#12289;attach&#21629;&#20196;
    </p>
    <p>
      docker attach &#26159; Docker &#33258;&#24102;&#30340;&#21629;&#20196;&#12290;&#19979;&#38754;&#31034;&#20363;&#22914;&#20309;&#20351;&#29992;&#35813;&#21629;&#20196;&#12290;
    </p>
    <p>
      $ docker run -dit ubuntu
    </p>
    <p>
      243c32535da7d142fb0e6df616a3c3ada0b8ab417937c853a9e1c251f499f550
    </p>
    <p>
      $ docker container ls
    </p>
    <p>
      CONTAINER ID&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;IMAGE&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;COMMAND&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;CREATED&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;STATUS&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;PORTS&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;NAMES
    </p>
    <p>
      243c32535da7&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ubuntu:latest&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;/bin/bash&quot;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;18 seconds ago&#160;&#160;&#160;&#160;&#160;&#160;Up 17 seconds&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nostalgic_hypatia
    </p>
    <p>
      $ docker attach 243c
    </p>
    <p>
      root@243c32535da7:/#
    </p>
    <p>
      &#27880;&#24847;&#65306; &#22914;&#26524;&#20174;&#36825;&#20010; stdin &#20013; exit&#65292;&#20250;&#23548;&#33268;&#23481;&#22120;&#30340;&#20572;&#27490;&#12290;
    </p>
    <p>
      3&#12289;exec&#21629;&#20196;
    </p>
    <p>
      -i -t &#21442;&#25968;
    </p>
    <p>
      docker exec &#21518;&#36793;&#21487;&#20197;&#36319;&#22810;&#20010;&#21442;&#25968;&#65292;&#36825;&#37324;&#20027;&#35201;&#35828;&#26126; -i -t &#21442;&#25968;&#12290;
    </p>
    <p>
      &#21482;&#29992; -i &#21442;&#25968;&#26102;&#65292;&#30001;&#20110;&#27809;&#26377;&#20998;&#37197;&#20266;&#32456;&#31471;&#65292;&#30028;&#38754;&#27809;&#26377;&#25105;&#20204;&#29087;&#24713;&#30340; Linux &#21629;&#20196;&#25552;&#31034;&#31526;&#65292;&#20294;&#21629;&#20196;&#25191;&#34892;&#32467;&#26524;&#20173;&#28982;&#21487;&#20197;&#36820;&#22238;&#12290;
    </p>
    <p>
      &#24403; -i -t &#21442;&#25968;&#19968;&#36215;&#20351;&#29992;&#26102;&#65292;&#21017;&#21487;&#20197;&#30475;&#21040;&#25105;&#20204;&#29087;&#24713;&#30340; Linux &#21629;&#20196;&#25552;&#31034;&#31526;&#12290;
    </p>
    <p>
      $ docker run -dit ubuntu
    </p>
    <p>
      69d137adef7a8a689cbcb059e94da5489d3cddd240ff675c640c8d96e84fe1f6
    </p>
    <p>
      $ docker container ls
    </p>
    <p>
      CONTAINER ID&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;IMAGE&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;COMMAND&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;CREATED&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;STATUS&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;PORTS&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;NAMES
    </p>
    <p>
      69d137adef7a&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ubuntu:latest&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;/bin/bash&quot;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;18 seconds ago&#160;&#160;&#160;&#160;&#160;&#160;Up 17 seconds&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;zealous_swirles
    </p>
    <p>
      $ docker exec -i 69d1 bash
    </p>
    <p>
      ls
    </p>
    <p>
      bin
    </p>
    <p>
      boot
    </p>
    <p>
      dev
    </p>
    <p>
      ...
    </p>
    <p>
      $ docker exec -it 69d1 bash
    </p>
    <p>
      root@69d137adef7a:/#
    </p>
    <p>
      &#22914;&#26524;&#20174;&#36825;&#20010; stdin &#20013; exit&#65292;&#19981;&#20250;&#23548;&#33268;&#23481;&#22120;&#30340;&#20572;&#27490;&#12290;&#36825;&#23601;&#26159;&#20026;&#20160;&#20040;&#25512;&#33616;&#22823;&#23478;&#20351;&#29992; docker exec &#30340;&#21407;&#22240;&#12290;
    </p>
    <p>
      &#26356;&#22810;&#21442;&#25968;&#35828;&#26126;&#35831;&#20351;&#29992; docker exec --help &#26597;&#30475;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1535354613506" ID="ID_1671445231" MODIFIED="1535355142658">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#23548;&#20986;&amp;&#23548;&#20837;&#23481;&#22120;
    </p>
    <p>
      1&#12289;&#23548;&#20986;
    </p>
    <p>
      docker export [&#23481;&#22120;ID]&#160;&gt; ubuntu.tar
    </p>
    <p>
      2&#12289;&#23548;&#20837;
    </p>
    <p>
      docker import [&#23481;&#22120;&#21253;.tar]&#160;test/ubuntu:v1.0
    </p>
    <p>
      //&#20351;&#29992;URL&#23548;&#20837;
    </p>
    <p>
      docker import http://example.com/exampleimage.tgz example/imagerepo
    </p>
    <p>
      3&#12289;&#27880;&#65306;&#29992;&#25143;&#26082;&#21487;&#20197;&#20351;&#29992; docker load &#26469;&#23548;&#20837;&#38236;&#20687;&#23384;&#20648;&#25991;&#20214;&#21040;&#26412;&#22320;&#38236;&#20687;&#24211;&#65292;&#20063;&#21487;&#20197;&#20351;&#29992; docker import &#26469;&#23548;&#20837;&#19968;&#20010;&#23481;&#22120;&#24555;&#29031;&#21040;&#26412;&#22320;&#38236;&#20687;&#24211;&#12290;&#36825;&#20004;&#32773;&#30340;&#21306;&#21035;&#22312;&#20110;&#23481;&#22120;&#24555;&#29031;&#25991;&#20214;&#23558;&#20002;&#24323;&#25152;&#26377;&#30340;&#21382;&#21490;&#35760;&#24405;&#21644;&#20803;&#25968;&#25454;&#20449;&#24687;&#65288;&#21363;&#20165;&#20445;&#23384;&#23481;&#22120;&#24403;&#26102;&#30340;&#24555;&#29031;&#29366;&#24577;&#65289;&#65292;&#32780;&#38236;&#20687;&#23384;&#20648;&#25991;&#20214;&#23558;&#20445;&#23384;&#23436;&#25972;&#35760;&#24405;&#65292;&#20307;&#31215;&#20063;&#35201;&#22823;&#12290;&#27492;&#22806;&#65292;&#20174;&#23481;&#22120;&#24555;&#29031;&#25991;&#20214;&#23548;&#20837;&#26102;&#21487;&#20197;&#37325;&#26032;&#25351;&#23450;&#26631;&#31614;&#31561;&#20803;&#25968;&#25454;&#20449;&#24687;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1535355156471" ID="ID_1068091791" MODIFIED="1535355245936">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#21024;&#38500;&#23481;&#22120;
    </p>
    <p>
      1&#12289;&#21487;&#20197;&#20351;&#29992; docker container rm &#26469;&#21024;&#38500;&#19968;&#20010;&#22788;&#20110;&#32456;&#27490;&#29366;&#24577;&#30340;&#23481;&#22120;&#12290;&#20363;&#22914;
    </p>
    <p>
      $ docker container rm&#160;&#160;trusting_newton
    </p>
    <p>
      trusting_newton
    </p>
    <p>
      2&#12289;&#22914;&#26524;&#35201;&#21024;&#38500;&#19968;&#20010;&#36816;&#34892;&#20013;&#30340;&#23481;&#22120;&#65292;&#21487;&#20197;&#28155;&#21152; -f &#21442;&#25968;&#12290;Docker &#20250;&#21457;&#36865; SIGKILL &#20449;&#21495;&#32473;&#23481;&#22120;&#12290;
    </p>
    <p>
      3&#12289;&#28165;&#29702;&#25152;&#26377;&#22788;&#20110;&#32456;&#27490;&#29366;&#24577;&#30340;&#23481;&#22120;
    </p>
    <p>
      &#29992; docker container ls -a &#21629;&#20196;&#21487;&#20197;&#26597;&#30475;&#25152;&#26377;&#24050;&#32463;&#21019;&#24314;&#30340;&#21253;&#25324;&#32456;&#27490;&#29366;&#24577;&#30340;&#23481;&#22120;&#65292;&#22914;&#26524;&#25968;&#37327;&#22826;&#22810;&#35201;&#19968;&#20010;&#20010;&#21024;&#38500;&#21487;&#33021;&#20250;&#24456;&#40635;&#28902;&#65292;&#29992;&#19979;&#38754;&#30340;&#21629;&#20196;&#21487;&#20197;&#28165;&#29702;&#25481;&#25152;&#26377;&#22788;&#20110;&#32456;&#27490;&#29366;&#24577;&#30340;&#23481;&#22120;&#12290;
    </p>
    <p>
      $ docker container prune
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node CREATED="1535356932807" FOLDED="true" ID="ID_1235518451" MODIFIED="1535362207062" POSITION="left" TEXT="&#x8bbf;&#x95ee;&#x4ed3;&#x5e93;">
<node CREATED="1535356955140" ID="ID_1810718880" MODIFIED="1535359024257">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Docker Hub
    </p>
    <p>
      1&#12289;&#25289;&#21462;&#38236;&#20687;
    </p>
    <p>
      //&#25628;&#32034;
    </p>
    <p>
      docker search centos
    </p>
    <p>
      docker search centos --filter=stars=N&#65288;&#25351;&#23450;&#26174;&#31034;&#25910;&#34255;&#25968;&#20026;N&#20197;&#19978;&#30340;&#38236;&#20687;&#65289;
    </p>
    <p>
      2&#12289;&#25512;&#36865;&#38236;&#20687;&#65288;docker push&#65289;
    </p>
    <p>
      $ docker tag ubuntu:17.10 username/ubuntu:17.10
    </p>
    <p>
      $ docker image ls
    </p>
    <p>
      REPOSITORY&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TAG&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;IMAGE ID&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;CREATED&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SIZE
    </p>
    <p>
      ubuntu&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;17.10&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;275d79972a86&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;6 days ago&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;94.6MB
    </p>
    <p>
      username/ubuntu&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;17.10&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;275d79972a86&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;6 days ago&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;94.6MB
    </p>
    <p>
      $ docker push username/ubuntu:17.10
    </p>
    <p>
      $ docker search username
    </p>
    <p>
      NAME&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;DESCRIPTION&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;STARS&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;OFFICIAL&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;AUTOMATED
    </p>
    <p>
      username/ubuntu
    </p>
    <p>
      2&#12289;&#33258;&#21160;&#21019;&#24314;
    </p>
    <p>
      &#33258;&#21160;&#21019;&#24314;&#65288;Automated Builds&#65289;&#21151;&#33021;&#23545;&#20110;&#38656;&#35201;&#32463;&#24120;&#21319;&#32423;&#38236;&#20687;&#20869;&#31243;&#24207;&#26469;&#35828;&#65292;&#21313;&#20998;&#26041;&#20415;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1535359252057" ID="ID_1080868316" MODIFIED="1535359816282">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#31169;&#26377;&#20179;&#24211;
    </p>
    <p>
      1&#12289;&#23433;&#35013;&#36816;&#34892; docker-registry
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1535360067527" ID="ID_1628937402" MODIFIED="1535362203378">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#31169;&#26377;&#20179;&#24211;&#39640;&#32423;&#37197;&#32622;
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node CREATED="1535362209321" FOLDED="true" ID="ID_828437628" MODIFIED="1535458412474" POSITION="left" TEXT="Docker&#x6570;&#x636e;&#x7ba1;&#x7406;">
<node CREATED="1535362223128" ID="ID_1149662132" MODIFIED="1535362558181">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#25968;&#25454;&#21367;
    </p>
    <p>
      1&#12289;&#25968;&#25454;&#21367; &#26159;&#19968;&#20010;&#21487;&#20379;&#19968;&#20010;&#25110;&#22810;&#20010;&#23481;&#22120;&#20351;&#29992;&#30340;&#29305;&#27530;&#30446;&#24405;&#65292;&#23427;&#32469;&#36807; UFS&#65292;&#21487;&#20197;&#25552;&#20379;&#24456;&#22810;&#26377;&#29992;&#30340;&#29305;&#24615;&#65306;
    </p>
    <p>
      &#65288;1&#65289;&#12289;&#25968;&#25454;&#21367; &#21487;&#20197;&#22312;&#23481;&#22120;&#20043;&#38388;&#20849;&#20139;&#21644;&#37325;&#29992;
    </p>
    <p>
      &#65288;2&#65289;&#12289;&#23545; &#25968;&#25454;&#21367; &#30340;&#20462;&#25913;&#20250;&#31435;&#39532;&#29983;&#25928;
    </p>
    <p>
      &#65288;3&#65289;&#12289;&#23545; &#25968;&#25454;&#21367; &#30340;&#26356;&#26032;&#65292;&#19981;&#20250;&#24433;&#21709;&#38236;&#20687;
    </p>
    <p>
      &#65288;4&#65289;&#12289;&#25968;&#25454;&#21367; &#40664;&#35748;&#20250;&#19968;&#30452;&#23384;&#22312;&#65292;&#21363;&#20351;&#23481;&#22120;&#34987;&#21024;&#38500;
    </p>
    <p>
      &#27880;&#24847;&#65306;&#25968;&#25454;&#21367; &#30340;&#20351;&#29992;&#65292;&#31867;&#20284;&#20110; Linux &#19979;&#23545;&#30446;&#24405;&#25110;&#25991;&#20214;&#36827;&#34892; mount&#65292;&#38236;&#20687;&#20013;&#30340;&#34987;&#25351;&#23450;&#20026;&#25346;&#36733;&#28857;&#30340;&#30446;&#24405;&#20013;&#30340;&#25991;&#20214;&#20250;&#38544;&#34255;&#25481;&#65292;&#33021;&#26174;&#31034;&#30475;&#30340;&#26159;&#25346;&#36733;&#30340; &#25968;&#25454;&#21367;&#12290;
    </p>
    <p>
      2&#12289;&#21019;&#24314;&#19968;&#20010;&#25968;&#25454;&#21367;
    </p>
    <p>
      $ docker volume create my-vol
    </p>
    <p>
      &#26597;&#30475;&#25152;&#26377;&#30340; &#25968;&#25454;&#21367;
    </p>
    <p>
      $ docker volume ls
    </p>
    <p>
      local&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;my-vol
    </p>
    <p>
      &#22312;&#20027;&#26426;&#37324;&#20351;&#29992;&#20197;&#19979;&#21629;&#20196;&#21487;&#20197;&#26597;&#30475;&#25351;&#23450; &#25968;&#25454;&#21367; &#30340;&#20449;&#24687;
    </p>
    <p>
      $ docker volume inspect my-vol
    </p>
    <p>
      3&#12289;&#21551;&#21160;&#19968;&#20010;&#25346;&#36733;&#25968;&#25454;&#21367;&#30340;&#23481;&#22120;
    </p>
    <p>
      &#22312;&#29992; docker run &#21629;&#20196;&#30340;&#26102;&#20505;&#65292;&#20351;&#29992; --mount &#26631;&#35760;&#26469;&#23558; &#25968;&#25454;&#21367; &#25346;&#36733;&#21040;&#23481;&#22120;&#37324;&#12290;&#22312;&#19968;&#27425; docker run &#20013;&#21487;&#20197;&#25346;&#36733;&#22810;&#20010; &#25968;&#25454;&#21367;&#12290;
    </p>
    <p>
      &#19979;&#38754;&#21019;&#24314;&#19968;&#20010;&#21517;&#20026; web &#30340;&#23481;&#22120;&#65292;&#24182;&#21152;&#36733;&#19968;&#20010; &#25968;&#25454;&#21367; &#21040;&#23481;&#22120;&#30340; /webapp &#30446;&#24405;&#12290;
    </p>
    <p>
      $ docker run -d -P \
    </p>
    <p>
      &#160;&#160;&#160;&#160;--name web \
    </p>
    <p>
      &#160;&#160;&#160;&#160;# -v my-vol:/wepapp \
    </p>
    <p>
      &#160;&#160;&#160;&#160;--mount source=my-vol,target=/webapp \
    </p>
    <p>
      &#160;&#160;&#160;&#160;training/webapp \
    </p>
    <p>
      &#160;&#160;&#160;&#160;python app.py
    </p>
    <p>
      4&#12289;&#26597;&#30475;&#25968;&#25454;&#21367;&#30340;&#20855;&#20307;&#20449;&#24687;
    </p>
    <p>
      &#22312;&#20027;&#26426;&#37324;&#20351;&#29992;&#20197;&#19979;&#21629;&#20196;&#21487;&#20197;&#26597;&#30475; web &#23481;&#22120;&#30340;&#20449;&#24687;
    </p>
    <p>
      $ docker inspect web
    </p>
    <p>
      &#25968;&#25454;&#21367; &#20449;&#24687;&#22312; &quot;Mounts&quot; Key &#19979;&#38754;
    </p>
    <p>
      5&#12289;&#21024;&#38500;&#25968;&#25454;&#21367;
    </p>
    <p>
      $ docker volume rm my-vol
    </p>
    <p>
      &#25968;&#25454;&#21367; &#26159;&#34987;&#35774;&#35745;&#29992;&#26469;&#25345;&#20037;&#21270;&#25968;&#25454;&#30340;&#65292;&#23427;&#30340;&#29983;&#21629;&#21608;&#26399;&#29420;&#31435;&#20110;&#23481;&#22120;&#65292;Docker &#19981;&#20250;&#22312;&#23481;&#22120;&#34987;&#21024;&#38500;&#21518;&#33258;&#21160;&#21024;&#38500; &#25968;&#25454;&#21367;&#65292;&#24182;&#19988;&#20063;&#19981;&#23384;&#22312;&#22403;&#22334;&#22238;&#25910;&#36825;&#26679;&#30340;&#26426;&#21046;&#26469;&#22788;&#29702;&#27809;&#26377;&#20219;&#20309;&#23481;&#22120;&#24341;&#29992;&#30340; &#25968;&#25454;&#21367;&#12290;&#22914;&#26524;&#38656;&#35201;&#22312;&#21024;&#38500;&#23481;&#22120;&#30340;&#21516;&#26102;&#31227;&#38500;&#25968;&#25454;&#21367;&#12290;&#21487;&#20197;&#22312;&#21024;&#38500;&#23481;&#22120;&#30340;&#26102;&#20505;&#20351;&#29992; docker rm -v &#36825;&#20010;&#21629;&#20196;&#12290;
    </p>
    <p>
      &#26080;&#20027;&#30340;&#25968;&#25454;&#21367;&#21487;&#33021;&#20250;&#21344;&#25454;&#24456;&#22810;&#31354;&#38388;&#65292;&#35201;&#28165;&#29702;&#35831;&#20351;&#29992;&#20197;&#19979;&#21629;&#20196;
    </p>
    <p>
      $ docker volume prune
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1535362713532" ID="ID_879917462" MODIFIED="1535443060372">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#25346;&#36733;&#20027;&#26426;&#30446;&#24405;
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node CREATED="1535458419309" FOLDED="true" ID="ID_719545696" MODIFIED="1535515132128" POSITION="left" TEXT="&#x4f7f;&#x7528;&#x7f51;&#x7edc;">
<node CREATED="1535458430473" ID="ID_967669366" MODIFIED="1535460638586">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#22806;&#37096;&#35775;&#38382;&#23481;&#22120;
    </p>
    <p>
      1&#12289;&#35775;&#38382;&#22806;&#37096;&#23481;&#22120;
    </p>
    <p>
      &#65288;1&#65289;&#12289;&#20351;&#29992;-P&#21442;&#25968;&#65292;Docker&#20250;&#38543;&#26426;&#20998;&#37197;&#19968;&#20010;49000~49900&#30340;&#31471;&#21475;&#21040;&#20869;&#37096;&#23481;&#22120;&#24320;&#25918;&#30340;&#32593;&#32476;&#31471;&#21475;
    </p>
    <p>
      &#65288;2&#65289;&#12289;&#20351;&#29992;&quot;docker container ls&quot;&#26597;&#30475;PORTS&#21015;&#21487;&#20197;&#30475;&#21040;&#31471;&#21475;&#26144;&#23556;&#20851;&#31995;
    </p>
    <p>
      &#65288;3&#65289;&#12289;&#21487;&#20197;&#36890;&#36807; &#8220;docker logs -f &#23481;&#22120;&#21517;&#8221; &#21629;&#20196;&#26469;&#26597;&#30475;&#24212;&#29992;&#30340;&#20449;&#24687;&#12290;
    </p>
    <p>
      &#65288;4&#65289;&#12289;-p &#21017;&#21487;&#20197;&#25351;&#23450;&#35201;&#26144;&#23556;&#30340;&#31471;&#21475;&#65292;&#24182;&#19988;&#65292;&#22312;&#19968;&#20010;&#25351;&#23450;&#31471;&#21475;&#19978;&#21482;&#21487;&#20197;&#32465;&#23450;&#19968;&#20010;&#23481;&#22120;&#12290;&#25903;&#25345;&#30340;&#26684;&#24335;&#26377; ip:hostPort:containerPort | ip::containerPort | hostPort:containerPort&#12290;
    </p>
    <p>
      2&#12289;&#26144;&#23556;&#21040;&#25351;&#23450;&#22320;&#22336;&#30340;&#20219;&#24847;&#31471;&#21475;
    </p>
    <p>
      &#20351;&#29992; ip::containerPort &#32465;&#23450; localhost &#30340;&#20219;&#24847;&#31471;&#21475;&#21040;&#23481;&#22120;&#30340; 5000 &#31471;&#21475;&#65292;&#26412;&#22320;&#20027;&#26426;&#20250;&#33258;&#21160;&#20998;&#37197;&#19968;&#20010;&#31471;&#21475;&#12290;
    </p>
    <p>
      $ docker run -d -p 127.0.0.1::5000 training/webapp python app.py
    </p>
    <p>
      &#36824;&#21487;&#20197;&#20351;&#29992; udp &#26631;&#35760;&#26469;&#25351;&#23450; udp &#31471;&#21475;
    </p>
    <p>
      $ docker run -d -p 127.0.0.1:5000:5000/udp training/webapp python app.py
    </p>
    <p>
      3&#12289;&#26597;&#30475;&#26144;&#23556;&#31471;&#21475;&#37197;&#32622;
    </p>
    <p>
      &#20351;&#29992; &quot;docker port &#23481;&#22120;&#21517; &#23481;&#22120;&#26576;&#31471;&#21475;&quot;&#160;&#160;&#26469;&#26597;&#30475;&#24403;&#21069;&#26144;&#23556;&#30340;&#31471;&#21475;&#37197;&#32622;&#65292;&#20063;&#21487;&#20197;&#26597;&#30475;&#21040;&#32465;&#23450;&#30340;&#22320;&#22336;
    </p>
    <p>
      $ docker port nostalgic_morse 5000
    </p>
    <p>
      127.0.0.1:49155.
    </p>
    <p>
      4&#12289;&#20351;&#29992;&#8220;docker inspect &#23481;&#22120;&#21517;&#8221;&#21487;&#20197;&#26597;&#30475;&#23481;&#22120;&#30340;&#21464;&#37327;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1535460666502" ID="ID_1942437100" MODIFIED="1535461168199">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#23481;&#22120;&#20114;&#32852;
    </p>
    <p>
      1&#12289;&#26032;&#24314;&#32593;&#32476;
    </p>
    <p>
      docker network create -d bridge my-net
    </p>
    <p>
      -d&#21442;&#25968;&#25351;&#23450;&#32593;&#32476;&#31867;&#22411;&#65292;&#26377;bridge&#21644;overlay&#65288;&#29992;&#20110;Swarm mode&#65289;
    </p>
    <p>
      2&#12289;&#36830;&#25509;&#23481;&#22120;
    </p>
    <p>
      &#36816;&#34892;&#19968;&#20010;&#23481;&#22120;&#24182;&#36830;&#25509;&#21040;&#26032;&#24314;&#30340; my-net &#32593;&#32476;
    </p>
    <p>
      $ docker run -it --rm --name busybox1 --network my-net busybox sh
    </p>
    <p>
      &#25171;&#24320;&#26032;&#30340;&#32456;&#31471;&#65292;&#20877;&#36816;&#34892;&#19968;&#20010;&#23481;&#22120;&#24182;&#21152;&#20837;&#21040; my-net &#32593;&#32476;
    </p>
    <p>
      $ docker run -it --rm --name busybox2 --network my-net busybox sh
    </p>
    <p>
      &#36825;&#26679;busybox1&#21644;busybox2&#23601;&#24314;&#31435;&#20102;&#20114;&#32852;&#65292;&#22312;busybox1&#20013;&#8220;ping busybox2&#8221;&#21487;&#20197;ping&#21516;&#65292;&#21453;&#20043;&#20134;&#28982;
    </p>
    <p>
      3&#12289;Docker Compose
    </p>
    <p>
      &#22914;&#26524;&#20320;&#26377;&#22810;&#20010;&#23481;&#22120;&#20043;&#38388;&#38656;&#35201;&#20114;&#30456;&#36830;&#25509;&#65292;&#25512;&#33616;&#20351;&#29992; Docker Compose
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1535461268298" ID="ID_451151028" MODIFIED="1535461591762">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#37197;&#32622;DNS
    </p>
    <p>
      1&#12289;&#22914;&#20309;&#33258;&#23450;&#20041;&#37197;&#32622;&#23481;&#22120;&#30340;&#20027;&#26426;&#21517;&#21644; DNS &#21602;&#65311;&#31192;&#35776;&#23601;&#26159; Docker &#21033;&#29992;&#34394;&#25311;&#25991;&#20214;&#26469;&#25346;&#36733;&#23481;&#22120;&#30340; 3 &#20010;&#30456;&#20851;&#37197;&#32622;&#25991;&#20214;&#12290;
    </p>
    <p>
      &#22312;&#23481;&#22120;&#20013;&#20351;&#29992; mount &#21629;&#20196;&#21487;&#20197;&#30475;&#21040;&#25346;&#36733;&#20449;&#24687;&#65306;
    </p>
    <p>
      $ mount
    </p>
    <p>
      /dev/disk/by-uuid/1fec...ebdf on /etc/hostname type ext4 ...
    </p>
    <p>
      /dev/disk/by-uuid/1fec...ebdf on /etc/hosts type ext4 ...
    </p>
    <p>
      tmpfs on /etc/resolv.conf type tmpfs ...
    </p>
    <p>
      &#36825;&#31181;&#26426;&#21046;&#21487;&#20197;&#35753;&#23487;&#20027;&#20027;&#26426; DNS &#20449;&#24687;&#21457;&#29983;&#26356;&#26032;&#21518;&#65292;&#25152;&#26377; Docker &#23481;&#22120;&#30340; DNS &#37197;&#32622;&#36890;&#36807; /etc/resolv.conf &#25991;&#20214;&#31435;&#21051;&#24471;&#21040;&#26356;&#26032;&#12290;
    </p>
    <p>
      2&#12289;&#37197;&#32622;&#20840;&#37096;&#23481;&#22120;&#30340; DNS &#65292;&#20063;&#21487;&#20197;&#22312; /etc/docker/daemon.json &#25991;&#20214;&#20013;&#22686;&#21152;&#20197;&#19979;&#20869;&#23481;&#26469;&#35774;&#32622;&#12290;
    </p>
    <p>
      {
    </p>
    <p>
      &#160;&#160;&quot;dns&quot; : [
    </p>
    <p>
      &#160;&#160;&#160;&#160;&quot;114.114.114.114&quot;,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&quot;8.8.8.8&quot;
    </p>
    <p>
      &#160;&#160;]
    </p>
    <p>
      }
    </p>
    <p>
      &#36825;&#26679;&#27599;&#27425;&#21551;&#21160;&#30340;&#23481;&#22120; DNS &#33258;&#21160;&#37197;&#32622;&#20026; 114.114.114.114 &#21644; 8.8.8.8&#12290;&#20351;&#29992;&#20197;&#19979;&#21629;&#20196;&#26469;&#35777;&#26126;&#20854;&#24050;&#32463;&#29983;&#25928;&#12290;
    </p>
    <p>
      $ docker run -it --rm ubuntu:18.04&#160;&#160;cat etc/resolv.conf
    </p>
    <p>
      nameserver 114.114.114.114
    </p>
    <p>
      nameserver 8.8.8.8
    </p>
    <p>
      3&#12289;&#22914;&#26524;&#29992;&#25143;&#24819;&#35201;&#25163;&#21160;&#25351;&#23450;&#23481;&#22120;&#30340;&#37197;&#32622;&#65292;&#21487;&#20197;&#22312;&#20351;&#29992; docker run &#21629;&#20196;&#21551;&#21160;&#23481;&#22120;&#26102;&#21152;&#20837;&#22914;&#19979;&#21442;&#25968;&#65306;
    </p>
    <p>
      -h HOSTNAME &#25110;&#32773; --hostname=HOSTNAME &#35774;&#23450;&#23481;&#22120;&#30340;&#20027;&#26426;&#21517;&#65292;&#23427;&#20250;&#34987;&#20889;&#21040;&#23481;&#22120;&#20869;&#30340; /etc/hostname &#21644; /etc/hosts&#12290;&#20294;&#23427;&#22312;&#23481;&#22120;&#22806;&#37096;&#30475;&#19981;&#21040;&#65292;&#26082;&#19981;&#20250;&#22312; docker container ls &#20013;&#26174;&#31034;&#65292;&#20063;&#19981;&#20250;&#22312;&#20854;&#20182;&#30340;&#23481;&#22120;&#30340; /etc/hosts &#30475;&#21040;&#12290;
    </p>
    <p>
      --dns=IP_ADDRESS &#28155;&#21152; DNS &#26381;&#21153;&#22120;&#21040;&#23481;&#22120;&#30340; /etc/resolv.conf &#20013;&#65292;&#35753;&#23481;&#22120;&#29992;&#36825;&#20010;&#26381;&#21153;&#22120;&#26469;&#35299;&#26512;&#25152;&#26377;&#19981;&#22312; /etc/hosts &#20013;&#30340;&#20027;&#26426;&#21517;&#12290;
    </p>
    <p>
      --dns-search=DOMAIN &#35774;&#23450;&#23481;&#22120;&#30340;&#25628;&#32034;&#22495;&#65292;&#24403;&#35774;&#23450;&#25628;&#32034;&#22495;&#20026; .example.com &#26102;&#65292;&#22312;&#25628;&#32034;&#19968;&#20010;&#21517;&#20026; host &#30340;&#20027;&#26426;&#26102;&#65292;DNS &#19981;&#20165;&#25628;&#32034; host&#65292;&#36824;&#20250;&#25628;&#32034; host.example.com&#12290;
    </p>
    <p>
      &#27880;&#24847;&#65306;&#22914;&#26524;&#22312;&#23481;&#22120;&#21551;&#21160;&#26102;&#27809;&#26377;&#25351;&#23450;&#26368;&#21518;&#20004;&#20010;&#21442;&#25968;&#65292;Docker &#20250;&#40664;&#35748;&#29992;&#20027;&#26426;&#19978;&#30340; /etc/resolv.conf &#26469;&#37197;&#32622;&#23481;&#22120;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node CREATED="1535515142812" FOLDED="true" ID="ID_1949621626" MODIFIED="1535632340517" POSITION="left" TEXT="Docker Compose">
<node CREATED="1535515152158" ID="ID_1377248482" MODIFIED="1535515372192">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Compose &#31616;&#20171;
    </p>
    <p>
      1&#12289;Compose &#39033;&#30446;&#26159; Docker &#23448;&#26041;&#30340;&#24320;&#28304;&#39033;&#30446;&#65292;&#36127;&#36131;&#23454;&#29616;&#23545; Docker &#23481;&#22120;&#38598;&#32676;&#30340;&#24555;&#36895;&#32534;&#25490;&#12290;&#20174;&#21151;&#33021;&#19978;&#30475;&#65292;&#36319; OpenStack &#20013;&#30340; Heat &#21313;&#20998;&#31867;&#20284;&#12290;
    </p>
    <p>
      2&#12289;&#23450;&#20301;&#26159; &#12300;&#23450;&#20041;&#21644;&#36816;&#34892;&#22810;&#20010; Docker &#23481;&#22120;&#30340;&#24212;&#29992;&#12301;&#65292;&#20854;&#21069;&#36523;&#26159;&#24320;&#28304;&#39033;&#30446; Fig&#12290;
    </p>
    <p>
      3&#12289;&#36890;&#36807;&#31532;&#19968;&#37096;&#20998;&#20013;&#30340;&#20171;&#32461;&#65292;&#25105;&#20204;&#30693;&#36947;&#20351;&#29992;&#19968;&#20010; Dockerfile &#27169;&#26495;&#25991;&#20214;&#65292;&#21487;&#20197;&#35753;&#29992;&#25143;&#24456;&#26041;&#20415;&#30340;&#23450;&#20041;&#19968;&#20010;&#21333;&#29420;&#30340;&#24212;&#29992;&#23481;&#22120;&#12290;&#28982;&#32780;&#65292;&#22312;&#26085;&#24120;&#24037;&#20316;&#20013;&#65292;&#32463;&#24120;&#20250;&#30896;&#21040;&#38656;&#35201;&#22810;&#20010;&#23481;&#22120;&#30456;&#20114;&#37197;&#21512;&#26469;&#23436;&#25104;&#26576;&#39033;&#20219;&#21153;&#30340;&#24773;&#20917;&#12290;&#20363;&#22914;&#35201;&#23454;&#29616;&#19968;&#20010; Web &#39033;&#30446;&#65292;&#38500;&#20102; Web &#26381;&#21153;&#23481;&#22120;&#26412;&#36523;&#65292;&#24448;&#24448;&#36824;&#38656;&#35201;&#20877;&#21152;&#19978;&#21518;&#31471;&#30340;&#25968;&#25454;&#24211;&#26381;&#21153;&#23481;&#22120;&#65292;&#29978;&#33267;&#36824;&#21253;&#25324;&#36127;&#36733;&#22343;&#34913;&#23481;&#22120;&#31561;&#12290;
    </p>
    <p>
      Compose &#24688;&#22909;&#28385;&#36275;&#20102;&#36825;&#26679;&#30340;&#38656;&#27714;&#12290;&#23427;&#20801;&#35768;&#29992;&#25143;&#36890;&#36807;&#19968;&#20010;&#21333;&#29420;&#30340; docker-compose.yml &#27169;&#26495;&#25991;&#20214;&#65288;YAML &#26684;&#24335;&#65289;&#26469;&#23450;&#20041;&#19968;&#32452;&#30456;&#20851;&#32852;&#30340;&#24212;&#29992;&#23481;&#22120;&#20026;&#19968;&#20010;&#39033;&#30446;&#65288;project&#65289;&#12290;
    </p>
    <p>
      4&#12289;Compose &#20013;&#26377;&#20004;&#20010;&#37325;&#35201;&#30340;&#27010;&#24565;&#65306;
    </p>
    <p>
      &#26381;&#21153; (service)&#65306;&#19968;&#20010;&#24212;&#29992;&#30340;&#23481;&#22120;&#65292;&#23454;&#38469;&#19978;&#21487;&#20197;&#21253;&#25324;&#33509;&#24178;&#36816;&#34892;&#30456;&#21516;&#38236;&#20687;&#30340;&#23481;&#22120;&#23454;&#20363;&#12290;
    </p>
    <p>
      &#39033;&#30446; (project)&#65306;&#30001;&#19968;&#32452;&#20851;&#32852;&#30340;&#24212;&#29992;&#23481;&#22120;&#32452;&#25104;&#30340;&#19968;&#20010;&#23436;&#25972;&#19994;&#21153;&#21333;&#20803;&#65292;&#22312; docker-compose.yml &#25991;&#20214;&#20013;&#23450;&#20041;&#12290;
    </p>
    <p>
      Compose &#30340;&#40664;&#35748;&#31649;&#29702;&#23545;&#35937;&#26159;&#39033;&#30446;&#65292;&#36890;&#36807;&#23376;&#21629;&#20196;&#23545;&#39033;&#30446;&#20013;&#30340;&#19968;&#32452;&#23481;&#22120;&#36827;&#34892;&#20415;&#25463;&#22320;&#29983;&#21629;&#21608;&#26399;&#31649;&#29702;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1535520499018" ID="ID_1061044553" MODIFIED="1535520505255">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#23433;&#35013;&#19982;&#21368;&#36733;
    </p>
    <p>
      1&#12289;Compose &#21487;&#20197;&#36890;&#36807; Python &#30340;&#21253;&#31649;&#29702;&#24037;&#20855; pip &#36827;&#34892;&#23433;&#35013;&#65292;&#20063;&#21487;&#20197;&#30452;&#25509;&#19979;&#36733;&#32534;&#35793;&#22909;&#30340;&#20108;&#36827;&#21046;&#25991;&#20214;&#20351;&#29992;&#65292;&#29978;&#33267;&#33021;&#22815;&#30452;&#25509;&#22312; Docker &#23481;&#22120;&#20013;&#36816;&#34892;&#12290;&#21069;&#20004;&#31181;&#26041;&#24335;&#26159;&#20256;&#32479;&#26041;&#24335;&#65292;&#36866;&#21512;&#26412;&#22320;&#29615;&#22659;&#19979;&#23433;&#35013;&#20351;&#29992;&#65307;&#26368;&#21518;&#19968;&#31181;&#26041;&#24335;&#21017;&#19981;&#30772;&#22351;&#31995;&#32479;&#29615;&#22659;&#65292;&#26356;&#36866;&#21512;&#20113;&#35745;&#31639;&#22330;&#26223;&#12290;
    </p>
    <p>
      2&#12289;Docker for Mac &#12289;Docker for Windows &#33258;&#24102; docker-compose &#20108;&#36827;&#21046;&#25991;&#20214;&#65292;&#23433;&#35013; Docker &#20043;&#21518;&#21487;&#20197;&#30452;&#25509;&#20351;&#29992;&#12290;
    </p>
    <p>
      $ docker-compose --version
    </p>
    <p>
      docker-compose version 1.17.1, build 6d101fb
    </p>
    <p>
      3&#12289;Linux &#31995;&#32479;&#35831;&#20351;&#29992;&#20197;&#19979;&#20171;&#32461;&#30340;&#26041;&#27861;&#23433;&#35013;&#12290;
    </p>
    <p>
      &#65288;1&#65289;&#12289;&#20108;&#36827;&#21046;&#21253;
    </p>
    <p>
      &#22312; Linux &#19978;&#30340;&#20063;&#23433;&#35013;&#21313;&#20998;&#31616;&#21333;&#65292;&#20174; &#23448;&#26041; GitHub Release &#22788;&#30452;&#25509;&#19979;&#36733;&#32534;&#35793;&#22909;&#30340;&#20108;&#36827;&#21046;&#25991;&#20214;&#21363;&#21487;&#12290;
    </p>
    <p>
      &#20363;&#22914;&#65292;&#22312; Linux 64 &#20301;&#31995;&#32479;&#19978;&#30452;&#25509;&#19979;&#36733;&#23545;&#24212;&#30340;&#20108;&#36827;&#21046;&#21253;&#12290;
    </p>
    <p>
      $ sudo curl -L https://github.com/docker/compose/releases/download/1.17.1/docker-compose-`uname -s`-`uname -m` &gt; /usr/local/bin/docker-compose
    </p>
    <p>
      $ sudo chmod +x /usr/local/bin/docker-compose
    </p>
    <p>
      &#65288;2&#65289;&#12289;PIP &#23433;&#35013;
    </p>
    <p>
      &#27880;&#65306; x86_64 &#26550;&#26500;&#30340; Linux &#24314;&#35758;&#25353;&#29031;&#19978;&#36793;&#30340;&#26041;&#27861;&#19979;&#36733;&#20108;&#36827;&#21046;&#21253;&#36827;&#34892;&#23433;&#35013;&#65292;&#22914;&#26524;&#24744;&#35745;&#31639;&#26426;&#30340;&#26550;&#26500;&#26159; ARM (&#20363;&#22914;&#65292;&#26641;&#33683;&#27966;)&#65292;&#20877;&#20351;&#29992; pip &#23433;&#35013;&#12290;
    </p>
    <p>
      &#36825;&#31181;&#26041;&#24335;&#26159;&#23558; Compose &#24403;&#20316;&#19968;&#20010; Python &#24212;&#29992;&#26469;&#20174; pip &#28304;&#20013;&#23433;&#35013;&#12290;
    </p>
    <p>
      &#25191;&#34892;&#23433;&#35013;&#21629;&#20196;&#65306;
    </p>
    <p>
      $ sudo pip install -U docker-compose
    </p>
    <p>
      &#21487;&#20197;&#30475;&#21040;&#31867;&#20284;&#22914;&#19979;&#36755;&#20986;&#65292;&#35828;&#26126;&#23433;&#35013;&#25104;&#21151;&#12290;
    </p>
    <p>
      Collecting docker-compose
    </p>
    <p>
      &#160;&#160;Downloading docker-compose-1.17.1.tar.gz (149kB): 149kB downloaded
    </p>
    <p>
      ...
    </p>
    <p>
      Successfully installed docker-compose cached-property requests texttable websocket-client docker-py dockerpty six enum34 backports.ssl-match-hostname ipaddress
    </p>
    <p>
      bash &#34917;&#20840;&#21629;&#20196;
    </p>
    <p>
      $ curl -L https://raw.githubusercontent.com/docker/compose/1.8.0/contrib/completion/bash/docker-compose &gt; /etc/bash_completion.d/docker-compose
    </p>
    <p>
      &#65288;3&#65289;&#12289;&#23481;&#22120;&#20013;&#25191;&#34892;
    </p>
    <p>
      Compose &#26082;&#28982;&#26159;&#19968;&#20010; Python &#24212;&#29992;&#65292;&#33258;&#28982;&#20063;&#21487;&#20197;&#30452;&#25509;&#29992;&#23481;&#22120;&#26469;&#25191;&#34892;&#23427;&#12290;
    </p>
    <p>
      $ curl -L https://github.com/docker/compose/releases/download/1.8.0/run.sh &gt; /usr/local/bin/docker-compose
    </p>
    <p>
      $ chmod +x /usr/local/bin/docker-compose
    </p>
    <p>
      &#23454;&#38469;&#19978;&#65292;&#26597;&#30475;&#19979;&#36733;&#30340; run.sh &#33050;&#26412;&#20869;&#23481;&#65292;&#22914;&#19979;
    </p>
    <p>
      set -e
    </p>
    <p>
      
    </p>
    <p>
      VERSION=&quot;1.8.0&quot;
    </p>
    <p>
      IMAGE=&quot;docker/compose:$VERSION&quot;
    </p>
    <p>
      
    </p>
    <p>
      
    </p>
    <p>
      # Setup options for connecting to docker host
    </p>
    <p>
      if [ -z &quot;$DOCKER_HOST&quot; ]; then
    </p>
    <p>
      &#160;&#160;&#160;&#160;DOCKER_HOST=&quot;/var/run/docker.sock&quot;
    </p>
    <p>
      fi
    </p>
    <p>
      if [ -S &quot;$DOCKER_HOST&quot; ]; then
    </p>
    <p>
      &#160;&#160;&#160;&#160;DOCKER_ADDR=&quot;-v $DOCKER_HOST:$DOCKER_HOST -e DOCKER_HOST&quot;
    </p>
    <p>
      else
    </p>
    <p>
      &#160;&#160;&#160;&#160;DOCKER_ADDR=&quot;-e DOCKER_HOST -e DOCKER_TLS_VERIFY -e DOCKER_CERT_PATH&quot;
    </p>
    <p>
      fi
    </p>
    <p>
      
    </p>
    <p>
      
    </p>
    <p>
      # Setup volume mounts for compose config and context
    </p>
    <p>
      if [ &quot;$(pwd)&quot; != '/' ]; then
    </p>
    <p>
      &#160;&#160;&#160;&#160;VOLUMES=&quot;-v $(pwd):$(pwd)&quot;
    </p>
    <p>
      fi
    </p>
    <p>
      if [ -n &quot;$COMPOSE_FILE&quot; ]; then
    </p>
    <p>
      &#160;&#160;&#160;&#160;compose_dir=$(dirname $COMPOSE_FILE)
    </p>
    <p>
      fi
    </p>
    <p>
      # TODO: also check --file argument
    </p>
    <p>
      if [ -n &quot;$compose_dir&quot; ]; then
    </p>
    <p>
      &#160;&#160;&#160;&#160;VOLUMES=&quot;$VOLUMES -v $compose_dir:$compose_dir&quot;
    </p>
    <p>
      fi
    </p>
    <p>
      if [ -n &quot;$HOME&quot; ]; then
    </p>
    <p>
      &#160;&#160;&#160;&#160;VOLUMES=&quot;$VOLUMES -v $HOME:$HOME -v $HOME:/root&quot; # mount $HOME in /root to share docker.config
    </p>
    <p>
      fi
    </p>
    <p>
      
    </p>
    <p>
      # Only allocate tty if we detect one
    </p>
    <p>
      if [ -t 1 ]; then
    </p>
    <p>
      &#160;&#160;&#160;&#160;DOCKER_RUN_OPTIONS=&quot;-t&quot;
    </p>
    <p>
      fi
    </p>
    <p>
      if [ -t 0 ]; then
    </p>
    <p>
      &#160;&#160;&#160;&#160;DOCKER_RUN_OPTIONS=&quot;$DOCKER_RUN_OPTIONS -i&quot;
    </p>
    <p>
      fi
    </p>
    <p>
      
    </p>
    <p>
      exec docker run --rm $DOCKER_RUN_OPTIONS $DOCKER_ADDR $COMPOSE_OPTIONS $VOLUMES -w &quot;$(pwd)&quot; $IMAGE &quot;$@&quot;
    </p>
    <p>
      &#21487;&#20197;&#30475;&#21040;&#65292;&#23427;&#20854;&#23454;&#26159;&#19979;&#36733;&#20102; docker/compose &#38236;&#20687;&#24182;&#36816;&#34892;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      4&#12289;&#21368;&#36733;
    </p>
    <p>
      &#22914;&#26524;&#26159;&#20108;&#36827;&#21046;&#21253;&#26041;&#24335;&#23433;&#35013;&#30340;&#65292;&#21024;&#38500;&#20108;&#36827;&#21046;&#25991;&#20214;&#21363;&#21487;&#12290;
    </p>
    <p>
      $ sudo rm /usr/local/bin/docker-compose
    </p>
    <p>
      &#22914;&#26524;&#26159;&#36890;&#36807; pip &#23433;&#35013;&#30340;&#65292;&#21017;&#25191;&#34892;&#22914;&#19979;&#21629;&#20196;&#21363;&#21487;&#21024;&#38500;&#12290;
    </p>
    <p>
      $ sudo pip uninstall docker-compose
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1535523970992" ID="ID_122294411" MODIFIED="1535523977979">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#20351;&#29992;
    </p>
    <p>
      1&#12289;&#26415;&#35821;
    </p>
    <p>
      &#26381;&#21153; (service)&#65306;&#19968;&#20010;&#24212;&#29992;&#23481;&#22120;&#65292;&#23454;&#38469;&#19978;&#21487;&#20197;&#36816;&#34892;&#22810;&#20010;&#30456;&#21516;&#38236;&#20687;&#30340;&#23454;&#20363;&#12290;
    </p>
    <p>
      &#39033;&#30446; (project)&#65306;&#30001;&#19968;&#32452;&#20851;&#32852;&#30340;&#24212;&#29992;&#23481;&#22120;&#32452;&#25104;&#30340;&#19968;&#20010;&#23436;&#25972;&#19994;&#21153;&#21333;&#20803;&#12290;
    </p>
    <p>
      &#21487;&#35265;&#65292;&#19968;&#20010;&#39033;&#30446;&#21487;&#20197;&#30001;&#22810;&#20010;&#26381;&#21153;&#65288;&#23481;&#22120;&#65289;&#20851;&#32852;&#32780;&#25104;&#65292;Compose &#38754;&#21521;&#39033;&#30446;&#36827;&#34892;&#31649;&#29702;&#12290;
    </p>
    <p>
      2&#12289;&#22330;&#26223;
    </p>
    <p>
      &#26368;&#24120;&#35265;&#30340;&#39033;&#30446;&#26159; web &#32593;&#31449;&#65292;&#35813;&#39033;&#30446;&#24212;&#35813;&#21253;&#21547; web &#24212;&#29992;&#21644;&#32531;&#23384;&#12290;
    </p>
    <p>
      &#19979;&#38754;&#25105;&#20204;&#29992; Python &#26469;&#24314;&#31435;&#19968;&#20010;&#33021;&#22815;&#35760;&#24405;&#39029;&#38754;&#35775;&#38382;&#27425;&#25968;&#30340; web &#32593;&#31449;&#12290;
    </p>
    <p>
      &#26032;&#24314;&#25991;&#20214;&#22841;&#65292;&#22312;&#35813;&#30446;&#24405;&#20013;&#32534;&#20889; app.py &#25991;&#20214;
    </p>
    <p>
      
    </p>
    <p>
      from flask import Flask
    </p>
    <p>
      from redis import Redis
    </p>
    <p>
      
    </p>
    <p>
      app = Flask(__name__)
    </p>
    <p>
      redis = Redis(host='redis', port=6379)
    </p>
    <p>
      
    </p>
    <p>
      @app.route('/')
    </p>
    <p>
      def hello():
    </p>
    <p>
      &#160;&#160;&#160;&#160;count = redis.incr('hits')
    </p>
    <p>
      &#160;&#160;&#160;&#160;return 'Hello World! &#35813;&#39029;&#38754;&#24050;&#34987;&#35775;&#38382; {} &#27425;&#12290;\n'.format(count)
    </p>
    <p>
      
    </p>
    <p>
      if __name__ == &quot;__main__&quot;:
    </p>
    <p>
      &#160;&#160;&#160;&#160;app.run(host=&quot;0.0.0.0&quot;, debug=True)
    </p>
    <p>
      Dockerfile
    </p>
    <p>
      &#32534;&#20889; Dockerfile &#25991;&#20214;&#65292;&#20869;&#23481;&#20026;
    </p>
    <p>
      
    </p>
    <p>
      FROM python:3.6-alpine
    </p>
    <p>
      ADD . /code
    </p>
    <p>
      WORKDIR /code
    </p>
    <p>
      RUN pip install redis flask
    </p>
    <p>
      CMD [&quot;python&quot;, &quot;app.py&quot;]
    </p>
    <p>
      docker-compose.yml
    </p>
    <p>
      &#32534;&#20889; docker-compose.yml &#25991;&#20214;&#65292;&#36825;&#20010;&#26159; Compose &#20351;&#29992;&#30340;&#20027;&#27169;&#26495;&#25991;&#20214;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      version: '3'
    </p>
    <p>
      services:
    </p>
    <p>
      
    </p>
    <p>
      &#160;&#160;web:
    </p>
    <p>
      &#160;&#160;&#160;&#160;build: .
    </p>
    <p>
      &#160;&#160;&#160;&#160;ports:
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;- &quot;5000:5000&quot;
    </p>
    <p>
      
    </p>
    <p>
      &#160;&#160;redis:
    </p>
    <p>
      &#160;&#160;&#160;&#160;image: &quot;redis:alpine&quot;
    </p>
    <p>
      &#36816;&#34892; compose &#39033;&#30446;
    </p>
    <p>
      $ docker-compose up
    </p>
    <p>
      &#27492;&#26102;&#35775;&#38382;&#26412;&#22320; 5000 &#31471;&#21475;&#65292;&#27599;&#27425;&#21047;&#26032;&#39029;&#38754;&#65292;&#35745;&#25968;&#23601;&#20250;&#21152; 1&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
</map>
