<map version="1.0.1">
<!-- To view this file, download free mind mapping software FreeMind from http://freemind.sourceforge.net -->
<node CREATED="1506343665802" ID="ID_683136024" MODIFIED="1506343671208" TEXT="ES6">
<node CREATED="1506344278960" FOLDED="true" ID="ID_1955356079" MODIFIED="1509807819074" POSITION="right" TEXT="Promise">
<node CREATED="1506344652578" ID="ID_655152306" MODIFIED="1506344659140">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Promise&#20063;&#26377;&#19968;&#20123;&#32570;&#28857;&#12290;&#39318;&#20808;&#65292;&#26080;&#27861;&#21462;&#28040;Promise&#65292;&#19968;&#26086;&#26032;&#24314;&#23427;&#23601;&#20250;&#31435;&#21363;&#25191;&#34892;&#65292;&#26080;&#27861;&#20013;&#36884;&#21462;&#28040;&#12290;&#20854;&#27425;&#65292;&#22914;&#26524;&#19981;&#35774;&#32622;&#22238;&#35843;&#20989;&#25968;&#65292;Promise&#20869;&#37096;&#25243;&#20986;&#30340;&#38169;&#35823;&#65292;&#19981;&#20250;&#21453;&#24212;&#21040;&#22806;&#37096;&#12290;&#31532;&#19977;&#65292;&#24403;&#22788;&#20110;pending&#29366;&#24577;&#26102;&#65292;&#26080;&#27861;&#24471;&#30693;&#30446;&#21069;&#36827;&#23637;&#21040;&#21738;&#19968;&#20010;&#38454;&#27573;&#65288;&#21018;&#21018;&#24320;&#22987;&#36824;&#26159;&#21363;&#23558;&#23436;&#25104;&#65289;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1506344673257" ID="ID_759143477" MODIFIED="1506344675237" TEXT="&#x5982;&#x679c;&#x67d0;&#x4e9b;&#x4e8b;&#x4ef6;&#x4e0d;&#x65ad;&#x5730;&#x53cd;&#x590d;&#x53d1;&#x751f;&#xff0c;&#x4e00;&#x822c;&#x6765;&#x8bf4;&#xff0c;&#x4f7f;&#x7528; Stream &#x6a21;&#x5f0f;&#x662f;&#x6bd4;&#x90e8;&#x7f72;Promise&#x66f4;&#x597d;&#x7684;&#x9009;&#x62e9;&#x3002;"/>
<node CREATED="1506344969880" ID="ID_1482868846" MODIFIED="1506345254618">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#22914;&#26524;&#35843;&#29992;resolve&#20989;&#25968;&#21644;reject&#20989;&#25968;&#26102;&#24102;&#26377;&#21442;&#25968;&#65292;&#37027;&#20040;&#23427;&#20204;&#30340;&#21442;&#25968;&#20250;&#34987;&#20256;&#36882;&#32473;&#22238;&#35843;&#20989;&#25968;&#12290;reject&#20989;&#25968;&#30340;&#21442;&#25968;&#36890;&#24120;&#26159;Error&#23545;&#35937;&#30340;&#23454;&#20363;&#65292;&#34920;&#31034;&#25243;&#20986;&#30340;&#38169;&#35823;&#65307;resolve&#20989;&#25968;&#30340;&#21442;&#25968;&#38500;&#20102;&#27491;&#24120;&#30340;&#20540;&#20197;&#22806;&#65292;&#36824;&#21487;&#33021;&#26159;&#21478;&#19968;&#20010; Promise &#23454;&#20363;&#65292;&#27604;&#22914;&#20687;&#19979;&#38754;&#36825;&#26679;&#12290;
    </p>
    <p>
      var p1 = new Promise(function (resolve, reject) {
    </p>
    <p>
      &#160;&#160;// ...
    </p>
    <p>
      });
    </p>
    <p>
      var p2 = new Promise(function (resolve, reject) {
    </p>
    <p>
      &#160;&#160;// ...
    </p>
    <p>
      &#160;&#160;resolve(p1);
    </p>
    <p>
      })
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;p1&#21644;p2&#37117;&#26159; Promise &#30340;&#23454;&#20363;&#65292;&#20294;&#26159;p2&#30340;resolve&#26041;&#27861;&#23558;p1&#20316;&#20026;&#21442;&#25968;&#65292;&#21363;&#19968;&#20010;&#24322;&#27493;&#25805;&#20316;&#30340;&#32467;&#26524;&#26159;&#36820;&#22238;&#21478;&#19968;&#20010;&#24322;&#27493;&#25805;&#20316;&#12290;
    </p>
    <p>
      &#27880;&#24847;&#65292;&#36825;&#26102;p1&#30340;&#29366;&#24577;&#23601;&#20250;&#20256;&#36882;&#32473;p2&#65292;&#20063;&#23601;&#26159;&#35828;&#65292;p1&#30340;&#29366;&#24577;&#20915;&#23450;&#20102;p2&#30340;&#29366;&#24577;&#12290;&#22914;&#26524;p1&#30340;&#29366;&#24577;&#26159;pending&#65292;&#37027;&#20040;p2&#30340;&#22238;&#35843;&#20989;&#25968;&#23601;&#20250;&#31561;&#24453;p1&#30340;&#29366;&#24577;&#25913;&#21464;&#65307;&#22914;&#26524;p1&#30340;&#29366;&#24577;&#24050;&#32463;&#26159;resolved&#25110;&#32773;rejected&#65292;&#37027;&#20040;p2&#30340;&#22238;&#35843;&#20989;&#25968;&#23558;&#20250;&#31435;&#21051;&#25191;&#34892;&#12290;
    </p>
    <p>
      var p1 = new Promise(function (resolve, reject) {
    </p>
    <p>
      &#160;&#160;setTimeout(() =&gt; reject(new Error('fail')), 3000)
    </p>
    <p>
      })
    </p>
    <p>
      var p2 = new Promise(function (resolve, reject) {
    </p>
    <p>
      &#160;&#160;setTimeout(() =&gt; resolve(p1), 1000)
    </p>
    <p>
      })
    </p>
    <p>
      p2
    </p>
    <p>
      &#160;&#160;.then(result =&gt; console.log(result))
    </p>
    <p>
      &#160;&#160;.catch(error =&gt; console.log(error))
    </p>
    <p>
      // Error: fail
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;p1&#26159;&#19968;&#20010;Promise&#65292;3&#31186;&#20043;&#21518;&#21464;&#20026;rejected&#12290;p2&#30340;&#29366;&#24577;&#22312;1&#31186;&#20043;&#21518;&#25913;&#21464;&#65292;resolve&#26041;&#27861;&#36820;&#22238;&#30340;&#26159;p1&#12290;&#30001;&#20110;p2&#36820;&#22238;&#30340;&#26159;&#21478;&#19968;&#20010; Promise&#65292;&#23548;&#33268;p2&#33258;&#24049;&#30340;&#29366;&#24577;&#26080;&#25928;&#20102;&#65292;&#30001;p1&#30340;&#29366;&#24577;&#20915;&#23450;p2&#30340;&#29366;&#24577;&#12290;&#25152;&#20197;&#65292;&#21518;&#38754;&#30340;then&#35821;&#21477;&#37117;&#21464;&#25104;&#38024;&#23545;&#21518;&#32773;&#65288;p1&#65289;&#12290;&#21448;&#36807;&#20102;2&#31186;&#65292;p1&#21464;&#20026;rejected&#65292;&#23548;&#33268;&#35302;&#21457;catch&#26041;&#27861;&#25351;&#23450;&#30340;&#22238;&#35843;&#20989;&#25968;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1506345258342" ID="ID_72939557" MODIFIED="1506345307380">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#27880;&#24847;&#65292;&#35843;&#29992;resolve&#25110;reject&#24182;&#19981;&#20250;&#32456;&#32467; Promise &#30340;&#21442;&#25968;&#20989;&#25968;&#30340;&#25191;&#34892;&#12290;
    </p>
    <p>
      new Promise((resolve, reject) =&gt; {
    </p>
    <p>
      &#160;&#160;resolve(1);
    </p>
    <p>
      &#160;&#160;console.log(2);
    </p>
    <p>
      }).then(r =&gt; {
    </p>
    <p>
      &#160;&#160;console.log(r);
    </p>
    <p>
      });
    </p>
    <p>
      // 2
    </p>
    <p>
      // 1
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;&#35843;&#29992;resolve(1)&#20197;&#21518;&#65292;&#21518;&#38754;&#30340;console.log(2)&#36824;&#26159;&#20250;&#25191;&#34892;&#65292;&#24182;&#19988;&#20250;&#39318;&#20808;&#25171;&#21360;&#20986;&#26469;&#12290;&#36825;&#26159;&#22240;&#20026;&#31435;&#21363; resolved &#30340; Promise &#26159;&#22312;&#26412;&#36718;&#20107;&#20214;&#24490;&#29615;&#30340;&#26411;&#23614;&#25191;&#34892;&#65292;&#24635;&#26159;&#26202;&#20110;&#26412;&#36718;&#24490;&#29615;&#30340;&#21516;&#27493;&#20219;&#21153;&#12290;
    </p>
    <p>
      &#19968;&#33324;&#26469;&#35828;&#65292;&#35843;&#29992;resolve&#25110;reject&#20197;&#21518;&#65292;Promise &#30340;&#20351;&#21629;&#23601;&#23436;&#25104;&#20102;&#65292;&#21518;&#32487;&#25805;&#20316;&#24212;&#35813;&#25918;&#21040;then&#26041;&#27861;&#37324;&#38754;&#65292;&#32780;&#19981;&#24212;&#35813;&#30452;&#25509;&#20889;&#22312;resolve&#25110;reject&#30340;&#21518;&#38754;&#12290;&#25152;&#20197;&#65292;&#26368;&#22909;&#22312;&#23427;&#20204;&#21069;&#38754;&#21152;&#19978;return&#35821;&#21477;&#65292;&#36825;&#26679;&#23601;&#19981;&#20250;&#26377;&#24847;&#22806;&#12290;
    </p>
    <p>
      new Promise((resolve, reject) =&gt; {
    </p>
    <p>
      &#160;&#160;return resolve(1);
    </p>
    <p>
      &#160;&#160;// &#21518;&#38754;&#30340;&#35821;&#21477;&#19981;&#20250;&#25191;&#34892;
    </p>
    <p>
      &#160;&#160;console.log(2);
    </p>
    <p>
      })
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1506345579338" ID="ID_1450700618" MODIFIED="1506346019096">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      then&#26041;&#27861;&#36820;&#22238;&#30340;&#26159;&#19968;&#20010;&#26032;&#30340;Promise&#23454;&#20363;&#65288;&#27880;&#24847;&#65292;&#19981;&#26159;&#21407;&#26469;&#37027;&#20010;Promise&#23454;&#20363;&#65289;&#12290;&#22240;&#27492;&#21487;&#20197;&#37319;&#29992;&#38142;&#24335;&#20889;&#27861;&#65292;&#21363;then&#26041;&#27861;&#21518;&#38754;&#20877;&#35843;&#29992;&#21478;&#19968;&#20010;then&#26041;&#27861;&#12290;
    </p>
    <p>
      getJSON(&quot;/posts.json&quot;).then(function(json) {
    </p>
    <p>
      &#160;&#160;return json.post;
    </p>
    <p>
      }).then(function(post) {
    </p>
    <p>
      &#160;&#160;// ...
    </p>
    <p>
      });
    </p>
    <p>
      &#19978;&#38754;&#30340;&#20195;&#30721;&#20351;&#29992;then&#26041;&#27861;&#65292;&#20381;&#27425;&#25351;&#23450;&#20102;&#20004;&#20010;&#22238;&#35843;&#20989;&#25968;&#12290;&#31532;&#19968;&#20010;&#22238;&#35843;&#20989;&#25968;&#23436;&#25104;&#20197;&#21518;&#65292;&#20250;&#23558;&#36820;&#22238;&#32467;&#26524;&#20316;&#20026;&#21442;&#25968;&#65292;&#20256;&#20837;&#31532;&#20108;&#20010;&#22238;&#35843;&#20989;&#25968;&#12290;
    </p>
    <p>
      &#37319;&#29992;&#38142;&#24335;&#30340;then&#65292;&#21487;&#20197;&#25351;&#23450;&#19968;&#32452;&#25353;&#29031;&#27425;&#24207;&#35843;&#29992;&#30340;&#22238;&#35843;&#20989;&#25968;&#12290;&#36825;&#26102;&#65292;&#21069;&#19968;&#20010;&#22238;&#35843;&#20989;&#25968;&#65292;&#26377;&#21487;&#33021;&#36820;&#22238;&#30340;&#36824;&#26159;&#19968;&#20010;Promise&#23545;&#35937;&#65288;&#21363;&#26377;&#24322;&#27493;&#25805;&#20316;&#65289;&#65292;&#36825;&#26102;&#21518;&#19968;&#20010;&#22238;&#35843;&#20989;&#25968;&#65292;&#23601;&#20250;&#31561;&#24453;&#35813;Promise&#23545;&#35937;&#30340;&#29366;&#24577;&#21457;&#29983;&#21464;&#21270;&#65292;&#25165;&#20250;&#34987;&#35843;&#29992;&#12290;
    </p>
    <p>
      &#37319;&#29992;&#38142;&#24335;&#30340;then&#65292;&#21487;&#20197;&#25351;&#23450;&#19968;&#32452;&#25353;&#29031;&#27425;&#24207;&#35843;&#29992;&#30340;&#22238;&#35843;&#20989;&#25968;&#12290;&#36825;&#26102;&#65292;&#21069;&#19968;&#20010;&#22238;&#35843;&#20989;&#25968;&#65292;&#26377;&#21487;&#33021;&#36820;&#22238;&#30340;&#36824;&#26159;&#19968;&#20010;Promise&#23545;&#35937;&#65288;&#21363;&#26377;&#24322;&#27493;&#25805;&#20316;&#65289;&#65292;&#36825;&#26102;&#21518;&#19968;&#20010;&#22238;&#35843;&#20989;&#25968;&#65292;&#23601;&#20250;&#31561;&#24453;&#35813;Promise&#23545;&#35937;&#30340;&#29366;&#24577;&#21457;&#29983;&#21464;&#21270;&#65292;&#25165;&#20250;&#34987;&#35843;&#29992;&#12290;
    </p>
    <p>
      getJSON(&quot;/post/1.json&quot;).then(function(post) {
    </p>
    <p>
      &#160;&#160;return getJSON(post.commentURL);
    </p>
    <p>
      }).then(function funcA(comments) {
    </p>
    <p>
      &#160;&#160;console.log(&quot;resolved: &quot;, comments);
    </p>
    <p>
      }, function funcB(err){
    </p>
    <p>
      &#160;&#160;console.log(&quot;rejected: &quot;, err);
    </p>
    <p>
      });
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;&#31532;&#19968;&#20010;then&#26041;&#27861;&#25351;&#23450;&#30340;&#22238;&#35843;&#20989;&#25968;&#65292;&#36820;&#22238;&#30340;&#26159;&#21478;&#19968;&#20010;Promise&#23545;&#35937;&#12290;&#36825;&#26102;&#65292;&#31532;&#20108;&#20010;then&#26041;&#27861;&#25351;&#23450;&#30340;&#22238;&#35843;&#20989;&#25968;&#65292;&#23601;&#20250;&#31561;&#24453;&#36825;&#20010;&#26032;&#30340;Promise&#23545;&#35937;&#29366;&#24577;&#21457;&#29983;&#21464;&#21270;&#12290;&#22914;&#26524;&#21464;&#20026;resolved&#65292;&#23601;&#35843;&#29992;funcA&#65292;&#22914;&#26524;&#29366;&#24577;&#21464;&#20026;rejected&#65292;&#23601;&#35843;&#29992;funcB&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1506352801873" ID="ID_1989305579" MODIFIED="1506353384039">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Promise.prototype.catch&#26041;&#27861;&#26159;.then(null, rejection)&#30340;&#21035;&#21517;&#65292;&#29992;&#20110;&#25351;&#23450;&#21457;&#29983;&#38169;&#35823;&#26102;&#30340;&#22238;&#35843;&#20989;&#25968;&#12290;
    </p>
    <p>
      getJSON('/posts.json').then(function(posts) {
    </p>
    <p>
      &#160;&#160;// ...
    </p>
    <p>
      }).catch(function(error) {
    </p>
    <p>
      &#160;&#160;// &#22788;&#29702; getJSON &#21644; &#21069;&#19968;&#20010;&#22238;&#35843;&#20989;&#25968;&#36816;&#34892;&#26102;&#21457;&#29983;&#30340;&#38169;&#35823;
    </p>
    <p>
      &#160;&#160;console.log('&#21457;&#29983;&#38169;&#35823;&#65281;', error);
    </p>
    <p>
      });
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;getJSON&#26041;&#27861;&#36820;&#22238;&#19968;&#20010; Promise &#23545;&#35937;&#65292;&#22914;&#26524;&#35813;&#23545;&#35937;&#29366;&#24577;&#21464;&#20026;resolved&#65292;&#21017;&#20250;&#35843;&#29992;then&#26041;&#27861;&#25351;&#23450;&#30340;&#22238;&#35843;&#20989;&#25968;&#65307;&#22914;&#26524;&#24322;&#27493;&#25805;&#20316;&#25243;&#20986;&#38169;&#35823;&#65292;&#29366;&#24577;&#23601;&#20250;&#21464;&#20026;rejected&#65292;&#23601;&#20250;&#35843;&#29992;catch&#26041;&#27861;&#25351;&#23450;&#30340;&#22238;&#35843;&#20989;&#25968;&#65292;&#22788;&#29702;&#36825;&#20010;&#38169;&#35823;&#12290;&#21478;&#22806;&#65292;then&#26041;&#27861;&#25351;&#23450;&#30340;&#22238;&#35843;&#20989;&#25968;&#65292;&#22914;&#26524;&#36816;&#34892;&#20013;&#25243;&#20986;&#38169;&#35823;&#65292;&#20063;&#20250;&#34987;catch&#26041;&#27861;&#25429;&#33719;&#12290;
    </p>
    <p>
      p.then((val) =&gt; console.log('fulfilled:', val))
    </p>
    <p>
      &#160;&#160;.catch((err) =&gt; console.log('rejected', err));
    </p>
    <p>
      // &#31561;&#21516;&#20110;
    </p>
    <p>
      p.then((val) =&gt; console.log('fulfilled:', val))
    </p>
    <p>
      &#160;&#160;.then(null, (err) =&gt; console.log(&quot;rejected:&quot;, err));
    </p>
    <p>
      
    </p>
    <p>
      var promise = new Promise(function(resolve, reject) {
    </p>
    <p>
      &#160;&#160;throw new Error('test');
    </p>
    <p>
      });
    </p>
    <p>
      promise.catch(function(error) {
    </p>
    <p>
      &#160;&#160;console.log(error);
    </p>
    <p>
      });
    </p>
    <p>
      // Error: test
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1506353215597" ID="ID_680860472" MODIFIED="1506354537685">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Promise &#23545;&#35937;&#30340;&#38169;&#35823;&#20855;&#26377;&#8220;&#20882;&#27873;&#8221;&#24615;&#36136;&#65292;&#20250;&#19968;&#30452;&#21521;&#21518;&#20256;&#36882;&#65288;catch&#26041;&#27861;&#65292;&#25110;&#32773;then&#30340;&#31532;&#20108;&#20010;&#26041;&#27861;&#65289;&#65292;&#30452;&#21040;&#34987;&#25429;&#33719;&#20026;&#27490;&#12290;&#20063;&#23601;&#26159;&#35828;&#65292;&#38169;&#35823;&#24635;&#26159;&#20250;&#34987;&#19979;&#19968;&#20010;catch&#35821;&#21477;&#25429;&#33719;&#12290;
    </p>
    <p>
      getJSON('/post/1.json').then(function(post) {
    </p>
    <p>
      &#160;&#160;return getJSON(post.commentURL);
    </p>
    <p>
      }).then(function(comments) {
    </p>
    <p>
      &#160;&#160;// some code
    </p>
    <p>
      }).catch(function(error) {
    </p>
    <p>
      &#160;&#160;// &#22788;&#29702;&#21069;&#38754;&#19977;&#20010;Promise&#20135;&#29983;&#30340;&#38169;&#35823;
    </p>
    <p>
      });
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;&#19968;&#20849;&#26377;&#19977;&#20010;Promise&#23545;&#35937;&#65306;&#19968;&#20010;&#30001;getJSON&#20135;&#29983;&#65292;&#20004;&#20010;&#30001;then&#20135;&#29983;&#12290;&#23427;&#20204;&#20043;&#20013;&#20219;&#20309;&#19968;&#20010;&#25243;&#20986;&#30340;&#38169;&#35823;&#65292;&#37117;&#20250;&#34987;&#26368;&#21518;&#19968;&#20010;catch&#25429;&#33719;&#12290;
    </p>
    <p>
      &#19968;&#33324;&#26469;&#35828;&#65292;&#19981;&#35201;&#22312;then&#26041;&#27861;&#37324;&#38754;&#23450;&#20041;Reject&#29366;&#24577;&#30340;&#22238;&#35843;&#20989;&#25968;&#65288;&#21363;then&#30340;&#31532;&#20108;&#20010;&#21442;&#25968;&#65289;&#65292;&#24635;&#26159;&#20351;&#29992;catch&#26041;&#27861;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      &#27880;&#24847;&#65292;&#22312;&#19968;&#27425;then&#30340;&#35843;&#29992;&#20013;&#65292;&#31532;&#20108;&#20010;&#26041;&#27861;&#25429;&#33719;&#19981;&#21040;&#31532;&#19968;&#20010;&#26041;&#27861;&#20013;&#25243;&#20986;&#30340;&#24322;&#24120;
    </p>
    <p>
      Promise.resolve(1).then(function() {
    </p>
    <p>
      &#160;&#160;&#160;&#160;throw new Error('error1');
    </p>
    <p>
      }, function() {
    </p>
    <p>
      &#160;&#160;&#160;&#160;// &#36825;&#37324;&#25429;&#33719;&#19981;&#21040;&#31532;&#19968;&#20010;&#20989;&#25968;&#20013;&#25243;&#20986;&#30340;&#38169;&#35823;
    </p>
    <p>
      });
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1506353602339" ID="ID_94159725" MODIFIED="1506353617517">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#36319;&#20256;&#32479;&#30340;try/catch&#20195;&#30721;&#22359;&#19981;&#21516;&#30340;&#26159;&#65292;&#22914;&#26524;&#27809;&#26377;&#20351;&#29992;catch&#26041;&#27861;&#25351;&#23450;&#38169;&#35823;&#22788;&#29702;&#30340;&#22238;&#35843;&#20989;&#25968;&#65292;Promise &#23545;&#35937;&#25243;&#20986;&#30340;&#38169;&#35823;&#19981;&#20250;&#20256;&#36882;&#21040;&#22806;&#23618;&#20195;&#30721;&#65292;&#21363;&#19981;&#20250;&#26377;&#20219;&#20309;&#21453;&#24212;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      const someAsyncThing = function() {
    </p>
    <p>
      &#160;&#160;return new Promise(function(resolve, reject) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;// &#19979;&#38754;&#19968;&#34892;&#20250;&#25253;&#38169;&#65292;&#22240;&#20026;x&#27809;&#26377;&#22768;&#26126;
    </p>
    <p>
      &#160;&#160;&#160;&#160;resolve(x + 2);
    </p>
    <p>
      &#160;&#160;});
    </p>
    <p>
      };
    </p>
    <p>
      
    </p>
    <p>
      someAsyncThing().then(function() {
    </p>
    <p>
      &#160;&#160;console.log('everything is great');
    </p>
    <p>
      });
    </p>
    <p>
      
    </p>
    <p>
      setTimeout(() =&gt; { console.log(123) }, 2000);
    </p>
    <p>
      // Uncaught (in promise) ReferenceError: x is not defined
    </p>
    <p>
      // 123
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;someAsyncThing&#20989;&#25968;&#20135;&#29983;&#30340; Promise &#23545;&#35937;&#65292;&#20869;&#37096;&#26377;&#35821;&#27861;&#38169;&#35823;&#12290;&#27983;&#35272;&#22120;&#36816;&#34892;&#21040;&#36825;&#19968;&#34892;&#65292;&#20250;&#25171;&#21360;&#20986;&#38169;&#35823;&#25552;&#31034;ReferenceError: x is not defined&#65292;&#20294;&#26159;&#19981;&#20250;&#36864;&#20986;&#36827;&#31243;&#12289;&#32456;&#27490;&#33050;&#26412;&#25191;&#34892;&#65292;2&#31186;&#20043;&#21518;&#36824;&#26159;&#20250;&#36755;&#20986;123&#12290;&#36825;&#23601;&#26159;&#35828;&#65292;Promise &#20869;&#37096;&#30340;&#38169;&#35823;&#19981;&#20250;&#24433;&#21709;&#21040; Promise &#22806;&#37096;&#30340;&#20195;&#30721;&#65292;&#36890;&#20439;&#30340;&#35828;&#27861;&#23601;&#26159;&#8220;Promise &#20250;&#21507;&#25481;&#38169;&#35823;&#8221;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1506354667175" ID="ID_270576150" MODIFIED="1506354676587">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Promise.all&#26041;&#27861;&#29992;&#20110;&#23558;&#22810;&#20010; Promise &#23454;&#20363;&#65292;&#21253;&#35013;&#25104;&#19968;&#20010;&#26032;&#30340; Promise &#23454;&#20363;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      var p = Promise.all([p1, p2, p3]);
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;Promise.all&#26041;&#27861;&#25509;&#21463;&#19968;&#20010;&#25968;&#32452;&#20316;&#20026;&#21442;&#25968;&#65292;p1&#12289;p2&#12289;p3&#37117;&#26159; Promise &#23454;&#20363;&#65292;&#22914;&#26524;&#19981;&#26159;&#65292;&#23601;&#20250;&#20808;&#35843;&#29992;&#19979;&#38754;&#35762;&#21040;&#30340;Promise.resolve&#26041;&#27861;&#65292;&#23558;&#21442;&#25968;&#36716;&#20026; Promise &#23454;&#20363;&#65292;&#20877;&#36827;&#19968;&#27493;&#22788;&#29702;&#12290;&#65288;Promise.all&#26041;&#27861;&#30340;&#21442;&#25968;&#21487;&#20197;&#19981;&#26159;&#25968;&#32452;&#65292;&#20294;&#24517;&#39035;&#20855;&#26377; Iterator &#25509;&#21475;&#65292;&#19988;&#36820;&#22238;&#30340;&#27599;&#20010;&#25104;&#21592;&#37117;&#26159; Promise &#23454;&#20363;&#12290;&#65289;
    </p>
    <p>
      
    </p>
    <p>
      p&#30340;&#29366;&#24577;&#30001;p1&#12289;p2&#12289;p3&#20915;&#23450;&#65292;&#20998;&#25104;&#20004;&#31181;&#24773;&#20917;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      &#65288;1&#65289;&#21482;&#26377;p1&#12289;p2&#12289;p3&#30340;&#29366;&#24577;&#37117;&#21464;&#25104;fulfilled&#65292;p&#30340;&#29366;&#24577;&#25165;&#20250;&#21464;&#25104;fulfilled&#65292;&#27492;&#26102;p1&#12289;p2&#12289;p3&#30340;&#36820;&#22238;&#20540;&#32452;&#25104;&#19968;&#20010;&#25968;&#32452;&#65292;&#20256;&#36882;&#32473;p&#30340;&#22238;&#35843;&#20989;&#25968;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      &#65288;2&#65289;&#21482;&#35201;p1&#12289;p2&#12289;p3&#20043;&#20013;&#26377;&#19968;&#20010;&#34987;rejected&#65292;p&#30340;&#29366;&#24577;&#23601;&#21464;&#25104;rejected&#65292;&#27492;&#26102;&#31532;&#19968;&#20010;&#34987;reject&#30340;&#23454;&#20363;&#30340;&#36820;&#22238;&#20540;&#65292;&#20250;&#20256;&#36882;&#32473;p&#30340;&#22238;&#35843;&#20989;&#25968;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1506355315175" ID="ID_1210543726" MODIFIED="1506355320324">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Promise.race&#26041;&#27861;&#21516;&#26679;&#26159;&#23558;&#22810;&#20010;Promise&#23454;&#20363;&#65292;&#21253;&#35013;&#25104;&#19968;&#20010;&#26032;&#30340;Promise&#23454;&#20363;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      var p = Promise.race([p1, p2, p3]);
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;&#21482;&#35201;p1&#12289;p2&#12289;p3&#20043;&#20013;&#26377;&#19968;&#20010;&#23454;&#20363;&#29575;&#20808;&#25913;&#21464;&#29366;&#24577;&#65292;p&#30340;&#29366;&#24577;&#23601;&#36319;&#30528;&#25913;&#21464;&#12290;&#37027;&#20010;&#29575;&#20808;&#25913;&#21464;&#30340; Promise &#23454;&#20363;&#30340;&#36820;&#22238;&#20540;&#65292;&#23601;&#20256;&#36882;&#32473;p&#30340;&#22238;&#35843;&#20989;&#25968;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1506388927878" ID="ID_1828660048" MODIFIED="1506389071892">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#26377;&#26102;&#38656;&#35201;&#23558;&#29616;&#26377;&#23545;&#35937;&#36716;&#20026;Promise&#23545;&#35937;&#65292;Promise.resolve&#26041;&#27861;&#23601;&#36215;&#21040;&#36825;&#20010;&#20316;&#29992;&#12290;
    </p>
    <p>
      var jsPromise = Promise.resolve($.ajax('/whatever.json'));
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#23558;jQuery&#29983;&#25104;&#30340;deferred&#23545;&#35937;&#65292;&#36716;&#20026;&#19968;&#20010;&#26032;&#30340;Promise&#23545;&#35937;&#12290;
    </p>
    <p>
      Promise.resolve&#31561;&#20215;&#20110;&#19979;&#38754;&#30340;&#20889;&#27861;&#12290;
    </p>
    <p>
      Promise.resolve('foo')
    </p>
    <p>
      // &#31561;&#20215;&#20110;
    </p>
    <p>
      new Promise(resolve =&gt; resolve('foo'))
    </p>
    <p>
      Promise.resolve&#26041;&#27861;&#30340;&#21442;&#25968;&#20998;&#25104;&#22235;&#31181;&#24773;&#20917;&#12290;
    </p>
    <p>
      &#65288;1&#65289;&#21442;&#25968;&#26159;&#19968;&#20010;Promise&#23454;&#20363;
    </p>
    <p>
      &#22914;&#26524;&#21442;&#25968;&#26159;Promise&#23454;&#20363;&#65292;&#37027;&#20040;Promise.resolve&#23558;&#19981;&#20570;&#20219;&#20309;&#20462;&#25913;&#12289;&#21407;&#23553;&#19981;&#21160;&#22320;&#36820;&#22238;&#36825;&#20010;&#23454;&#20363;&#12290;
    </p>
    <p>
      &#65288;2&#65289;&#21442;&#25968;&#26159;&#19968;&#20010;thenable&#23545;&#35937;
    </p>
    <p>
      thenable&#23545;&#35937;&#25351;&#30340;&#26159;&#20855;&#26377;then&#26041;&#27861;&#30340;&#23545;&#35937;&#65292;&#27604;&#22914;&#19979;&#38754;&#36825;&#20010;&#23545;&#35937;&#12290;
    </p>
    <p>
      let thenable = {
    </p>
    <p>
      &#160;&#160;then: function(resolve, reject) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;resolve(42);
    </p>
    <p>
      &#160;&#160;}
    </p>
    <p>
      };
    </p>
    <p>
      Promise.resolve&#26041;&#27861;&#20250;&#23558;&#36825;&#20010;&#23545;&#35937;&#36716;&#20026;Promise&#23545;&#35937;&#65292;&#28982;&#21518;&#23601;&#31435;&#21363;&#25191;&#34892;thenable&#23545;&#35937;&#30340;then&#26041;&#27861;&#12290;
    </p>
    <p>
      let thenable = {
    </p>
    <p>
      &#160;&#160;then: function(resolve, reject) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;resolve(42);
    </p>
    <p>
      &#160;&#160;}
    </p>
    <p>
      };
    </p>
    <p>
      let p1 = Promise.resolve(thenable);
    </p>
    <p>
      p1.then(function(value) {
    </p>
    <p>
      &#160;&#160;console.log(value);&#160;&#160;// 42
    </p>
    <p>
      });
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;thenable&#23545;&#35937;&#30340;then&#26041;&#27861;&#25191;&#34892;&#21518;&#65292;&#23545;&#35937;p1&#30340;&#29366;&#24577;&#23601;&#21464;&#20026;resolved&#65292;&#20174;&#32780;&#31435;&#21363;&#25191;&#34892;&#26368;&#21518;&#37027;&#20010;then&#26041;&#27861;&#25351;&#23450;&#30340;&#22238;&#35843;&#20989;&#25968;&#65292;&#36755;&#20986;42&#12290;
    </p>
    <p>
      &#65288;3&#65289;&#21442;&#25968;&#19981;&#26159;&#20855;&#26377;then&#26041;&#27861;&#30340;&#23545;&#35937;&#65292;&#25110;&#26681;&#26412;&#23601;&#19981;&#26159;&#23545;&#35937;
    </p>
    <p>
      &#22914;&#26524;&#21442;&#25968;&#26159;&#19968;&#20010;&#21407;&#22987;&#20540;&#65292;&#25110;&#32773;&#26159;&#19968;&#20010;&#19981;&#20855;&#26377;then&#26041;&#27861;&#30340;&#23545;&#35937;&#65292;&#21017;Promise.resolve&#26041;&#27861;&#36820;&#22238;&#19968;&#20010;&#26032;&#30340;Promise&#23545;&#35937;&#65292;&#29366;&#24577;&#20026;resolved&#12290;
    </p>
    <p>
      var p = Promise.resolve('Hello');
    </p>
    <p>
      p.then(function (s){
    </p>
    <p>
      &#160;&#160;console.log(s)
    </p>
    <p>
      });
    </p>
    <p>
      // Hello
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#29983;&#25104;&#19968;&#20010;&#26032;&#30340;Promise&#23545;&#35937;&#30340;&#23454;&#20363;p&#12290;&#30001;&#20110;&#23383;&#31526;&#20018;Hello&#19981;&#23646;&#20110;&#24322;&#27493;&#25805;&#20316;&#65288;&#21028;&#26029;&#26041;&#27861;&#26159;&#23383;&#31526;&#20018;&#23545;&#35937;&#19981;&#20855;&#26377;then&#26041;&#27861;&#65289;&#65292;&#36820;&#22238;Promise&#23454;&#20363;&#30340;&#29366;&#24577;&#20174;&#19968;&#29983;&#25104;&#23601;&#26159;resolved&#65292;&#25152;&#20197;&#22238;&#35843;&#20989;&#25968;&#20250;&#31435;&#21363;&#25191;&#34892;&#12290;Promise.resolve&#26041;&#27861;&#30340;&#21442;&#25968;&#65292;&#20250;&#21516;&#26102;&#20256;&#32473;&#22238;&#35843;&#20989;&#25968;&#12290;
    </p>
    <p>
      &#65288;4&#65289;&#19981;&#24102;&#26377;&#20219;&#20309;&#21442;&#25968;
    </p>
    <p>
      Promise.resolve&#26041;&#27861;&#20801;&#35768;&#35843;&#29992;&#26102;&#19981;&#24102;&#21442;&#25968;&#65292;&#30452;&#25509;&#36820;&#22238;&#19968;&#20010;resolved&#29366;&#24577;&#30340;Promise&#23545;&#35937;&#12290;
    </p>
    <p>
      &#25152;&#20197;&#65292;&#22914;&#26524;&#24076;&#26395;&#24471;&#21040;&#19968;&#20010;Promise&#23545;&#35937;&#65292;&#27604;&#36739;&#26041;&#20415;&#30340;&#26041;&#27861;&#23601;&#26159;&#30452;&#25509;&#35843;&#29992;Promise.resolve&#26041;&#27861;&#12290;
    </p>
    <p>
      var p = Promise.resolve();
    </p>
    <p>
      p.then(function () {
    </p>
    <p>
      &#160;&#160;// ...
    </p>
    <p>
      });
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#30340;&#21464;&#37327;p&#23601;&#26159;&#19968;&#20010;Promise&#23545;&#35937;&#12290;
    </p>
    <p>
      &#38656;&#35201;&#27880;&#24847;&#30340;&#26159;&#65292;&#31435;&#21363;resolve&#30340;Promise&#23545;&#35937;&#65292;&#26159;&#22312;&#26412;&#36718;&#8220;&#20107;&#20214;&#24490;&#29615;&#8221;&#65288;event loop&#65289;&#30340;&#32467;&#26463;&#26102;&#65292;&#32780;&#19981;&#26159;&#22312;&#19979;&#19968;&#36718;&#8220;&#20107;&#20214;&#24490;&#29615;&#8221;&#30340;&#24320;&#22987;&#26102;&#12290;
    </p>
    <p>
      setTimeout(function () {
    </p>
    <p>
      &#160;&#160;console.log('three');
    </p>
    <p>
      }, 0);
    </p>
    <p>
      Promise.resolve().then(function () {
    </p>
    <p>
      &#160;&#160;console.log('two');
    </p>
    <p>
      });
    </p>
    <p>
      console.log('one');
    </p>
    <p>
      // one
    </p>
    <p>
      // two
    </p>
    <p>
      // three
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;setTimeout(fn, 0)&#22312;&#19979;&#19968;&#36718;&#8220;&#20107;&#20214;&#24490;&#29615;&#8221;&#24320;&#22987;&#26102;&#25191;&#34892;&#65292;Promise.resolve()&#22312;&#26412;&#36718;&#8220;&#20107;&#20214;&#24490;&#29615;&#8221;&#32467;&#26463;&#26102;&#25191;&#34892;&#65292;console.log('one')&#21017;&#26159;&#31435;&#21363;&#25191;&#34892;&#65292;&#22240;&#27492;&#26368;&#20808;&#36755;&#20986;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1506394827066" ID="ID_1756657684" MODIFIED="1506394848697">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Promise.reject(reason)&#26041;&#27861;&#20063;&#20250;&#36820;&#22238;&#19968;&#20010;&#26032;&#30340; Promise &#23454;&#20363;&#65292;&#35813;&#23454;&#20363;&#30340;&#29366;&#24577;&#20026;rejected&#12290;
    </p>
    <p>
      var p = Promise.reject('&#20986;&#38169;&#20102;');
    </p>
    <p>
      // &#31561;&#21516;&#20110;
    </p>
    <p>
      var p = new Promise((resolve, reject) =&gt; reject('&#20986;&#38169;&#20102;'))
    </p>
    <p>
      p.then(null, function (s) {
    </p>
    <p>
      &#160;&#160;console.log(s)
    </p>
    <p>
      });
    </p>
    <p>
      // &#20986;&#38169;&#20102;
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#29983;&#25104;&#19968;&#20010;Promise&#23545;&#35937;&#30340;&#23454;&#20363;p&#65292;&#29366;&#24577;&#20026;rejected&#65292;&#22238;&#35843;&#20989;&#25968;&#20250;&#31435;&#21363;&#25191;&#34892;&#12290;
    </p>
    <p>
      &#27880;&#24847;&#65292;Promise.reject()&#26041;&#27861;&#30340;&#21442;&#25968;&#65292;&#20250;&#21407;&#23553;&#19981;&#21160;&#22320;&#20316;&#20026;reject&#30340;&#29702;&#30001;&#65292;&#21464;&#25104;&#21518;&#32493;&#26041;&#27861;&#30340;&#21442;&#25968;&#12290;&#36825;&#19968;&#28857;&#19982;Promise.resolve&#26041;&#27861;&#19981;&#19968;&#33268;&#12290;
    </p>
    <p>
      const thenable = {
    </p>
    <p>
      &#160;&#160;then(resolve, reject) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;reject('&#20986;&#38169;&#20102;');
    </p>
    <p>
      &#160;&#160;}
    </p>
    <p>
      };
    </p>
    <p>
      Promise.reject(thenable)
    </p>
    <p>
      .catch(e =&gt; {
    </p>
    <p>
      &#160;&#160;console.log(e === thenable)
    </p>
    <p>
      })
    </p>
    <p>
      // true
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;Promise.reject&#26041;&#27861;&#30340;&#21442;&#25968;&#26159;&#19968;&#20010;thenable&#23545;&#35937;&#65292;&#25191;&#34892;&#20197;&#21518;&#65292;&#21518;&#38754;catch&#26041;&#27861;&#30340;&#21442;&#25968;&#19981;&#26159;reject&#25243;&#20986;&#30340;&#8220;&#20986;&#38169;&#20102;&#8221;&#36825;&#20010;&#23383;&#31526;&#20018;&#65292;&#32780;&#26159;thenable&#23545;&#35937;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1506395772272" ID="ID_524581060" MODIFIED="1506395784265">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#23454;&#38469;&#24320;&#21457;&#20013;&#65292;&#32463;&#24120;&#36935;&#21040;&#19968;&#31181;&#24773;&#20917;&#65306;&#19981;&#30693;&#36947;&#25110;&#32773;&#19981;&#24819;&#21306;&#20998;&#65292;&#20989;&#25968;f&#26159;&#21516;&#27493;&#20989;&#25968;&#36824;&#26159;&#24322;&#27493;&#25805;&#20316;&#65292;&#20294;&#26159;&#24819;&#29992; Promise &#26469;&#22788;&#29702;&#23427;&#12290;&#22240;&#20026;&#36825;&#26679;&#23601;&#21487;&#20197;&#19981;&#31649;f&#26159;&#21542;&#21253;&#21547;&#24322;&#27493;&#25805;&#20316;&#65292;&#37117;&#29992;then&#26041;&#27861;&#25351;&#23450;&#19979;&#19968;&#27493;&#27969;&#31243;&#65292;&#29992;catch&#26041;&#27861;&#22788;&#29702;f&#25243;&#20986;&#30340;&#38169;&#35823;&#12290;&#19968;&#33324;&#23601;&#20250;&#37319;&#29992;&#19979;&#38754;&#30340;&#20889;&#27861;&#12290;
    </p>
    <p>
      Promise.resolve().then(f)
    </p>
    <p>
      &#19978;&#38754;&#30340;&#20889;&#27861;&#26377;&#19968;&#20010;&#32570;&#28857;&#65292;&#23601;&#26159;&#22914;&#26524;f&#26159;&#21516;&#27493;&#20989;&#25968;&#65292;&#37027;&#20040;&#23427;&#20250;&#22312;&#26412;&#36718;&#20107;&#20214;&#24490;&#29615;&#30340;&#26411;&#23614;&#25191;&#34892;&#12290;
    </p>
    <p>
      const f = () =&gt; console.log('now');
    </p>
    <p>
      Promise.resolve().then(f);
    </p>
    <p>
      console.log('next');
    </p>
    <p>
      // next
    </p>
    <p>
      // now
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;&#20989;&#25968;f&#26159;&#21516;&#27493;&#30340;&#65292;&#20294;&#26159;&#29992; Promise &#21253;&#35013;&#20102;&#20197;&#21518;&#65292;&#23601;&#21464;&#25104;&#24322;&#27493;&#25191;&#34892;&#20102;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1508074892808" FOLDED="true" ID="ID_405316166" MODIFIED="1531362698079" POSITION="right" TEXT="Proxy">
<node CREATED="1508075459311" ID="ID_1052342204" MODIFIED="1508126392251">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#27010;&#36848;
    </p>
    <p>
      1&#12289;Proxy &#29992;&#20110;&#20462;&#25913;&#26576;&#20123;&#25805;&#20316;&#30340;&#40664;&#35748;&#34892;&#20026;&#65292;&#31561;&#21516;&#20110;&#22312;&#35821;&#35328;&#23618;&#38754;&#20570;&#20986;&#20462;&#25913;&#65292;&#25152;&#20197;&#23646;&#20110;&#19968;&#31181;&#8220;&#20803;&#32534;&#31243;&#8221;&#65288;meta programming&#65289;&#65292;&#21363;&#23545;&#32534;&#31243;&#35821;&#35328;&#36827;&#34892;&#32534;&#31243;&#12290;
    </p>
    <p>
      2&#12289;&#23454;&#20363;
    </p>
    <p>
      var proxy = new Proxy({}, {
    </p>
    <p>
      &#160;&#160;get: function(target, property) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;return 35;
    </p>
    <p>
      &#160;&#160;}
    </p>
    <p>
      });
    </p>
    <p>
      proxy.time // 35
    </p>
    <p>
      proxy.name // 35
    </p>
    <p>
      proxy.title // 35
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;&#30001;&#20110;&#25318;&#25130;&#20989;&#25968;&#24635;&#26159;&#36820;&#22238;35&#65292;&#25152;&#20197;&#35775;&#38382;&#20219;&#20309;&#23646;&#24615;&#37117;&#24471;&#21040;35&#12290;
    </p>
    <p>
      3&#12289;Proxy &#23454;&#20363;&#20063;&#21487;&#20197;&#20316;&#20026;&#20854;&#20182;&#23545;&#35937;&#30340;&#21407;&#22411;&#23545;&#35937;&#12290;
    </p>
    <p>
      var proxy = new Proxy({}, {
    </p>
    <p>
      &#160;&#160;get: function(target, property) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;return 35;
    </p>
    <p>
      &#160;&#160;}
    </p>
    <p>
      });
    </p>
    <p>
      let obj = Object.create(proxy);
    </p>
    <p>
      obj.time // 35
    </p>
    <p>
      4&#12289;&#19979;&#38754;&#26159; Proxy &#25903;&#25345;&#30340;&#25318;&#25130;&#25805;&#20316;&#19968;&#35272;&#65292;&#19968;&#20849;13&#31181;&#12290;
    </p>
    <p>
      &#65288;1&#65289;&#12289;get(target, propKey, receiver)&#65306;&#25318;&#25130;&#23545;&#35937;&#23646;&#24615;&#30340;&#35835;&#21462;&#65292;&#27604;&#22914;proxy.foo&#21644;proxy['foo']&#12290;
    </p>
    <p>
      &#65288;2&#65289;&#12289;set(target, propKey, value, receiver)&#65306;&#25318;&#25130;&#23545;&#35937;&#23646;&#24615;&#30340;&#35774;&#32622;&#65292;&#27604;&#22914;proxy.foo = v&#25110;proxy['foo'] = v&#65292;&#36820;&#22238;&#19968;&#20010;&#24067;&#23572;&#20540;&#12290;
    </p>
    <p>
      &#65288;3&#65289;&#12289;has(target, propKey)&#65306;&#25318;&#25130;propKey in proxy&#30340;&#25805;&#20316;&#65292;&#36820;&#22238;&#19968;&#20010;&#24067;&#23572;&#20540;&#12290;
    </p>
    <p>
      &#65288;4&#65289;&#12289;deleteProperty(target, propKey)&#65306;&#25318;&#25130;delete proxy[propKey]&#30340;&#25805;&#20316;&#65292;&#36820;&#22238;&#19968;&#20010;&#24067;&#23572;&#20540;&#12290;
    </p>
    <p>
      &#65288;5&#65289;&#12289;ownKeys(target)&#65306;&#25318;&#25130;Object.getOwnPropertyNames(proxy)&#12289;Object.getOwnPropertySymbols(proxy)&#12289;Object.keys(proxy)&#65292;&#36820;&#22238;&#19968;&#20010;&#25968;&#32452;&#12290;&#35813;&#26041;&#27861;&#36820;&#22238;&#30446;&#26631;&#23545;&#35937;&#25152;&#26377;&#33258;&#36523;&#30340;&#23646;&#24615;&#30340;&#23646;&#24615;&#21517;&#65292;&#32780;Object.keys()&#30340;&#36820;&#22238;&#32467;&#26524;&#20165;&#21253;&#25324;&#30446;&#26631;&#23545;&#35937;&#33258;&#36523;&#30340;&#21487;&#36941;&#21382;&#23646;&#24615;&#12290;
    </p>
    <p>
      &#65288;6&#65289;&#12289;getOwnPropertyDescriptor(target, propKey)&#65306;&#25318;&#25130;Object.getOwnPropertyDescriptor(proxy, propKey)&#65292;&#36820;&#22238;&#23646;&#24615;&#30340;&#25551;&#36848;&#23545;&#35937;&#12290;
    </p>
    <p>
      &#65288;7&#65289;&#12289;defineProperty(target, propKey, propDesc)&#65306;&#25318;&#25130;Object.defineProperty(proxy, propKey, propDesc&#65289;&#12289;Object.defineProperties(proxy, propDescs)&#65292;&#36820;&#22238;&#19968;&#20010;&#24067;&#23572;&#20540;&#12290;
    </p>
    <p>
      &#65288;8&#65289;&#12289;preventExtensions(target)&#65306;&#25318;&#25130;Object.preventExtensions(proxy)&#65292;&#36820;&#22238;&#19968;&#20010;&#24067;&#23572;&#20540;&#12290;
    </p>
    <p>
      &#65288;9&#65289;&#12289;getPrototypeOf(target)&#65306;&#25318;&#25130;Object.getPrototypeOf(proxy)&#65292;&#36820;&#22238;&#19968;&#20010;&#23545;&#35937;&#12290;
    </p>
    <p>
      &#65288;10&#65289;&#12289;isExtensible(target)&#65306;&#25318;&#25130;Object.isExtensible(proxy)&#65292;&#36820;&#22238;&#19968;&#20010;&#24067;&#23572;&#20540;&#12290;
    </p>
    <p>
      &#65288;11&#65289;&#12289;setPrototypeOf(target, proto)&#65306;&#25318;&#25130;Object.setPrototypeOf(proxy, proto)&#65292;&#36820;&#22238;&#19968;&#20010;&#24067;&#23572;&#20540;&#12290;&#22914;&#26524;&#30446;&#26631;&#23545;&#35937;&#26159;&#20989;&#25968;&#65292;&#37027;&#20040;&#36824;&#26377;&#20004;&#31181;&#39069;&#22806;&#25805;&#20316;&#21487;&#20197;&#25318;&#25130;&#12290;
    </p>
    <p>
      &#65288;12&#65289;&#12289;apply(target, object, args)&#65306;&#25318;&#25130; Proxy &#23454;&#20363;&#20316;&#20026;&#20989;&#25968;&#35843;&#29992;&#30340;&#25805;&#20316;&#65292;&#27604;&#22914;proxy(...args)&#12289;proxy.call(object, ...args)&#12289;proxy.apply(...)&#12290;
    </p>
    <p>
      &#65288;13&#65289;&#12289;construct(target, args)&#65306;&#25318;&#25130; Proxy &#23454;&#20363;&#20316;&#20026;&#26500;&#36896;&#20989;&#25968;&#35843;&#29992;&#30340;&#25805;&#20316;&#65292;&#27604;&#22914;new proxy(...args)&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1508126468921" ID="ID_143052524" MODIFIED="1508158406579">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#25318;&#25130;&#26041;&#27861;&#20171;&#32461;
    </p>
    <p>
      1&#12289;get()
    </p>
    <p>
      &#65288;1&#65289;&#12289;&#21487;&#20197;&#25509;&#21463;&#19977;&#20010;&#21442;&#25968;&#65292;&#20381;&#27425;&#20026;&#30446;&#26631;&#23545;&#35937;&#12289;&#23646;&#24615;&#21517;&#21644; proxy &#23454;&#20363;&#26412;&#36523;&#65288;&#20063;&#21487;&#33021;&#26159;&#32487;&#25215;&#33258;proxy&#30340;&#23545;&#35937;&#65289;&#65292;&#20854;&#20013;&#26368;&#21518;&#19968;&#20010;&#21442;&#25968;&#21487;&#36873;&#12290;
    </p>
    <p>
      &#65288;2&#65289;&#12289;&#22914;&#26524;&#19968;&#20010;&#23646;&#24615;&#19981;&#21487;&#37197;&#32622;&#65288;configurable&#65289;&#21644;&#19981;&#21487;&#20889;&#65288;writable&#65289;&#65292;&#27880;&#24847;&#65292;&#26159;configurable&#21644;writable&#21516;&#26102;&#20026;false&#65292;&#21017;&#35813;&#23646;&#24615;&#19981;&#33021;&#34987;&#20195;&#29702;&#65292;&#36890;&#36807; Proxy &#23545;&#35937;&#35775;&#38382;&#35813;&#23646;&#24615;&#20250;&#25253;&#38169;&#12290;
    </p>
    <p>
      const target = Object.defineProperties({}, {
    </p>
    <p>
      &#160;&#160;foo: {
    </p>
    <p>
      &#160;&#160;&#160;&#160;value: 123,
    </p>
    <p>
      &#160;&#160;&#160;&#160;writable: false,
    </p>
    <p>
      &#160;&#160;&#160;&#160;configurable: false
    </p>
    <p>
      &#160;&#160;},
    </p>
    <p>
      });
    </p>
    <p>
      const handler = {
    </p>
    <p>
      &#160;&#160;get(target, propKey) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;//if('foo' == propKey) return target[propKey]; &#21152;&#19978;&#36825;&#34892;&#23601;&#19981;&#25253;&#38169;&#65292;&#22240;&#20026;&#27809;&#26377;&#23581;&#35797;&#20462;&#25913;foo&#30340;&#20540;
    </p>
    <p>
      &#160;&#160;&#160;&#160;return 'abc';
    </p>
    <p>
      &#160;&#160;}
    </p>
    <p>
      };
    </p>
    <p>
      const proxy = new Proxy(target, handler);
    </p>
    <p>
      proxy.foo
    </p>
    <p>
      // &#20250;&#20986;&#38169;&#65292;&#22240;&#20026;&#23581;&#35797;&#23558;foo&#23646;&#24615;&#30340;&#20540;&#25913;&#20026;'abc'&#65292;&#32780;foo&#23646;&#24615;&#26159;&#19981;&#21487;&#20889;&#21644;&#19981;&#21487;&#37197;&#32622;&#30340;
    </p>
    <p>
      &#65288;3&#65289;&#12289;&#24403;proxy&#23545;&#35937;&#29992;&#20110;&#21407;&#22411;&#26102;&#65292;&#35835;&#21462;&#23545;&#35937;&#23646;&#24615;&#26102;&#65292;&#22914;&#26524;&#23545;&#35937;&#33258;&#36523;&#25317;&#26377;&#35813;&#23646;&#24615;&#21017;&#30452;&#25509;&#35835;&#21462;&#65292;proxy&#19981;&#20171;&#20837;&#65292;&#22914;&#26524;&#23545;&#35937;&#33258;&#36523;&#27809;&#26377;&#30340;&#23646;&#24615;&#65292;&#27492;&#26102;&#21040;&#21407;&#22411;&#38142;&#20013;&#26597;&#25214;&#65292;&#27492;&#26102;proxy&#20250;&#20171;&#20837;
    </p>
    <p>
      const handler = {
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;get(target, propKey) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return 'abc';
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;}
    </p>
    <p>
      };
    </p>
    <p>
      const proxy = new Proxy({
    </p>
    <p>
      &#160;&#160;&#160;&#160;xxx: 1
    </p>
    <p>
      }, handler);
    </p>
    <p>
      const obj = Object.create(proxy);
    </p>
    <p>
      obj.yyy = 111;
    </p>
    <p>
      console.log(obj.yyy); // 111&#65292;&#22240;&#20026;yyy&#26159;obj&#33258;&#36523;&#30340;&#23646;&#24615;&#65292;&#27809;&#26377;&#35775;&#38382;&#21040;proxy
    </p>
    <p>
      console.log(obj.xxx); // abc&#65292;xxx&#26159;&#32487;&#25215;proxy&#30340;&#65292;&#25152;&#20197;&#35835;&#21462;&#30340;&#26102;&#20505;&#20250;&#36208;proxy
    </p>
    <p>
      obj.xxx = 222;
    </p>
    <p>
      console.log(obj.xxx); // 222&#65292;&#37325;&#26032;&#36171;&#20540;&#21518;&#65292;xxx&#25104;&#20102;obj&#33258;&#36523;&#30340;&#23646;&#24615;&#65292;&#35835;&#21462;&#19981;&#32463;&#36807;proxy
    </p>
    <p>
      2&#12289;set()
    </p>
    <p>
      &#65288;1&#65289;&#12289;&#21487;&#20197;&#25509;&#21463;&#22235;&#20010;&#21442;&#25968;&#65292;&#20381;&#27425;&#20026;&#30446;&#26631;&#23545;&#35937;&#12289;&#23646;&#24615;&#21517;&#12289;&#23646;&#24615;&#20540;&#21644; Proxy &#23454;&#20363;&#26412;&#36523;&#65292;&#20854;&#20013;&#26368;&#21518;&#19968;&#20010;&#21442;&#25968;&#21487;&#36873;&#12290;
    </p>
    <p>
      &#65288;2&#65289;&#12289;&#22914;&#26524;&#30446;&#26631;&#23545;&#35937;&#33258;&#36523;&#30340;&#26576;&#20010;&#23646;&#24615;&#65292;&#19981;&#21487;&#20889;&#20063;&#19981;&#21487;&#37197;&#32622;&#65292;&#37027;&#20040;set&#19981;&#24471;&#25913;&#21464;&#36825;&#20010;&#23646;&#24615;&#30340;&#20540;&#65292;&#21482;&#33021;&#36820;&#22238;&#21516;&#26679;&#30340;&#20540;&#65292;&#21542;&#21017;&#25253;&#38169;&#12290;
    </p>
    <p>
      &#65288;3&#65289;&#12289;&#21033;&#29992;set&#26041;&#27861;&#65292;&#36824;&#21487;&#20197;&#25968;&#25454;&#32465;&#23450;&#65292;&#21363;&#27599;&#24403;&#23545;&#35937;&#21457;&#29983;&#21464;&#21270;&#26102;&#65292;&#20250;&#33258;&#21160;&#26356;&#26032; DOM&#12290;
    </p>
    <p>
      3&#12289;apply()
    </p>
    <p>
      &#65288;1&#65289;&#12289;&#20195;&#29702;Function&#25552;&#20379;apply&#26041;&#27861;&#25165;&#26377;&#29992;&#65292;&#20195;&#29702;&#23545;&#35937;&#30340;proxy&#26159;&#19981;&#33021;&#20316;&#20026;&#20989;&#25968;&#35843;&#29992;&#30340;
    </p>
    <p>
      &#65288;2&#65289;&#12289;&#25318;&#25130;&#20989;&#25968;&#30340;&#35843;&#29992;&#12289;call&#21644;apply&#25805;&#20316;&#12290;&#21487;&#20197;&#25509;&#21463;&#19977;&#20010;&#21442;&#25968;&#65292;&#20998;&#21035;&#26159;&#30446;&#26631;&#23545;&#35937;&#65288;&#19968;&#20010;&#20989;&#25968;&#65289;&#12289;&#30446;&#26631;&#23545;&#35937;&#30340;&#19978;&#19979;&#25991;&#23545;&#35937;&#65288;&#30446;&#26631;&#23545;&#35937;&#30340;this&#20540;&#65289;&#21644;&#30446;&#26631;&#23545;&#35937;&#30340;&#21442;&#25968;&#25968;&#32452;&#12290;
    </p>
    <p>
      &#65288;3&#65289;&#12289;&#30452;&#25509;&#35843;&#29992;Reflect.apply&#26041;&#27861;&#65292;&#20063;&#20250;&#34987;&#25318;&#25130;&#12290;
    </p>
    <p>
      Reflect.apply(proxy, null, [9, 10]) // 38
    </p>
    <p>
      4&#12289;has()
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1509376959251" FOLDED="true" ID="ID_575722587" MODIFIED="1516364706310" POSITION="right" TEXT="async&#x51fd;&#x6570;">
<node CREATED="1509805265418" ID="ID_1576668126" MODIFIED="1509805294601">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      1&#12289;async&#26041;&#27861;&#20013;&#21487;&#20197;&#27809;&#26377;await&#35843;&#29992;&#65292;await&#19968;&#23450;&#35201;&#22312;async&#20989;&#25968;&#20013;&#35843;&#29992;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1509376988070" ID="ID_1088134729" MODIFIED="1509803718553">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#19968;&#12289;&#21547;&#20041;
    </p>
    <p>
      1&#12289;ES2017&#24341;&#20837;&#65292;&#26159;Generator&#20989;&#25968;&#30340;&#35821;&#27861;&#31958;
    </p>
    <p>
      2&#12289;async&#20989;&#25968;&#23601;&#26159;&#23558; Generator &#20989;&#25968;&#30340;&#26143;&#21495;&#65288;*&#65289;&#26367;&#25442;&#25104;async&#65292;&#23558;yield&#26367;&#25442;&#25104;await&#65292;&#20165;&#27492;&#32780;&#24050;&#12290;
    </p>
    <p>
      const asyncReadFile = async function () {
    </p>
    <p>
      &#160;&#160;const f1 = await readFile('/etc/fstab');
    </p>
    <p>
      &#160;&#160;const f2 = await readFile('/etc/shells');
    </p>
    <p>
      &#160;&#160;console.log(f1.toString());
    </p>
    <p>
      &#160;&#160;console.log(f2.toString());
    </p>
    <p>
      };
    </p>
    <p>
      3&#12289;async&#20989;&#25968;&#23545; Generator &#20989;&#25968;&#30340;&#25913;&#36827;&#65292;&#20307;&#29616;&#22312;&#20197;&#19979;&#22235;&#28857;&#12290;
    </p>
    <p>
      &#65288;1&#65289;&#20869;&#32622;&#25191;&#34892;&#22120;&#12290;
    </p>
    <p>
      &#65288;2&#65289;&#26356;&#22909;&#30340;&#35821;&#20041;&#12290;
    </p>
    <p>
      async&#21644;await&#65292;&#27604;&#36215;&#26143;&#21495;&#21644;yield&#65292;&#35821;&#20041;&#26356;&#28165;&#26970;&#20102;&#12290;async&#34920;&#31034;&#20989;&#25968;&#37324;&#26377;&#24322;&#27493;&#25805;&#20316;&#65292;await&#34920;&#31034;&#32039;&#36319;&#22312;&#21518;&#38754;&#30340;&#34920;&#36798;&#24335;&#38656;&#35201;&#31561;&#24453;&#32467;&#26524;&#12290;
    </p>
    <p>
      &#65288;3&#65289;&#26356;&#24191;&#30340;&#36866;&#29992;&#24615;&#12290;
    </p>
    <p>
      co&#27169;&#22359;&#32422;&#23450;&#65292;yield&#21629;&#20196;&#21518;&#38754;&#21482;&#33021;&#26159; Thunk &#20989;&#25968;&#25110; Promise &#23545;&#35937;&#65292;&#32780;async&#20989;&#25968;&#30340;await&#21629;&#20196;&#21518;&#38754;&#65292;&#21487;&#20197;&#26159;Promise &#23545;&#35937;&#21644;&#21407;&#22987;&#31867;&#22411;&#30340;&#20540;&#65288;&#25968;&#20540;&#12289;&#23383;&#31526;&#20018;&#21644;&#24067;&#23572;&#20540;&#65292;&#20294;&#36825;&#26102;&#31561;&#21516;&#20110;&#21516;&#27493;&#25805;&#20316;&#65289;&#12290;
    </p>
    <p>
      &#65288;4&#65289;&#36820;&#22238;&#20540;&#26159; Promise&#12290;
    </p>
    <p>
      async&#20989;&#25968;&#30340;&#36820;&#22238;&#20540;&#26159; Promise &#23545;&#35937;&#65292;&#36825;&#27604; Generator &#20989;&#25968;&#30340;&#36820;&#22238;&#20540;&#26159; Iterator &#23545;&#35937;&#26041;&#20415;&#22810;&#20102;&#12290;&#20320;&#21487;&#20197;&#29992;then&#26041;&#27861;&#25351;&#23450;&#19979;&#19968;&#27493;&#30340;&#25805;&#20316;&#12290;
    </p>
    <p>
      &#36827;&#19968;&#27493;&#35828;&#65292;async&#20989;&#25968;&#23436;&#20840;&#21487;&#20197;&#30475;&#20316;&#22810;&#20010;&#24322;&#27493;&#25805;&#20316;&#65292;&#21253;&#35013;&#25104;&#30340;&#19968;&#20010; Promise &#23545;&#35937;&#65292;&#32780;await&#21629;&#20196;&#23601;&#26159;&#20869;&#37096;then&#21629;&#20196;&#30340;&#35821;&#27861;&#31958;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1509804020443" ID="ID_903496255" MODIFIED="1509804633891">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#20108;&#12289;&#22522;&#26412;&#29992;&#27861;
    </p>
    <p>
      1&#12289;async&#20989;&#25968;&#36820;&#22238;&#19968;&#20010; Promise &#23545;&#35937;&#65292;&#21487;&#20197;&#20351;&#29992;then&#26041;&#27861;&#28155;&#21152;&#22238;&#35843;&#20989;&#25968;&#12290;&#24403;&#20989;&#25968;&#25191;&#34892;&#30340;&#26102;&#20505;&#65292;&#19968;&#26086;&#36935;&#21040;await&#23601;&#20250;&#20808;&#36820;&#22238;&#65292;&#31561;&#21040;&#24322;&#27493;&#25805;&#20316;&#23436;&#25104;&#65292;&#20877;&#25509;&#30528;&#25191;&#34892;&#20989;&#25968;&#20307;&#20869;&#21518;&#38754;&#30340;&#35821;&#21477;&#12290;
    </p>
    <p>
      2&#12289;async &#20989;&#25968;&#26377;&#22810;&#31181;&#20351;&#29992;&#24418;&#24335;&#12290;
    </p>
    <p>
      // &#20989;&#25968;&#22768;&#26126;
    </p>
    <p>
      async function foo() {}
    </p>
    <p>
      // &#20989;&#25968;&#34920;&#36798;&#24335;
    </p>
    <p>
      const foo = async function () {};
    </p>
    <p>
      // &#23545;&#35937;&#30340;&#26041;&#27861;
    </p>
    <p>
      let obj = { async foo() {} };
    </p>
    <p>
      obj.foo().then(...)
    </p>
    <p>
      // Class &#30340;&#26041;&#27861;
    </p>
    <p>
      class Storage {
    </p>
    <p>
      &#160;&#160;constructor() {
    </p>
    <p>
      &#160;&#160;&#160;&#160;this.cachePromise = caches.open('avatars');
    </p>
    <p>
      &#160;&#160;}
    </p>
    <p>
      &#160;&#160;async getAvatar(name) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;const cache = await this.cachePromise;
    </p>
    <p>
      &#160;&#160;&#160;&#160;return cache.match(`/avatars/${name}.jpg`);
    </p>
    <p>
      &#160;&#160;}
    </p>
    <p>
      }
    </p>
    <p>
      const storage = new Storage();
    </p>
    <p>
      storage.getAvatar('jake').then(&#8230;);
    </p>
    <p>
      // &#31661;&#22836;&#20989;&#25968;
    </p>
    <p>
      const foo = async () =&gt; {};
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1509804675356" ID="ID_15714537" MODIFIED="1509808160913">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#19977;&#12289;&#35821;&#27861;
    </p>
    <p>
      1&#12289;async&#20989;&#25968;&#30340;&#35821;&#27861;&#35268;&#21017;&#24635;&#20307;&#19978;&#27604;&#36739;&#31616;&#21333;&#65292;&#38590;&#28857;&#26159;&#38169;&#35823;&#22788;&#29702;&#26426;&#21046;&#12290;
    </p>
    <p>
      2&#12289;&#36820;&#22238;Promise&#23545;&#35937;
    </p>
    <p>
      async&#20989;&#25968;&#20869;&#37096;return&#35821;&#21477;&#36820;&#22238;&#30340;&#20540;&#65292;&#20250;&#25104;&#20026;then&#26041;&#27861;&#22238;&#35843;&#20989;&#25968;&#30340;&#21442;&#25968;&#12290;
    </p>
    <p>
      async&#20989;&#25968;&#20869;&#37096;&#25243;&#20986;&#38169;&#35823;&#65292;&#20250;&#23548;&#33268;&#36820;&#22238;&#30340; Promise &#23545;&#35937;&#21464;&#20026;reject&#29366;&#24577;&#12290;&#25243;&#20986;&#30340;&#38169;&#35823;&#23545;&#35937;&#20250;&#34987;catch&#26041;&#27861;&#22238;&#35843;&#20989;&#25968;&#25509;&#25910;&#21040;&#12290;
    </p>
    <p>
      3&#12289;Promise&#23545;&#35937;&#30340;&#29366;&#24577;&#21464;&#21270;
    </p>
    <p>
      async&#20989;&#25968;&#36820;&#22238;&#30340; Promise &#23545;&#35937;&#65292;&#24517;&#39035;&#31561;&#21040;&#20869;&#37096;&#25152;&#26377;await&#21629;&#20196;&#21518;&#38754;&#30340; Promise &#23545;&#35937;&#25191;&#34892;&#23436;&#65292;&#25165;&#20250;&#21457;&#29983;&#29366;&#24577;&#25913;&#21464;&#65292;&#38500;&#38750;&#36935;&#21040;return&#35821;&#21477;&#25110;&#32773;&#25243;&#20986;&#38169;&#35823;&#12290;&#20063;&#23601;&#26159;&#35828;&#65292;&#21482;&#26377;async&#20989;&#25968;&#20869;&#37096;&#30340;&#24322;&#27493;&#25805;&#20316;&#25191;&#34892;&#23436;&#65292;&#25165;&#20250;&#25191;&#34892;then&#26041;&#27861;&#25351;&#23450;&#30340;&#22238;&#35843;&#20989;&#25968;&#12290;
    </p>
    <p>
      4&#12289;await &#21629;&#20196;
    </p>
    <p>
      &#65288;1&#65289;&#12289;&#27491;&#24120;&#24773;&#20917;&#19979;&#65292;await&#21629;&#20196;&#21518;&#38754;&#26159;&#19968;&#20010; Promise &#23545;&#35937;&#12290;&#22914;&#26524;&#19981;&#26159;&#65292;&#20250;&#34987;&#36716;&#25104;&#19968;&#20010;&#31435;&#21363;resolve&#30340; Promise &#23545;&#35937;&#12290;await&#35821;&#21477;&#30340;&#36820;&#22238;&#20540;&#23601;&#26159;Promise&#23545;&#35937;resolve&#30340;&#20540;
    </p>
    <p>
      &#65288;2&#65289;&#12289;await&#21629;&#20196;&#21518;&#38754;&#30340; Promise &#23545;&#35937;&#22914;&#26524;&#21464;&#20026;reject&#29366;&#24577;&#65292;&#21017;reject&#30340;&#21442;&#25968;&#20250;&#34987;catch&#26041;&#27861;&#30340;&#22238;&#35843;&#20989;&#25968;&#25509;&#25910;&#21040;&#12290;
    </p>
    <p>
      &#65288;3&#65289;&#12289;&#21482;&#35201;&#19968;&#20010;await&#35821;&#21477;&#21518;&#38754;&#30340; Promise &#21464;&#20026;reject&#65292;&#37027;&#20040;&#25972;&#20010;async&#20989;&#25968;&#37117;&#20250;&#20013;&#26029;&#25191;&#34892;&#12290;
    </p>
    <p>
      &#65288;4&#65289;&#12289;&#26377;&#26102;&#65292;&#25105;&#20204;&#24076;&#26395;&#21363;&#20351;&#21069;&#19968;&#20010;&#24322;&#27493;&#25805;&#20316;&#22833;&#36133;&#65292;&#20063;&#19981;&#35201;&#20013;&#26029;&#21518;&#38754;&#30340;&#24322;&#27493;&#25805;&#20316;&#12290;&#36825;&#26102;&#21487;&#20197;&#23558;&#31532;&#19968;&#20010;await&#25918;&#22312;try...catch&#32467;&#26500;&#37324;&#38754;&#65292;&#36825;&#26679;&#19981;&#31649;&#36825;&#20010;&#24322;&#27493;&#25805;&#20316;&#26159;&#21542;&#25104;&#21151;&#65292;&#31532;&#20108;&#20010;await&#37117;&#20250;&#25191;&#34892;&#12290;&#12304;&#27880;&#24847;&#65306;try...catch&#21482;&#33021;&#22788;&#29702;Promise&#30340;factory&#26041;&#27861;&#20013;&#25243;&#20986;&#30340;&#24322;&#24120;&#65292;&#20854;&#20013;&#24322;&#27493;&#36923;&#36753;&#25243;&#20986;&#30340;&#24322;&#24120;&#25429;&#25417;&#19981;&#21040;&#12305;
    </p>
    <p>
      &#65288;5&#65289;&#12289;&#21478;&#19968;&#31181;&#26041;&#27861;&#26159;await&#21518;&#38754;&#30340; Promise &#23545;&#35937;&#20877;&#36319;&#19968;&#20010;catch&#26041;&#27861;&#65292;&#22788;&#29702;&#21069;&#38754;&#21487;&#33021;&#20986;&#29616;&#30340;&#38169;&#35823;&#12290;&#65288;&#25512;&#33616;&#36825;&#20010;&#26041;&#27861;&#65289;
    </p>
    <p>
      5&#12289;&#38169;&#35823;&#22788;&#29702;
    </p>
    <p>
      &#22914;&#26524;await&#21518;&#38754;&#30340;&#24322;&#27493;&#25805;&#20316;&#20986;&#38169;&#65292;&#37027;&#20040;&#31561;&#21516;&#20110;async&#20989;&#25968;&#36820;&#22238;&#30340; Promise &#23545;&#35937;&#34987;reject&#12290;
    </p>
    <p>
      6&#12289;&#20351;&#29992;&#27880;&#24847;&#28857;
    </p>
    <p>
      &#31532;&#19968;&#28857;&#65292;&#21069;&#38754;&#24050;&#32463;&#35828;&#36807;&#65292;await&#21629;&#20196;&#21518;&#38754;&#30340;Promise&#23545;&#35937;&#65292;&#36816;&#34892;&#32467;&#26524;&#21487;&#33021;&#26159;rejected&#65292;&#25152;&#20197;&#26368;&#22909;&#25226;await&#21629;&#20196;&#25918;&#22312;try...catch&#20195;&#30721;&#22359;&#20013;&#12290;
    </p>
    <p>
      &#31532;&#20108;&#28857;&#65292;&#22810;&#20010;await&#21629;&#20196;&#21518;&#38754;&#30340;&#24322;&#27493;&#25805;&#20316;&#65292;&#22914;&#26524;&#19981;&#23384;&#22312;&#32487;&#21457;&#20851;&#31995;&#65292;&#26368;&#22909;&#35753;&#23427;&#20204;&#21516;&#26102;&#35302;&#21457;&#12290;
    </p>
    <p>
      let foo = await getFoo();
    </p>
    <p>
      let bar = await getBar();
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;getFoo&#21644;getBar&#26159;&#20004;&#20010;&#29420;&#31435;&#30340;&#24322;&#27493;&#25805;&#20316;&#65288;&#21363;&#20114;&#19981;&#20381;&#36182;&#65289;&#65292;&#34987;&#20889;&#25104;&#32487;&#21457;&#20851;&#31995;&#12290;&#36825;&#26679;&#27604;&#36739;&#32791;&#26102;&#65292;&#22240;&#20026;&#21482;&#26377;getFoo&#23436;&#25104;&#20197;&#21518;&#65292;&#25165;&#20250;&#25191;&#34892;getBar&#65292;&#23436;&#20840;&#21487;&#20197;&#35753;&#23427;&#20204;&#21516;&#26102;&#35302;&#21457;&#12290;
    </p>
    <p>
      // &#20889;&#27861;&#19968;
    </p>
    <p>
      let [foo, bar] = await Promise.all([getFoo(), getBar()]);
    </p>
    <p>
      // &#20889;&#27861;&#20108;
    </p>
    <p>
      let fooPromise = getFoo();
    </p>
    <p>
      let barPromise = getBar();
    </p>
    <p>
      let foo = await fooPromise;
    </p>
    <p>
      let bar = await barPromise;
    </p>
    <p>
      &#31532;&#19977;&#28857;&#65292;await&#21629;&#20196;&#21482;&#33021;&#29992;&#22312;async&#20989;&#25968;&#20043;&#20013;&#65292;&#22914;&#26524;&#29992;&#22312;&#26222;&#36890;&#20989;&#25968;&#65292;&#23601;&#20250;&#25253;&#38169;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1509808204798" ID="ID_1568437838" MODIFIED="1509808214311" TEXT="&#x56db;&#x3001;async&#x51fd;&#x6570;&#x7684;&#x5b9e;&#x73b0;&#x539f;&#x7406;"/>
</node>
<node CREATED="1516364668849" FOLDED="true" ID="ID_1561030816" MODIFIED="1531362690005" POSITION="right" TEXT="Decorator">
<node CREATED="1516364709276" ID="ID_1809021207" MODIFIED="1516365023380">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#19968;&#12289;&#31867;&#30340;&#20462;&#39280;
    </p>
    <p>
      1&#12289;&#23454;&#20363;
    </p>
    <p>
      @testable
    </p>
    <p>
      class MyTestableClass {
    </p>
    <p>
      &#160;&#160;// ...
    </p>
    <p>
      }
    </p>
    <p>
      function testable(target) {
    </p>
    <p>
      &#160;&#160;target.isTestable = true;
    </p>
    <p>
      }
    </p>
    <p>
      MyTestableClass.isTestable // true
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;@testable&#23601;&#26159;&#19968;&#20010;&#20462;&#39280;&#22120;&#12290;&#23427;&#20462;&#25913;&#20102;MyTestableClass&#36825;&#20010;&#31867;&#30340;&#34892;&#20026;&#65292;&#20026;&#23427;&#21152;&#19978;&#20102;&#38745;&#24577;&#23646;&#24615;isTestable&#12290;testable&#20989;&#25968;&#30340;&#21442;&#25968;target&#26159;MyTestableClass&#31867;&#26412;&#36523;&#12290;
    </p>
    <p>
      &#22522;&#26412;&#19978;&#65292;&#20462;&#39280;&#22120;&#30340;&#34892;&#20026;&#23601;&#26159;&#19979;&#38754;&#36825;&#26679;&#12290;
    </p>
    <p>
      @decorator
    </p>
    <p>
      class A {}
    </p>
    <p>
      // &#31561;&#21516;&#20110;
    </p>
    <p>
      class A {}
    </p>
    <p>
      A = decorator(A) || A;
    </p>
    <p>
      2&#12289;&#22914;&#26524;&#35273;&#24471;&#19968;&#20010;&#21442;&#25968;&#19981;&#22815;&#29992;&#65292;&#21487;&#20197;&#22312;&#20462;&#39280;&#22120;&#22806;&#38754;&#20877;&#23553;&#35013;&#19968;&#23618;&#20989;&#25968;&#12290;
    </p>
    <p>
      function testable(isTestable) {
    </p>
    <p>
      &#160;&#160;return function(target) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;target.isTestable = isTestable;
    </p>
    <p>
      &#160;&#160;}
    </p>
    <p>
      }
    </p>
    <p>
      @testable(true)
    </p>
    <p>
      class MyTestableClass {}
    </p>
    <p>
      MyTestableClass.isTestable // true
    </p>
    <p>
      @testable(false)
    </p>
    <p>
      class MyClass {}
    </p>
    <p>
      MyClass.isTestable // false
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;&#20462;&#39280;&#22120;testable&#21487;&#20197;&#25509;&#21463;&#21442;&#25968;&#65292;&#36825;&#23601;&#31561;&#20110;&#21487;&#20197;&#20462;&#25913;&#20462;&#39280;&#22120;&#30340;&#34892;&#20026;&#12290;
    </p>
    <p>
      3&#12289;&#27880;&#24847;&#65292;&#20462;&#39280;&#22120;&#23545;&#31867;&#30340;&#34892;&#20026;&#30340;&#25913;&#21464;&#65292;&#26159;&#20195;&#30721;&#32534;&#35793;&#26102;&#21457;&#29983;&#30340;&#65292;&#32780;&#19981;&#26159;&#22312;&#36816;&#34892;&#26102;&#12290;&#36825;&#24847;&#21619;&#30528;&#65292;&#20462;&#39280;&#22120;&#33021;&#22312;&#32534;&#35793;&#38454;&#27573;&#36816;&#34892;&#20195;&#30721;&#12290;&#20063;&#23601;&#26159;&#35828;&#65292;&#20462;&#39280;&#22120;&#26412;&#36136;&#23601;&#26159;&#32534;&#35793;&#26102;&#25191;&#34892;&#30340;&#20989;&#25968;&#12290;
    </p>
    <p>
      4&#12289;&#21069;&#38754;&#30340;&#20363;&#23376;&#26159;&#20026;&#31867;&#28155;&#21152;&#19968;&#20010;&#38745;&#24577;&#23646;&#24615;&#65292;&#22914;&#26524;&#24819;&#28155;&#21152;&#23454;&#20363;&#23646;&#24615;&#65292;&#21487;&#20197;&#36890;&#36807;&#30446;&#26631;&#31867;&#30340;prototype&#23545;&#35937;&#25805;&#20316;&#12290;
    </p>
    <p>
      function testable(target) {
    </p>
    <p>
      &#160;&#160;target.prototype.isTestable = true;
    </p>
    <p>
      }
    </p>
    <p>
      @testable
    </p>
    <p>
      class MyTestableClass {}
    </p>
    <p>
      let obj = new MyTestableClass();
    </p>
    <p>
      obj.isTestable // true
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1516365132413" ID="ID_1421217560" MODIFIED="1516365840285">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#20108;&#12289;&#26041;&#27861;&#30340;&#20462;&#39280;
    </p>
    <p>
      1&#12289;&#20462;&#39280;&#22120;&#19981;&#20165;&#21487;&#20197;&#20462;&#39280;&#31867;&#65292;&#36824;&#21487;&#20197;&#20462;&#39280;&#31867;&#30340;&#23646;&#24615;&#12290;
    </p>
    <p>
      class Person {
    </p>
    <p>
      &#160;&#160;@readonly
    </p>
    <p>
      &#160;&#160;name() { return `${this.first} ${this.last}` }
    </p>
    <p>
      }
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;&#20462;&#39280;&#22120;readonly&#29992;&#26469;&#20462;&#39280;&#8220;&#31867;&#8221;&#30340;name&#26041;&#27861;&#12290;
    </p>
    <p>
      &#20462;&#39280;&#22120;&#20989;&#25968;readonly&#19968;&#20849;&#21487;&#20197;&#25509;&#21463;&#19977;&#20010;&#21442;&#25968;&#12290;
    </p>
    <p>
      function readonly(target, name, descriptor){
    </p>
    <p>
      &#160;&#160;// descriptor&#23545;&#35937;&#21407;&#26469;&#30340;&#20540;&#22914;&#19979;
    </p>
    <p>
      &#160;&#160;// {
    </p>
    <p>
      &#160;&#160;//&#160;&#160;&#160;value: specifiedFunction,
    </p>
    <p>
      &#160;&#160;//&#160;&#160;&#160;enumerable: false,
    </p>
    <p>
      &#160;&#160;//&#160;&#160;&#160;configurable: true,
    </p>
    <p>
      &#160;&#160;//&#160;&#160;&#160;writable: true
    </p>
    <p>
      &#160;&#160;// };
    </p>
    <p>
      &#160;&#160;descriptor.writable = false;
    </p>
    <p>
      &#160;&#160;return descriptor;
    </p>
    <p>
      }
    </p>
    <p>
      readonly(Person.prototype, 'name', descriptor);
    </p>
    <p>
      // &#31867;&#20284;&#20110;
    </p>
    <p>
      Object.defineProperty(Person.prototype, 'name', descriptor);
    </p>
    <p>
      &#20462;&#39280;&#22120;&#31532;&#19968;&#20010;&#21442;&#25968;&#26159;&#31867;&#30340;&#21407;&#22411;&#23545;&#35937;&#65292;&#19978;&#20363;&#26159;Person.prototype&#65292;&#20462;&#39280;&#22120;&#30340;&#26412;&#24847;&#26159;&#35201;&#8220;&#20462;&#39280;&#8221;&#31867;&#30340;&#23454;&#20363;&#65292;&#20294;&#26159;&#36825;&#20010;&#26102;&#20505;&#23454;&#20363;&#36824;&#27809;&#29983;&#25104;&#65292;&#25152;&#20197;&#21482;&#33021;&#21435;&#20462;&#39280;&#21407;&#22411;&#65288;&#36825;&#19981;&#21516;&#20110;&#31867;&#30340;&#20462;&#39280;&#65292;&#37027;&#31181;&#24773;&#20917;&#26102;target&#21442;&#25968;&#25351;&#30340;&#26159;&#31867;&#26412;&#36523;&#65289;&#65307;&#31532;&#20108;&#20010;&#21442;&#25968;&#26159;&#25152;&#35201;&#20462;&#39280;&#30340;&#23646;&#24615;&#21517;&#65292;&#31532;&#19977;&#20010;&#21442;&#25968;&#26159;&#35813;&#23646;&#24615;&#30340;&#25551;&#36848;&#23545;&#35937;&#12290;
    </p>
    <p>
      2&#12289;&#22914;&#26524;&#21516;&#19968;&#20010;&#26041;&#27861;&#26377;&#22810;&#20010;&#20462;&#39280;&#22120;&#65292;&#20250;&#20687;&#21093;&#27915;&#33905;&#19968;&#26679;&#65292;&#20808;&#20174;&#22806;&#21040;&#20869;&#36827;&#20837;&#65292;&#28982;&#21518;&#30001;&#20869;&#21521;&#22806;&#25191;&#34892;&#12290;
    </p>
    <p>
      function dec(id){
    </p>
    <p>
      &#160;&#160;console.log('evaluated', id);
    </p>
    <p>
      &#160;&#160;return (target, property, descriptor) =&gt; console.log('executed', id);
    </p>
    <p>
      }
    </p>
    <p>
      class Example {
    </p>
    <p>
      &#160;&#160;&#160;&#160;@dec(1)
    </p>
    <p>
      &#160;&#160;&#160;&#160;@dec(2)
    </p>
    <p>
      &#160;&#160;&#160;&#160;method(){}
    </p>
    <p>
      }
    </p>
    <p>
      // evaluated 1
    </p>
    <p>
      // evaluated 2
    </p>
    <p>
      // executed 2
    </p>
    <p>
      // executed 1
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;&#22806;&#23618;&#20462;&#39280;&#22120;@dec(1)&#20808;&#36827;&#20837;&#65292;&#20294;&#26159;&#20869;&#23618;&#20462;&#39280;&#22120;@dec(2)&#20808;&#25191;&#34892;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1516365927505" ID="ID_816875308" MODIFIED="1516590684943">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#19977;&#12289;&#20026;&#20160;&#20040;&#20462;&#39280;&#22120;&#19981;&#33021;&#29992;&#20110;&#20989;&#25968;
    </p>
    <p>
      1&#12289;&#20462;&#39280;&#22120;&#21482;&#33021;&#29992;&#20110;&#31867;&#21644;&#31867;&#30340;&#26041;&#27861;&#65292;&#19981;&#33021;&#29992;&#20110;&#20989;&#25968;&#65292;&#22240;&#20026;&#23384;&#22312;&#20989;&#25968;&#25552;&#21319;&#12290;
    </p>
    <p>
      var counter = 0;
    </p>
    <p>
      var add = function () {
    </p>
    <p>
      &#160;&#160;counter++;
    </p>
    <p>
      };
    </p>
    <p>
      @add
    </p>
    <p>
      function foo() {
    </p>
    <p>
      }
    </p>
    <p>
      &#19978;&#38754;&#30340;&#20195;&#30721;&#65292;&#24847;&#22270;&#26159;&#25191;&#34892;&#21518;counter&#31561;&#20110; 1&#65292;&#20294;&#26159;&#23454;&#38469;&#19978;&#32467;&#26524;&#26159;counter&#31561;&#20110; 0&#12290;&#22240;&#20026;&#20989;&#25968;&#25552;&#21319;&#65292;&#20351;&#24471;&#23454;&#38469;&#25191;&#34892;&#30340;&#20195;&#30721;&#26159;&#19979;&#38754;&#36825;&#26679;&#12290;
    </p>
    <p>
      @add
    </p>
    <p>
      function foo() {
    </p>
    <p>
      }
    </p>
    <p>
      var counter;
    </p>
    <p>
      var add;
    </p>
    <p>
      counter = 0;
    </p>
    <p>
      add = function () {
    </p>
    <p>
      &#160;&#160;counter++;
    </p>
    <p>
      };
    </p>
    <p>
      2&#12289;&#21478;&#19968;&#26041;&#38754;&#65292;&#22914;&#26524;&#19968;&#23450;&#35201;&#20462;&#39280;&#20989;&#25968;&#65292;&#21487;&#20197;&#37319;&#29992;&#39640;&#38454;&#20989;&#25968;&#30340;&#24418;&#24335;&#30452;&#25509;&#25191;&#34892;&#12290;
    </p>
    <p>
      function doSomething(name) {
    </p>
    <p>
      &#160;&#160;console.log('Hello, ' + name);
    </p>
    <p>
      }
    </p>
    <p>
      function loggingDecorator(wrapped) {
    </p>
    <p>
      &#160;&#160;return function() {
    </p>
    <p>
      &#160;&#160;&#160;&#160;console.log('Starting');
    </p>
    <p>
      &#160;&#160;&#160;&#160;const result = wrapped.apply(this, arguments);
    </p>
    <p>
      &#160;&#160;&#160;&#160;console.log('Finished');
    </p>
    <p>
      &#160;&#160;&#160;&#160;return result;
    </p>
    <p>
      &#160;&#160;}
    </p>
    <p>
      }
    </p>
    <p>
      const wrapped = loggingDecorator(doSomething);
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1531362672349" FOLDED="true" ID="ID_1363370042" MODIFIED="1532944005061" POSITION="right">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Generator&#20989;&#25968;&#30340;&#35821;&#27861;
    </p>
    <p>
      &#29983;&#25104;&#22120;&#65292;&#21363;&#29983;&#25104;Iterator&#30340;&#26426;&#22120;
    </p>
  </body>
</html></richcontent>
<node CREATED="1531362693437" ID="ID_627565303" MODIFIED="1531365975531">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      1&#12289;&#31616;&#20171;
    </p>
    <p>
      &#65288;1&#65289;&#12289;&#24418;&#24335;&#19978;&#65292;Generator &#20989;&#25968;&#26159;&#19968;&#20010;&#26222;&#36890;&#20989;&#25968;&#65292;&#20294;&#26159;&#26377;&#20004;&#20010;&#29305;&#24449;&#12290;&#19968;&#26159;&#65292;function&#20851;&#38190;&#23383;&#19982;&#20989;&#25968;&#21517;&#20043;&#38388;&#26377;&#19968;&#20010;&#26143;&#21495;&#65307;&#20108;&#26159;&#65292;&#20989;&#25968;&#20307;&#20869;&#37096;&#20351;&#29992;yield&#34920;&#36798;&#24335;&#65292;&#23450;&#20041;&#19981;&#21516;&#30340;&#20869;&#37096;&#29366;&#24577;&#65288;yield&#22312;&#33521;&#35821;&#37324;&#30340;&#24847;&#24605;&#23601;&#26159;&#8220;&#20135;&#20986;&#8221;&#65289;&#12290;
    </p>
    <p>
      function* helloWorldGenerator() {
    </p>
    <p>
      &#160;&#160;yield 'hello';
    </p>
    <p>
      &#160;&#160;yield 'world';
    </p>
    <p>
      &#160;&#160;return 'ending';
    </p>
    <p>
      }
    </p>
    <p>
      var hw = helloWorldGenerator();
    </p>
    <p>
      &#65288;2&#65289;&#12289;Generator &#20989;&#25968;&#30340;&#35843;&#29992;&#26041;&#27861;&#19982;&#26222;&#36890;&#20989;&#25968;&#19968;&#26679;&#65292;&#20063;&#26159;&#22312;&#20989;&#25968;&#21517;&#21518;&#38754;&#21152;&#19978;&#19968;&#23545;&#22278;&#25324;&#21495;&#12290;&#19981;&#21516;&#30340;&#26159;&#65292;&#35843;&#29992; Generator &#20989;&#25968;&#21518;&#65292;&#35813;&#20989;&#25968;&#24182;&#19981;&#25191;&#34892;&#65292;&#36820;&#22238;&#30340;&#20063;&#19981;&#26159;&#20989;&#25968;&#36816;&#34892;&#32467;&#26524;&#65292;&#32780;&#26159;&#19968;&#20010;&#25351;&#21521;&#20869;&#37096;&#29366;&#24577;&#30340;&#25351;&#38024;&#23545;&#35937;&#65292;&#20063;&#23601;&#26159;&#19978;&#19968;&#31456;&#20171;&#32461;&#30340;&#36941;&#21382;&#22120;&#23545;&#35937;&#65288;Iterator Object&#65289;&#12290;
    </p>
    <p>
      &#65288;3&#65289;&#12289;&#19979;&#19968;&#27493;&#65292;&#24517;&#39035;&#35843;&#29992;&#36941;&#21382;&#22120;&#23545;&#35937;&#30340;next&#26041;&#27861;&#65292;&#20351;&#24471;&#25351;&#38024;&#31227;&#21521;&#19979;&#19968;&#20010;&#29366;&#24577;&#12290;&#20063;&#23601;&#26159;&#35828;&#65292;&#27599;&#27425;&#35843;&#29992;next&#26041;&#27861;&#65292;&#20869;&#37096;&#25351;&#38024;&#23601;&#20174;&#20989;&#25968;&#22836;&#37096;&#25110;&#19978;&#19968;&#27425;&#20572;&#19979;&#26469;&#30340;&#22320;&#26041;&#24320;&#22987;&#25191;&#34892;&#65292;&#30452;&#21040;&#36935;&#21040;&#19979;&#19968;&#20010;yield&#34920;&#36798;&#24335;&#65288;&#25110;return&#35821;&#21477;&#65289;&#20026;&#27490;&#12290;&#25442;&#35328;&#20043;&#65292;Generator &#20989;&#25968;&#26159;&#20998;&#27573;&#25191;&#34892;&#30340;&#65292;yield&#34920;&#36798;&#24335;&#26159;&#26242;&#20572;&#25191;&#34892;&#30340;&#26631;&#35760;&#65292;&#32780;next&#26041;&#27861;&#21487;&#20197;&#24674;&#22797;&#25191;&#34892;&#12290;
    </p>
    <p>
      hw.next()
    </p>
    <p>
      // { value: 'hello', done: false }
    </p>
    <p>
      hw.next()
    </p>
    <p>
      // { value: 'world', done: false }
    </p>
    <p>
      hw.next()
    </p>
    <p>
      // { value: 'ending', done: true }
    </p>
    <p>
      hw.next()
    </p>
    <p>
      // { value: undefined, done: true }
    </p>
    <p>
      &#65288;4&#65289;&#12289;ES6 &#27809;&#26377;&#35268;&#23450;&#65292;function&#20851;&#38190;&#23383;&#19982;&#20989;&#25968;&#21517;&#20043;&#38388;&#30340;&#26143;&#21495;&#65292;&#20889;&#22312;&#21738;&#20010;&#20301;&#32622;&#12290;&#36825;&#23548;&#33268;&#19979;&#38754;&#30340;&#20889;&#27861;&#37117;&#33021;&#36890;&#36807;&#12290;
    </p>
    <p>
      function * foo(x, y) { &#183;&#183;&#183; }
    </p>
    <p>
      function *foo(x, y) { &#183;&#183;&#183; }
    </p>
    <p>
      function* foo(x, y) { &#183;&#183;&#183; }
    </p>
    <p>
      function*foo(x, y) { &#183;&#183;&#183; }
    </p>
    <p>
      &#30001;&#20110; Generator &#20989;&#25968;&#20173;&#28982;&#26159;&#26222;&#36890;&#20989;&#25968;&#65292;&#25152;&#20197;&#19968;&#33324;&#30340;&#20889;&#27861;&#26159;&#19978;&#38754;&#30340;&#31532;&#19977;&#31181;&#65292;&#21363;&#26143;&#21495;&#32039;&#36319;&#22312;function&#20851;&#38190;&#23383;&#21518;&#38754;&#12290;&#26412;&#20070;&#20063;&#37319;&#29992;&#36825;&#31181;&#20889;&#27861;&#12290;
    </p>
    <p>
      &#65288;5&#65289;&#12289;yield&#34920;&#36798;&#24335;&#21518;&#38754;&#30340;&#34920;&#36798;&#24335;&#65292;&#21482;&#26377;&#24403;&#35843;&#29992;next&#26041;&#27861;&#12289;&#20869;&#37096;&#25351;&#38024;&#25351;&#21521;&#35813;&#35821;&#21477;&#26102;&#25165;&#20250;&#25191;&#34892;&#65292;&#22240;&#27492;&#31561;&#20110;&#20026; JavaScript &#25552;&#20379;&#20102;&#25163;&#21160;&#30340;&#8220;&#24816;&#24615;&#27714;&#20540;&#8221;&#65288;Lazy Evaluation&#65289;&#30340;&#35821;&#27861;&#21151;&#33021;&#12290;
    </p>
    <p>
      function* gen() {
    </p>
    <p>
      &#160;&#160;yield&#160;&#160;123 + 456;
    </p>
    <p>
      }
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;yield&#21518;&#38754;&#30340;&#34920;&#36798;&#24335;123 + 456&#65292;&#19981;&#20250;&#31435;&#21363;&#27714;&#20540;&#65292;&#21482;&#20250;&#22312;next&#26041;&#27861;&#23558;&#25351;&#38024;&#31227;&#21040;&#36825;&#19968;&#21477;&#26102;&#65292;&#25165;&#20250;&#27714;&#20540;&#12290;
    </p>
    <p>
      &#65288;6&#65289;&#12289;Generator &#20989;&#25968;&#21487;&#20197;&#19981;&#29992;yield&#34920;&#36798;&#24335;&#65292;&#36825;&#26102;&#23601;&#21464;&#25104;&#20102;&#19968;&#20010;&#21333;&#32431;&#30340;&#26242;&#32531;&#25191;&#34892;&#20989;&#25968;&#12290;
    </p>
    <p>
      function* f() {
    </p>
    <p>
      &#160;&#160;console.log('&#25191;&#34892;&#20102;&#65281;')
    </p>
    <p>
      }
    </p>
    <p>
      var generator = f();
    </p>
    <p>
      setTimeout(function () {
    </p>
    <p>
      &#160;&#160;generator.next()
    </p>
    <p>
      }, 2000);
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;&#20989;&#25968;f&#22914;&#26524;&#26159;&#26222;&#36890;&#20989;&#25968;&#65292;&#22312;&#20026;&#21464;&#37327;generator&#36171;&#20540;&#26102;&#23601;&#20250;&#25191;&#34892;&#12290;&#20294;&#26159;&#65292;&#20989;&#25968;f&#26159;&#19968;&#20010; Generator &#20989;&#25968;&#65292;&#23601;&#21464;&#25104;&#21482;&#26377;&#35843;&#29992;next&#26041;&#27861;&#26102;&#65292;&#20989;&#25968;f&#25165;&#20250;&#25191;&#34892;&#12290;
    </p>
    <p>
      &#65288;7&#65289;&#12289;yield&#34920;&#36798;&#24335;&#21482;&#33021;&#29992;&#22312; Generator &#20989;&#25968;&#37324;&#38754;&#65292;&#29992;&#22312;&#20854;&#20182;&#22320;&#26041;&#37117;&#20250;&#25253;&#38169;&#12290;
    </p>
    <p>
      &#65288;8&#65289;&#12289;yield&#34920;&#36798;&#24335;&#22914;&#26524;&#29992;&#22312;&#21478;&#19968;&#20010;&#34920;&#36798;&#24335;&#20043;&#20013;&#65292;&#24517;&#39035;&#25918;&#22312;&#22278;&#25324;&#21495;&#37324;&#38754;&#12290;
    </p>
    <p>
      function* demo() {
    </p>
    <p>
      &#160;&#160;console.log('Hello' + yield); // SyntaxError
    </p>
    <p>
      &#160;&#160;console.log('Hello' + yield 123); // SyntaxError
    </p>
    <p>
      &#160;&#160;console.log('Hello' + (yield)); // OK
    </p>
    <p>
      &#160;&#160;console.log('Hello' + (yield 123)); // OK
    </p>
    <p>
      }
    </p>
    <p>
      yield&#34920;&#36798;&#24335;&#29992;&#20316;&#20989;&#25968;&#21442;&#25968;&#25110;&#25918;&#22312;&#36171;&#20540;&#34920;&#36798;&#24335;&#30340;&#21491;&#36793;&#65292;&#21487;&#20197;&#19981;&#21152;&#25324;&#21495;&#12290;
    </p>
    <p>
      function* demo() {
    </p>
    <p>
      &#160;&#160;foo(yield 'a', yield 'b'); // OK
    </p>
    <p>
      &#160;&#160;let input = yield; // OK
    </p>
    <p>
      }
    </p>
    <p>
      &#65288;9&#65289;&#12289;&#20219;&#24847;&#19968;&#20010;&#23545;&#35937;&#30340;Symbol.iterator&#26041;&#27861;&#65292;&#31561;&#20110;&#35813;&#23545;&#35937;&#30340;&#36941;&#21382;&#22120;&#29983;&#25104;&#20989;&#25968;&#65292;&#35843;&#29992;&#35813;&#20989;&#25968;&#20250;&#36820;&#22238;&#35813;&#23545;&#35937;&#30340;&#19968;&#20010;&#36941;&#21382;&#22120;&#23545;&#35937;&#12290;
    </p>
    <p>
      &#30001;&#20110; Generator &#20989;&#25968;&#23601;&#26159;&#36941;&#21382;&#22120;&#29983;&#25104;&#20989;&#25968;&#65292;&#22240;&#27492;&#21487;&#20197;&#25226; Generator &#36171;&#20540;&#32473;&#23545;&#35937;&#30340;Symbol.iterator&#23646;&#24615;&#65292;&#20174;&#32780;&#20351;&#24471;&#35813;&#23545;&#35937;&#20855;&#26377; Iterator &#25509;&#21475;&#12290;
    </p>
    <p>
      var myIterable = {};
    </p>
    <p>
      myIterable[Symbol.iterator] = function* () {
    </p>
    <p>
      &#160;&#160;yield 1;
    </p>
    <p>
      &#160;&#160;yield 2;
    </p>
    <p>
      &#160;&#160;yield 3;
    </p>
    <p>
      };
    </p>
    <p>
      [...myIterable] // [1, 2, 3]
    </p>
    <p>
      &#65288;10&#65289;&#12289;Generator &#20989;&#25968;&#25191;&#34892;&#21518;&#65292;&#36820;&#22238;&#19968;&#20010;&#36941;&#21382;&#22120;&#23545;&#35937;&#12290;&#35813;&#23545;&#35937;&#26412;&#36523;&#20063;&#20855;&#26377;Symbol.iterator&#23646;&#24615;&#65292;&#25191;&#34892;&#21518;&#36820;&#22238;&#33258;&#36523;&#12290;
    </p>
    <p>
      function* gen(){
    </p>
    <p>
      &#160;&#160;// some code
    </p>
    <p>
      }
    </p>
    <p>
      var g = gen();
    </p>
    <p>
      g[Symbol.iterator]() === g
    </p>
    <p>
      // true
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1531365983191" ID="ID_1203658974" MODIFIED="1531366759947">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      2&#12289;next&#26041;&#27861;&#30340;&#21442;&#25968;
    </p>
    <p>
      &#65288;1&#65289;&#12289;yield&#34920;&#36798;&#24335;&#26412;&#36523;&#27809;&#26377;&#36820;&#22238;&#20540;&#65292;&#25110;&#32773;&#35828;&#24635;&#26159;&#36820;&#22238;undefined&#12290;next&#26041;&#27861;&#21487;&#20197;&#24102;&#19968;&#20010;&#21442;&#25968;&#65292;&#35813;&#21442;&#25968;&#23601;&#20250;&#34987;&#24403;&#20316;&#19978;&#19968;&#20010;yield&#34920;&#36798;&#24335;&#30340;&#36820;&#22238;&#20540;&#12290;
    </p>
    <p>
      function* f() {
    </p>
    <p>
      &#160;&#160;for(var i = 0; true; i++) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;var reset = yield i;
    </p>
    <p>
      &#160;&#160;&#160;&#160;if(reset) { i = -1; }
    </p>
    <p>
      &#160;&#160;}
    </p>
    <p>
      }
    </p>
    <p>
      var g = f();
    </p>
    <p>
      g.next() // { value: 0, done: false }
    </p>
    <p>
      g.next() // { value: 1, done: false }
    </p>
    <p>
      g.next(true) // { value: 0, done: false }
    </p>
    <p>
      &#65288;2&#65289;&#12289;&#30001;&#20110;next&#26041;&#27861;&#30340;&#21442;&#25968;&#34920;&#31034;&#19978;&#19968;&#20010;yield&#34920;&#36798;&#24335;&#30340;&#36820;&#22238;&#20540;&#65292;&#25152;&#20197;&#22312;&#31532;&#19968;&#27425;&#20351;&#29992;next&#26041;&#27861;&#26102;&#65292;&#20256;&#36882;&#21442;&#25968;&#26159;&#26080;&#25928;&#30340;&#12290;V8 &#24341;&#25806;&#30452;&#25509;&#24573;&#30053;&#31532;&#19968;&#27425;&#20351;&#29992;next&#26041;&#27861;&#26102;&#30340;&#21442;&#25968;&#65292;&#21482;&#26377;&#20174;&#31532;&#20108;&#27425;&#20351;&#29992;next&#26041;&#27861;&#24320;&#22987;&#65292;&#21442;&#25968;&#25165;&#26159;&#26377;&#25928;&#30340;&#12290;&#20174;&#35821;&#20041;&#19978;&#35762;&#65292;&#31532;&#19968;&#20010;next&#26041;&#27861;&#29992;&#26469;&#21551;&#21160;&#36941;&#21382;&#22120;&#23545;&#35937;&#65292;&#25152;&#20197;&#19981;&#29992;&#24102;&#26377;&#21442;&#25968;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1531366764297" ID="ID_97011580" MODIFIED="1531367068095">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      3&#12289;for...of&#24490;&#29615;
    </p>
    <p>
      &#65288;1&#65289;&#12289;for...of&#24490;&#29615;&#21487;&#20197;&#33258;&#21160;&#36941;&#21382; Generator &#20989;&#25968;&#26102;&#29983;&#25104;&#30340;Iterator&#23545;&#35937;&#65292;&#19988;&#27492;&#26102;&#19981;&#20877;&#38656;&#35201;&#35843;&#29992;next&#26041;&#27861;&#12290;
    </p>
    <p>
      &#65288;2&#65289;&#12289;
    </p>
    <p>
      function* foo() {
    </p>
    <p>
      &#160;&#160;yield 1;
    </p>
    <p>
      &#160;&#160;yield 2;
    </p>
    <p>
      &#160;&#160;yield 3;
    </p>
    <p>
      &#160;&#160;yield 4;
    </p>
    <p>
      &#160;&#160;yield 5;
    </p>
    <p>
      &#160;&#160;return 6;
    </p>
    <p>
      }
    </p>
    <p>
      for (let v of foo()) {
    </p>
    <p>
      &#160;&#160;console.log(v);
    </p>
    <p>
      }
    </p>
    <p>
      // 1 2 3 4 5
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20351;&#29992;for...of&#24490;&#29615;&#65292;&#20381;&#27425;&#26174;&#31034; 5 &#20010;yield&#34920;&#36798;&#24335;&#30340;&#20540;&#12290;&#36825;&#37324;&#38656;&#35201;&#27880;&#24847;&#65292;&#19968;&#26086;next&#26041;&#27861;&#30340;&#36820;&#22238;&#23545;&#35937;&#30340;done&#23646;&#24615;&#20026;true&#65292;for...of&#24490;&#29615;&#23601;&#20250;&#20013;&#27490;&#65292;&#19988;&#19981;&#21253;&#21547;&#35813;&#36820;&#22238;&#23545;&#35937;&#65292;&#25152;&#20197;&#19978;&#38754;&#20195;&#30721;&#30340;return&#35821;&#21477;&#36820;&#22238;&#30340;6&#65292;&#19981;&#21253;&#25324;&#22312;for...of&#24490;&#29615;&#20043;&#20013;&#12290;
    </p>
    <p>
      &#65288;3&#65289;&#12289;&#38500;&#20102;for...of&#24490;&#29615;&#20197;&#22806;&#65292;&#25193;&#23637;&#36816;&#31639;&#31526;&#65288;...&#65289;&#12289;&#35299;&#26500;&#36171;&#20540;&#21644;Array.from&#26041;&#27861;&#20869;&#37096;&#35843;&#29992;&#30340;&#65292;&#37117;&#26159;&#36941;&#21382;&#22120;&#25509;&#21475;&#12290;&#36825;&#24847;&#21619;&#30528;&#65292;&#23427;&#20204;&#37117;&#21487;&#20197;&#23558; Generator &#20989;&#25968;&#36820;&#22238;&#30340; Iterator &#23545;&#35937;&#65292;&#20316;&#20026;&#21442;&#25968;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1531367072323" ID="ID_1360555031" MODIFIED="1531377355832">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      4&#12289;Generator.prototype.throw
    </p>
    <p>
      &#65288;1&#65289;&#12289;Generator &#20989;&#25968;&#36820;&#22238;&#30340;&#36941;&#21382;&#22120;&#23545;&#35937;&#65292;&#37117;&#26377;&#19968;&#20010;throw&#26041;&#27861;&#65292;&#21487;&#20197;&#22312;&#20989;&#25968;&#20307;&#22806;&#25243;&#20986;&#38169;&#35823;&#65292;&#28982;&#21518;&#22312; Generator &#20989;&#25968;&#20307;&#20869;&#25429;&#33719;&#12290;
    </p>
    <p>
      var g = function* () {
    </p>
    <p>
      &#160;&#160;try {
    </p>
    <p>
      &#160;&#160;&#160;&#160;yield;
    </p>
    <p>
      &#160;&#160;} catch (e) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;console.log('&#20869;&#37096;&#25429;&#33719;', e);
    </p>
    <p>
      &#160;&#160;}
    </p>
    <p>
      };
    </p>
    <p>
      
    </p>
    <p>
      var i = g();
    </p>
    <p>
      i.next();
    </p>
    <p>
      
    </p>
    <p>
      try {
    </p>
    <p>
      &#160;&#160;i.throw('a');
    </p>
    <p>
      &#160;&#160;i.throw('b');
    </p>
    <p>
      } catch (e) {
    </p>
    <p>
      &#160;&#160;console.log('&#22806;&#37096;&#25429;&#33719;', e);
    </p>
    <p>
      }
    </p>
    <p>
      // &#20869;&#37096;&#25429;&#33719; a
    </p>
    <p>
      // &#22806;&#37096;&#25429;&#33719; b
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;&#36941;&#21382;&#22120;&#23545;&#35937;i&#36830;&#32493;&#25243;&#20986;&#20004;&#20010;&#38169;&#35823;&#12290;&#31532;&#19968;&#20010;&#38169;&#35823;&#34987; Generator &#20989;&#25968;&#20307;&#20869;&#30340;catch&#35821;&#21477;&#25429;&#33719;&#12290;i&#31532;&#20108;&#27425;&#25243;&#20986;&#38169;&#35823;&#65292;&#30001;&#20110; Generator &#20989;&#25968;&#20869;&#37096;&#30340;catch&#35821;&#21477;&#24050;&#32463;&#25191;&#34892;&#36807;&#20102;&#65292;&#19981;&#20250;&#20877;&#25429;&#25417;&#21040;&#36825;&#20010;&#38169;&#35823;&#20102;&#65292;&#25152;&#20197;&#36825;&#20010;&#38169;&#35823;&#23601;&#34987;&#25243;&#20986;&#20102; Generator &#20989;&#25968;&#20307;&#65292;&#34987;&#20989;&#25968;&#20307;&#22806;&#30340;catch&#35821;&#21477;&#25429;&#33719;&#12290;
    </p>
    <p>
      &#65288;2&#65289;&#12289;throw&#26041;&#27861;&#21487;&#20197;&#25509;&#21463;&#19968;&#20010;&#21442;&#25968;&#65292;&#35813;&#21442;&#25968;&#20250;&#34987;catch&#35821;&#21477;&#25509;&#25910;&#65292;&#24314;&#35758;&#25243;&#20986;Error&#23545;&#35937;&#30340;&#23454;&#20363;&#12290;
    </p>
    <p>
      &#65288;3&#65289;&#12289;&#19981;&#35201;&#28151;&#28102;&#36941;&#21382;&#22120;&#23545;&#35937;&#30340;throw&#26041;&#27861;&#21644;&#20840;&#23616;&#30340;throw&#21629;&#20196;&#12290;&#19978;&#38754;&#20195;&#30721;&#30340;&#38169;&#35823;&#65292;&#26159;&#29992;&#36941;&#21382;&#22120;&#23545;&#35937;&#30340;throw&#26041;&#27861;&#25243;&#20986;&#30340;&#65292;&#32780;&#19981;&#26159;&#29992;throw&#21629;&#20196;&#25243;&#20986;&#30340;&#12290;&#21518;&#32773;&#21482;&#33021;&#34987;&#20989;&#25968;&#20307;&#22806;&#30340;catch&#35821;&#21477;&#25429;&#33719;&#12290;
    </p>
    <p>
      &#65288;4&#65289;&#12289;throw&#26041;&#27861;&#34987;&#25429;&#33719;&#20197;&#21518;&#65292;&#20250;&#38468;&#24102;&#25191;&#34892;&#19979;&#19968;&#26465;yield&#34920;&#36798;&#24335;&#12290;&#20063;&#23601;&#26159;&#35828;&#65292;&#20250;&#38468;&#24102;&#25191;&#34892;&#19968;&#27425;next&#26041;&#27861;&#12290;
    </p>
    <p>
      var gen = function* gen(){
    </p>
    <p>
      &#160;&#160;try {
    </p>
    <p>
      &#160;&#160;&#160;&#160;yield console.log('a');
    </p>
    <p>
      &#160;&#160;} catch (e) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;// ...
    </p>
    <p>
      &#160;&#160;}
    </p>
    <p>
      &#160;&#160;yield console.log('b');
    </p>
    <p>
      &#160;&#160;yield console.log('c');
    </p>
    <p>
      }
    </p>
    <p>
      
    </p>
    <p>
      var g = gen();
    </p>
    <p>
      g.next() // a
    </p>
    <p>
      g.throw() // b
    </p>
    <p>
      g.next() // c
    </p>
    <p>
      &#65288;5&#65289;&#12289;&#36825;&#31181;&#20989;&#25968;&#20307;&#20869;&#25429;&#33719;&#38169;&#35823;&#30340;&#26426;&#21046;&#65292;&#22823;&#22823;&#26041;&#20415;&#20102;&#23545;&#38169;&#35823;&#30340;&#22788;&#29702;&#12290;&#22810;&#20010;yield&#34920;&#36798;&#24335;&#65292;&#21487;&#20197;&#21482;&#29992;&#19968;&#20010;try...catch&#20195;&#30721;&#22359;&#26469;&#25429;&#33719;&#38169;&#35823;&#12290;&#22914;&#26524;&#20351;&#29992;&#22238;&#35843;&#20989;&#25968;&#30340;&#20889;&#27861;&#65292;&#24819;&#35201;&#25429;&#33719;&#22810;&#20010;&#38169;&#35823;&#65292;&#23601;&#19981;&#24471;&#19981;&#20026;&#27599;&#20010;&#20989;&#25968;&#20869;&#37096;&#20889;&#19968;&#20010;&#38169;&#35823;&#22788;&#29702;&#35821;&#21477;&#65292;&#29616;&#22312;&#21482;&#22312; Generator &#20989;&#25968;&#20869;&#37096;&#20889;&#19968;&#27425;catch&#35821;&#21477;&#23601;&#21487;&#20197;&#20102;&#12290;
    </p>
    <p>
      &#65288;6&#65289;&#12289;Generator &#20989;&#25968;&#20307;&#22806;&#25243;&#20986;&#30340;&#38169;&#35823;&#65292;&#21487;&#20197;&#22312;&#20989;&#25968;&#20307;&#20869;&#25429;&#33719;&#65307;&#21453;&#36807;&#26469;&#65292;Generator &#20989;&#25968;&#20307;&#20869;&#25243;&#20986;&#30340;&#38169;&#35823;&#65292;&#20063;&#21487;&#20197;&#34987;&#20989;&#25968;&#20307;&#22806;&#30340;catch&#25429;&#33719;&#12290;
    </p>
    <p>
      function* foo() {
    </p>
    <p>
      &#160;&#160;var x = yield 3;
    </p>
    <p>
      &#160;&#160;var y = x.toUpperCase();
    </p>
    <p>
      &#160;&#160;yield y;
    </p>
    <p>
      }
    </p>
    <p>
      var it = foo();
    </p>
    <p>
      it.next(); // { value:3, done:false }
    </p>
    <p>
      try {
    </p>
    <p>
      &#160;&#160;it.next(42);
    </p>
    <p>
      } catch (err) {
    </p>
    <p>
      &#160;&#160;console.log(err);
    </p>
    <p>
      }
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;&#31532;&#20108;&#20010;next&#26041;&#27861;&#21521;&#20989;&#25968;&#20307;&#20869;&#20256;&#20837;&#19968;&#20010;&#21442;&#25968; 42&#65292;&#25968;&#20540;&#26159;&#27809;&#26377;toUpperCase&#26041;&#27861;&#30340;&#65292;&#25152;&#20197;&#20250;&#25243;&#20986;&#19968;&#20010; TypeError &#38169;&#35823;&#65292;&#34987;&#20989;&#25968;&#20307;&#22806;&#30340;catch&#25429;&#33719;&#12290;
    </p>
    <p>
      &#65288;7&#65289;&#12289;&#19968;&#26086; Generator &#25191;&#34892;&#36807;&#31243;&#20013;&#25243;&#20986;&#38169;&#35823;&#65292;&#19988;&#27809;&#26377;&#34987;&#20869;&#37096;&#25429;&#33719;&#65292;&#23601;&#19981;&#20250;&#20877;&#25191;&#34892;&#19979;&#21435;&#20102;&#12290;&#22914;&#26524;&#27492;&#21518;&#36824;&#35843;&#29992;next&#26041;&#27861;&#65292;&#23558;&#36820;&#22238;&#19968;&#20010;value&#23646;&#24615;&#31561;&#20110;undefined&#12289;done&#23646;&#24615;&#31561;&#20110;true&#30340;&#23545;&#35937;&#65292;&#21363; JavaScript &#24341;&#25806;&#35748;&#20026;&#36825;&#20010; Generator &#24050;&#32463;&#36816;&#34892;&#32467;&#26463;&#20102;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1531377362467" ID="ID_1988383493" MODIFIED="1531377680217">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      5&#12289;Generator.prototype.return()
    </p>
    <p>
      &#65288;1&#65289;&#12289;Generator &#20989;&#25968;&#36820;&#22238;&#30340;&#36941;&#21382;&#22120;&#23545;&#35937;&#65292;&#36824;&#26377;&#19968;&#20010;return&#26041;&#27861;&#65292;&#21487;&#20197;&#36820;&#22238;&#32473;&#23450;&#30340;&#20540;&#65292;&#24182;&#19988;&#32456;&#32467;&#36941;&#21382; Generator &#20989;&#25968;&#12290;
    </p>
    <p>
      function* gen() {
    </p>
    <p>
      &#160;&#160;yield 1;
    </p>
    <p>
      &#160;&#160;yield 2;
    </p>
    <p>
      &#160;&#160;yield 3;
    </p>
    <p>
      }
    </p>
    <p>
      var g = gen();
    </p>
    <p>
      g.next()&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// { value: 1, done: false }
    </p>
    <p>
      g.return('foo') // { value: &quot;foo&quot;, done: true }
    </p>
    <p>
      g.next()&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// { value: undefined, done: true }
    </p>
    <p>
      &#65288;2&#65289;&#12289;&#22914;&#26524;return&#26041;&#27861;&#35843;&#29992;&#26102;&#65292;&#19981;&#25552;&#20379;&#21442;&#25968;&#65292;&#21017;&#36820;&#22238;&#20540;&#30340;value&#23646;&#24615;&#20026;undefined&#12290;
    </p>
    <p>
      &#65288;3&#65289;&#12289;&#22914;&#26524; Generator &#20989;&#25968;&#20869;&#37096;&#26377;try...finally&#20195;&#30721;&#22359;&#65292;&#37027;&#20040;return&#26041;&#27861;&#20250;&#25512;&#36831;&#21040;finally&#20195;&#30721;&#22359;&#25191;&#34892;&#23436;&#20877;&#25191;&#34892;&#12290;
    </p>
    <p>
      function* numbers () {
    </p>
    <p>
      &#160;&#160;yield 1;
    </p>
    <p>
      &#160;&#160;try {
    </p>
    <p>
      &#160;&#160;&#160;&#160;yield 2;
    </p>
    <p>
      &#160;&#160;&#160;&#160;yield 3;
    </p>
    <p>
      &#160;&#160;} finally {
    </p>
    <p>
      &#160;&#160;&#160;&#160;yield 4;
    </p>
    <p>
      &#160;&#160;&#160;&#160;yield 5;
    </p>
    <p>
      &#160;&#160;}
    </p>
    <p>
      &#160;&#160;yield 6;
    </p>
    <p>
      }
    </p>
    <p>
      var g = numbers();
    </p>
    <p>
      g.next() // { value: 1, done: false }
    </p>
    <p>
      g.next() // { value: 2, done: false }
    </p>
    <p>
      g.return(7) // { value: 4, done: false }
    </p>
    <p>
      g.next() // { value: 5, done: false }
    </p>
    <p>
      g.next() // { value: 7, done: true }
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1531377725006" ID="ID_1362291417" MODIFIED="1531377922042">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      6&#12289;next&#12289;throw&#12289;return&#30340;&#20849;&#21516;&#28857;
    </p>
    <p>
      &#65288;1&#65289;&#12289;next()&#12289;throw()&#12289;return()&#36825;&#19977;&#20010;&#26041;&#27861;&#26412;&#36136;&#19978;&#26159;&#21516;&#19968;&#20214;&#20107;&#65292;&#21487;&#20197;&#25918;&#22312;&#19968;&#36215;&#29702;&#35299;&#12290;&#23427;&#20204;&#30340;&#20316;&#29992;&#37117;&#26159;&#35753; Generator &#20989;&#25968;&#24674;&#22797;&#25191;&#34892;&#65292;&#24182;&#19988;&#20351;&#29992;&#19981;&#21516;&#30340;&#35821;&#21477;&#26367;&#25442;yield&#34920;&#36798;&#24335;&#12290;
    </p>
    <p>
      next()&#26159;&#23558;yield&#34920;&#36798;&#24335;&#26367;&#25442;&#25104;&#19968;&#20010;&#20540;&#12290;
    </p>
    <p>
      const g = function* (x, y) {
    </p>
    <p>
      &#160;&#160;let result = yield x + y;
    </p>
    <p>
      &#160;&#160;return result;
    </p>
    <p>
      };
    </p>
    <p>
      const gen = g(1, 2);
    </p>
    <p>
      gen.next(); // Object {value: 3, done: false}
    </p>
    <p>
      gen.next(1); // Object {value: 1, done: true}
    </p>
    <p>
      // &#30456;&#24403;&#20110;&#23558; let result = yield x + y
    </p>
    <p>
      // &#26367;&#25442;&#25104; let result = 1;
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;&#31532;&#20108;&#20010;next(1)&#26041;&#27861;&#23601;&#30456;&#24403;&#20110;&#23558;yield&#34920;&#36798;&#24335;&#26367;&#25442;&#25104;&#19968;&#20010;&#20540;1&#12290;&#22914;&#26524;next&#26041;&#27861;&#27809;&#26377;&#21442;&#25968;&#65292;&#23601;&#30456;&#24403;&#20110;&#26367;&#25442;&#25104;undefined&#12290;
    </p>
    <p>
      throw()&#26159;&#23558;yield&#34920;&#36798;&#24335;&#26367;&#25442;&#25104;&#19968;&#20010;throw&#35821;&#21477;&#12290;
    </p>
    <p>
      gen.throw(new Error('&#20986;&#38169;&#20102;')); // Uncaught Error: &#20986;&#38169;&#20102;
    </p>
    <p>
      // &#30456;&#24403;&#20110;&#23558; let result = yield x + y
    </p>
    <p>
      // &#26367;&#25442;&#25104; let result = throw(new Error('&#20986;&#38169;&#20102;'));
    </p>
    <p>
      return()&#26159;&#23558;yield&#34920;&#36798;&#24335;&#26367;&#25442;&#25104;&#19968;&#20010;return&#35821;&#21477;&#12290;
    </p>
    <p>
      gen.return(2); // Object {value: 2, done: true}
    </p>
    <p>
      // &#30456;&#24403;&#20110;&#23558; let result = yield x + y
    </p>
    <p>
      // &#26367;&#25442;&#25104; let result = return 2;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1531378002945" ID="ID_304020682" MODIFIED="1531378537621">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      7&#12289;yield* &#34920;&#36798;&#24335;
    </p>
    <p>
      &#65288;1&#65289;&#12289;&#22914;&#26524;&#22312; Generator &#20989;&#25968;&#20869;&#37096;&#65292;&#35843;&#29992;&#21478;&#19968;&#20010; Generator &#20989;&#25968;&#65292;&#40664;&#35748;&#24773;&#20917;&#19979;&#26159;&#27809;&#26377;&#25928;&#26524;&#30340;&#12290;
    </p>
    <p>
      function* foo() {
    </p>
    <p>
      &#160;&#160;yield 'a';
    </p>
    <p>
      &#160;&#160;yield 'b';
    </p>
    <p>
      }
    </p>
    <p>
      
    </p>
    <p>
      function* bar() {
    </p>
    <p>
      &#160;&#160;yield 'x';
    </p>
    <p>
      &#160;&#160;foo();
    </p>
    <p>
      &#160;&#160;yield 'y';
    </p>
    <p>
      }
    </p>
    <p>
      
    </p>
    <p>
      for (let v of bar()){
    </p>
    <p>
      &#160;&#160;console.log(v);
    </p>
    <p>
      }
    </p>
    <p>
      // &quot;x&quot;
    </p>
    <p>
      // &quot;y&quot;
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;foo&#21644;bar&#37117;&#26159; Generator &#20989;&#25968;&#65292;&#22312;bar&#37324;&#38754;&#35843;&#29992;foo&#65292;&#26159;&#19981;&#20250;&#26377;&#25928;&#26524;&#30340;&#12290;
    </p>
    <p>
      &#65288;2&#65289;&#12289;&#36825;&#20010;&#23601;&#38656;&#35201;&#29992;&#21040;yield*&#34920;&#36798;&#24335;&#65292;&#29992;&#26469;&#22312;&#19968;&#20010; Generator &#20989;&#25968;&#37324;&#38754;&#25191;&#34892;&#21478;&#19968;&#20010; Generator &#20989;&#25968;&#12290;
    </p>
    <p>
      function* bar() {
    </p>
    <p>
      &#160;&#160;yield 'x';
    </p>
    <p>
      &#160;&#160;yield* foo();
    </p>
    <p>
      &#160;&#160;yield 'y';
    </p>
    <p>
      }
    </p>
    <p>
      
    </p>
    <p>
      // &#31561;&#21516;&#20110;
    </p>
    <p>
      function* bar() {
    </p>
    <p>
      &#160;&#160;yield 'x';
    </p>
    <p>
      &#160;&#160;yield 'a';
    </p>
    <p>
      &#160;&#160;yield 'b';
    </p>
    <p>
      &#160;&#160;yield 'y';
    </p>
    <p>
      }
    </p>
    <p>
      
    </p>
    <p>
      // &#31561;&#21516;&#20110;
    </p>
    <p>
      function* bar() {
    </p>
    <p>
      &#160;&#160;yield 'x';
    </p>
    <p>
      &#160;&#160;for (let v of foo()) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;yield v;
    </p>
    <p>
      &#160;&#160;}
    </p>
    <p>
      &#160;&#160;yield 'y';
    </p>
    <p>
      }
    </p>
    <p>
      
    </p>
    <p>
      for (let v of bar()){
    </p>
    <p>
      &#160;&#160;console.log(v);
    </p>
    <p>
      }
    </p>
    <p>
      // &quot;x&quot;
    </p>
    <p>
      // &quot;a&quot;
    </p>
    <p>
      // &quot;b&quot;
    </p>
    <p>
      // &quot;y&quot;
    </p>
    <p>
      &#65288;3&#65289;&#12289;
    </p>
    <p>
      function* concat(iter1, iter2) {
    </p>
    <p>
      &#160;&#160;yield* iter1;
    </p>
    <p>
      &#160;&#160;yield* iter2;
    </p>
    <p>
      }
    </p>
    <p>
      
    </p>
    <p>
      // &#31561;&#21516;&#20110;
    </p>
    <p>
      
    </p>
    <p>
      function* concat(iter1, iter2) {
    </p>
    <p>
      &#160;&#160;for (var value of iter1) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;yield value;
    </p>
    <p>
      &#160;&#160;}
    </p>
    <p>
      &#160;&#160;for (var value of iter2) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;yield value;
    </p>
    <p>
      &#160;&#160;}
    </p>
    <p>
      }
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#35828;&#26126;&#65292;yield*&#21518;&#38754;&#30340; Generator &#20989;&#25968;&#65288;&#27809;&#26377;return&#35821;&#21477;&#26102;&#65289;&#65292;&#19981;&#36807;&#26159;for...of&#30340;&#19968;&#31181;&#31616;&#20889;&#24418;&#24335;&#65292;&#23436;&#20840;&#21487;&#20197;&#29992;&#21518;&#32773;&#26367;&#20195;&#21069;&#32773;&#12290;&#21453;&#20043;&#65292;&#22312;&#26377;return&#35821;&#21477;&#26102;&#65292;&#21017;&#38656;&#35201;&#29992;var value = yield* iterator&#30340;&#24418;&#24335;&#33719;&#21462;return&#35821;&#21477;&#30340;&#20540;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1531379652893" ID="ID_1738533273" MODIFIED="1531379711001">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      8&#12289;&#20316;&#20026;&#23545;&#35937;&#23646;&#24615;&#30340;Generator&#20989;&#25968;
    </p>
    <p>
      &#65288;1&#65289;&#12289;&#22914;&#26524;&#19968;&#20010;&#23545;&#35937;&#30340;&#23646;&#24615;&#26159; Generator &#20989;&#25968;&#65292;&#21487;&#20197;&#31616;&#20889;&#25104;&#19979;&#38754;&#30340;&#24418;&#24335;&#12290;
    </p>
    <p>
      let obj = {
    </p>
    <p>
      &#160;&#160;* myGeneratorMethod() {
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#183;&#183;&#183;
    </p>
    <p>
      &#160;&#160;}
    </p>
    <p>
      };
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;myGeneratorMethod&#23646;&#24615;&#21069;&#38754;&#26377;&#19968;&#20010;&#26143;&#21495;&#65292;&#34920;&#31034;&#36825;&#20010;&#23646;&#24615;&#26159;&#19968;&#20010; Generator &#20989;&#25968;&#12290;
    </p>
    <p>
      &#23427;&#30340;&#23436;&#25972;&#24418;&#24335;&#22914;&#19979;&#65292;&#19982;&#19978;&#38754;&#30340;&#20889;&#27861;&#26159;&#31561;&#20215;&#30340;&#12290;
    </p>
    <p>
      let obj = {
    </p>
    <p>
      &#160;&#160;myGeneratorMethod: function* () {
    </p>
    <p>
      &#160;&#160;&#160;&#160;// &#183;&#183;&#183;
    </p>
    <p>
      &#160;&#160;}
    </p>
    <p>
      };
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1531379830487" ID="ID_1303309547" MODIFIED="1531380579163">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      9&#12289;Generator&#20989;&#25968;&#20013;&#30340;this
    </p>
    <p>
      &#65288;1&#65289;&#12289;Generator &#20989;&#25968;&#24635;&#26159;&#36820;&#22238;&#19968;&#20010;&#36941;&#21382;&#22120;&#65292;ES6 &#35268;&#23450;&#36825;&#20010;&#36941;&#21382;&#22120;&#26159; Generator &#20989;&#25968;&#30340;&#23454;&#20363;&#65292;&#20063;&#32487;&#25215;&#20102; Generator &#20989;&#25968;&#30340;prototype&#23545;&#35937;&#19978;&#30340;&#26041;&#27861;&#12290;
    </p>
    <p>
      function* g() {}
    </p>
    <p>
      g.prototype.hello = function () {
    </p>
    <p>
      &#160;&#160;return 'hi!';
    </p>
    <p>
      };
    </p>
    <p>
      let obj = g();
    </p>
    <p>
      obj instanceof g // true
    </p>
    <p>
      obj.hello() // 'hi!'
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#34920;&#26126;&#65292;Generator &#20989;&#25968;g&#36820;&#22238;&#30340;&#36941;&#21382;&#22120;obj&#65292;&#26159;g&#30340;&#23454;&#20363;&#65292;&#32780;&#19988;&#32487;&#25215;&#20102;g.prototype&#12290;&#20294;&#26159;&#65292;&#22914;&#26524;&#25226;g&#24403;&#20316;&#26222;&#36890;&#30340;&#26500;&#36896;&#20989;&#25968;&#65292;&#24182;&#19981;&#20250;&#29983;&#25928;&#65292;&#22240;&#20026;g&#36820;&#22238;&#30340;&#24635;&#26159;&#36941;&#21382;&#22120;&#23545;&#35937;&#65292;&#32780;&#19981;&#26159;this&#23545;&#35937;&#12290;
    </p>
    <p>
      function* g() {
    </p>
    <p>
      &#160;&#160;this.a = 11;
    </p>
    <p>
      }
    </p>
    <p>
      let obj = g();
    </p>
    <p>
      obj.next();
    </p>
    <p>
      obj.a // undefined
    </p>
    <p>
      &#65288;2&#65289;&#12289;Generator &#20989;&#25968;&#20063;&#19981;&#33021;&#36319;new&#21629;&#20196;&#19968;&#36215;&#29992;&#65292;&#20250;&#25253;&#38169;&#12290;
    </p>
    <p>
      function* F() {
    </p>
    <p>
      &#160;&#160;yield this.x = 2;
    </p>
    <p>
      &#160;&#160;yield this.y = 3;
    </p>
    <p>
      }
    </p>
    <p>
      new F()
    </p>
    <p>
      // TypeError: F is not a constructor
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1504777291248" FOLDED="true" ID="ID_92617511" MODIFIED="1531362654715" POSITION="left" TEXT="Module&#x7684;&#x8bed;&#x6cd5;">
<node CREATED="1504773395474" ID="ID_402189306" MODIFIED="1517476078480">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      export&#35821;&#27861;
    </p>
    <p>
      export { name1, name2, &#8230;, nameN };
    </p>
    <p>
      export { variable1 as name1, variable2 as name2, &#8230;, nameN };
    </p>
    <p>
      export let name1, name2, &#8230;, nameN; // also var, function
    </p>
    <p>
      export let name1 = &#8230;, name2 = &#8230;, &#8230;, nameN; // also var, const
    </p>
    <p>
      
    </p>
    <p>
      export default expression;
    </p>
    <p>
      export default function (&#8230;) { &#8230; } // also class, function*
    </p>
    <p>
      export default function name1(&#8230;) { &#8230; } // also class, function*
    </p>
    <p>
      export { name1 as default, &#8230; };
    </p>
    <p>
      
    </p>
    <p>
      export * from &#8230;;
    </p>
    <p>
      export { name1, name2, &#8230;, nameN } from &#8230;;
    </p>
    <p>
      export { import1 as name1, import2 as name2, &#8230;, nameN } from &#8230;;
    </p>
    <p>
      1&#12289;&#35821;&#27861;&#19968;
    </p>
    <p>
      // profile.js
    </p>
    <p>
      export var firstName = 'Michael';
    </p>
    <p>
      export var lastName = 'Jackson';
    </p>
    <p>
      export var year = 1958;
    </p>
    <p>
      2&#12289;&#35821;&#27861;&#20108;
    </p>
    <p>
      // profile.js
    </p>
    <p>
      var firstName = 'Michael';
    </p>
    <p>
      var lastName = 'Jackson';
    </p>
    <p>
      var year = 1958;
    </p>
    <p>
      export {firstName, lastName, year};
    </p>
    <p>
      3&#12289;&#35821;&#27861;&#19977;
    </p>
    <p>
      function v1() { ... }
    </p>
    <p>
      function v2() { ... }
    </p>
    <p>
      export {
    </p>
    <p>
      &#160;&#160;v1 as streamV1,
    </p>
    <p>
      &#160;&#160;v2 as streamV2,
    </p>
    <p>
      &#160;&#160;v2 as streamLatestVersion //&#23558;v2&#23548;&#20986;2&#27425;
    </p>
    <p>
      };
    </p>
    <p>
      4&#12289;&#35821;&#27861;&#22235;&#65288;export default&#21482;&#33021;&#20986;&#29616;1&#27425;&#65289;
    </p>
    <p>
      export default function () {
    </p>
    <p>
      &#160;&#160;console.log('foo');
    </p>
    <p>
      }
    </p>
    <p>
      &#20063;&#21487;&#20197;&#36825;&#26679;&#65288;&#27880;&#24847;&#19981;&#35201;&#22823;&#25324;&#21495;&#21734;&#65289;
    </p>
    <p>
      function foo() {
    </p>
    <p>
      &#160;&#160;console.log('foo');
    </p>
    <p>
      }
    </p>
    <p>
      export default foo;
    </p>
    <p>
      &#23545;&#24212;&#30340;import&#26159;&#36825;&#26679;&#30340;
    </p>
    <p>
      import customName from './export-default';
    </p>
    <p>
      customName(); // 'foo'
    </p>
    <p>
      5&#12289;&#35821;&#27861;&#20116;
    </p>
    <p>
      export { foo, bar } from 'my_module';
    </p>
    <p>
      // &#31561;&#21516;&#20110;
    </p>
    <p>
      import { foo, bar } from 'my_module';
    </p>
    <p>
      export { foo, bar };
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1504773402406" ID="ID_1403021144" MODIFIED="1517475202803">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      import&#35821;&#27861;
    </p>
    <p>
      import defaultExport from &quot;module-name&quot;;
    </p>
    <p>
      import * as name from &quot;module-name&quot;;
    </p>
    <p>
      import { export } from &quot;module-name&quot;;
    </p>
    <p>
      import { export as alias } from &quot;module-name&quot;;
    </p>
    <p>
      import { export1 , export2 } from &quot;module-name&quot;;
    </p>
    <p>
      import { export1 , export2 as alias2 , [...] } from &quot;module-name&quot;;
    </p>
    <p>
      import defaultExport, { export [ , [...] ] } from &quot;module-name&quot;;
    </p>
    <p>
      import defaultExport, * as name from &quot;module-name&quot;;
    </p>
    <p>
      import &quot;module-name&quot;;
    </p>
    <p>
      &#22810;&#27425;&#23548;&#20837;&#19968;&#20010;&#27169;&#22359;&#65292;&#27169;&#22359;&#26412;&#36523;&#20195;&#30721;&#24182;&#19981;&#20250;&#25191;&#34892;&#22810;&#27425;
    </p>
    <p>
      1&#12289;&#35821;&#27861;&#19968;
    </p>
    <p>
      // main.js
    </p>
    <p>
      import {firstName, lastName, year} from './profile';
    </p>
    <p>
      function setName(element) {
    </p>
    <p>
      &#160;&#160;element.textContent = firstName + ' ' + lastName;
    </p>
    <p>
      }
    </p>
    <p>
      2&#12289;&#35821;&#27861;&#20108;
    </p>
    <p>
      import { lastName as surname } from './profile';
    </p>
    <p>
      3&#12289;&#35821;&#27861;&#19977;
    </p>
    <p>
      import 'lodash'; //&#20165;&#25191;&#34892;&#27169;&#22359;&#20195;&#30721;&#65292;&#19981;&#23548;&#20986;&#25509;&#21475;
    </p>
    <p>
      4&#12289;&#35821;&#27861;&#22235;&#65288;&#25972;&#20307;&#21152;&#36733;&#65289;
    </p>
    <p>
      import * as circle from './circle';
    </p>
    <p>
      console.log('&#22278;&#38754;&#31215;&#65306;' + circle.area(4));
    </p>
    <p>
      console.log('&#22278;&#21608;&#38271;&#65306;' + circle.circumference(14));
    </p>
    <p>
      5&#12289;&#35821;&#27861;&#20116;&#65288;&#27880;&#24847;&#19981;&#24102;&#22823;&#25324;&#21495;&#21734;&#65292;&#29992;&#26469;&#23548;&#20837;export default&#23545;&#24212;&#30340;&#27169;&#22359;&#65289;
    </p>
    <p>
      import customName from './export-default';
    </p>
    <p>
      customName(); // 'foo'
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1504777240829" ID="ID_1024285400" MODIFIED="1504777270666">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      import()&#26041;&#27861;&#65292;&#24322;&#27493;&#21152;&#36733;&#27169;&#22359;
    </p>
    <p>
      1&#12289;&#35821;&#27861;
    </p>
    <p>
      import(`./section-modules/${someVariable}.js`)
    </p>
    <p>
      &#160;&#160;.then(module =&gt; {
    </p>
    <p>
      &#160;&#160;&#160;&#160;module.loadPageInto(main);
    </p>
    <p>
      &#160;&#160;})
    </p>
    <p>
      &#160;&#160;.catch(err =&gt; {
    </p>
    <p>
      &#160;&#160;&#160;&#160;main.textContent = err.message;
    </p>
    <p>
      &#160;&#160;});
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1509344328283" FOLDED="true" ID="ID_1036310981" MODIFIED="1531362652091" POSITION="left" TEXT="Module&#x7684;&#x52a0;&#x8f7d;&#x5b9e;&#x73b0;">
<node CREATED="1509344350224" ID="ID_1156362244" MODIFIED="1509355136321">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#27983;&#35272;&#22120;&#21152;&#36733;
    </p>
    <p>
      1&#12289;&#20256;&#32479;&#26041;&#27861;
    </p>
    <p>
      &lt;script src=&quot;path/to/myModule.js&quot; defer&gt;&lt;/script&gt;
    </p>
    <p>
      &lt;script src=&quot;path/to/myModule.js&quot; async&gt;&lt;/script&gt;
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;&lt;script&gt;&#26631;&#31614;&#25171;&#24320;defer&#25110;async&#23646;&#24615;&#65292;&#33050;&#26412;&#23601;&#20250;&#24322;&#27493;&#21152;&#36733;&#12290;&#28210;&#26579;&#24341;&#25806;&#36935;&#21040;&#36825;&#19968;&#34892;&#21629;&#20196;&#65292;&#23601;&#20250;&#24320;&#22987;&#19979;&#36733;&#22806;&#37096;&#33050;&#26412;&#65292;&#20294;&#19981;&#20250;&#31561;&#23427;&#19979;&#36733;&#21644;&#25191;&#34892;&#65292;&#32780;&#26159;&#30452;&#25509;&#25191;&#34892;&#21518;&#38754;&#30340;&#21629;&#20196;&#12290;
    </p>
    <p>
      defer&#19982;async&#30340;&#21306;&#21035;&#26159;&#65306;&#21069;&#32773;&#35201;&#31561;&#21040;&#25972;&#20010;&#39029;&#38754;&#27491;&#24120;&#28210;&#26579;&#32467;&#26463;&#65292;&#25165;&#20250;&#25191;&#34892;&#65307;&#21518;&#32773;&#19968;&#26086;&#19979;&#36733;&#23436;&#65292;&#28210;&#26579;&#24341;&#25806;&#23601;&#20250;&#20013;&#26029;&#28210;&#26579;&#65292;&#25191;&#34892;&#36825;&#20010;&#33050;&#26412;&#20197;&#21518;&#65292;&#20877;&#32487;&#32493;&#28210;&#26579;&#12290;&#19968;&#21477;&#35805;&#65292;defer&#26159;&#8220;&#28210;&#26579;&#23436;&#20877;&#25191;&#34892;&#8221;&#65292;async&#26159;&#8220;&#19979;&#36733;&#23436;&#23601;&#25191;&#34892;&#8221;&#12290;
    </p>
    <p>
      2&#12289;&#27983;&#35272;&#22120;&#21152;&#36733; ES6 &#27169;&#22359;&#65292;&#20063;&#20351;&#29992;&lt;script&gt;&#26631;&#31614;&#65292;&#20294;&#26159;&#35201;&#21152;&#20837;type=&quot;module&quot;&#23646;&#24615;&#12290;
    </p>
    <p>
      &lt;script type=&quot;module&quot; src=&quot;./foo.js&quot;&gt;&lt;/script&gt;
    </p>
    <p>
      3&#12289;ES6 &#27169;&#22359;&#20063;&#20801;&#35768;&#20869;&#23884;&#22312;&#32593;&#39029;&#20013;&#65292;&#35821;&#27861;&#34892;&#20026;&#19982;&#21152;&#36733;&#22806;&#37096;&#33050;&#26412;&#23436;&#20840;&#19968;&#33268;&#12290;
    </p>
    <p>
      &lt;script type=&quot;module&quot;&gt;
    </p>
    <p>
      &#160;&#160;import utils from &quot;./utils.js&quot;;
    </p>
    <p>
      &#160;&#160;// other code
    </p>
    <p>
      &lt;/script&gt;
    </p>
    <p>
      4&#12289;&#27983;&#35272;&#22120;&#23545;&#20110;&#24102;&#26377;type=&quot;module&quot;&#30340;&lt;script&gt;&#65292;&#37117;&#26159;&#24322;&#27493;&#21152;&#36733;&#65292;&#19981;&#20250;&#36896;&#25104;&#22581;&#22622;&#27983;&#35272;&#22120;&#65292;&#21363;&#31561;&#21040;&#25972;&#20010;&#39029;&#38754;&#28210;&#26579;&#23436;&#65292;&#20877;&#25191;&#34892;&#27169;&#22359;&#33050;&#26412;&#65292;&#31561;&#21516;&#20110;&#25171;&#24320;&#20102;&lt;script&gt;&#26631;&#31614;&#30340;defer&#23646;&#24615;&#12290;
    </p>
    <p>
      &lt;script type=&quot;module&quot; src=&quot;./foo.js&quot;&gt;&lt;/script&gt;
    </p>
    <p>
      &lt;!-- &#31561;&#21516;&#20110; --&gt;
    </p>
    <p>
      &lt;script type=&quot;module&quot; src=&quot;./foo.js&quot; defer&gt;&lt;/script&gt;
    </p>
    <p>
      &#22914;&#26524;&#32593;&#39029;&#26377;&#22810;&#20010;&lt;script type=&quot;module&quot;&gt;&#65292;&#23427;&#20204;&#20250;&#25353;&#29031;&#22312;&#39029;&#38754;&#20986;&#29616;&#30340;&#39034;&#24207;&#20381;&#27425;&#25191;&#34892;&#12290;
    </p>
    <p>
      &lt;script&gt;&#26631;&#31614;&#30340;async&#23646;&#24615;&#20063;&#21487;&#20197;&#25171;&#24320;&#65292;&#36825;&#26102;&#21482;&#35201;&#21152;&#36733;&#23436;&#25104;&#65292;&#28210;&#26579;&#24341;&#25806;&#23601;&#20250;&#20013;&#26029;&#28210;&#26579;&#31435;&#21363;&#25191;&#34892;&#12290;&#25191;&#34892;&#23436;&#25104;&#21518;&#65292;&#20877;&#24674;&#22797;&#28210;&#26579;&#12290;
    </p>
    <p>
      &lt;script type=&quot;module&quot; src=&quot;./foo.js&quot; async&gt;&lt;/script&gt;
    </p>
    <p>
      &#19968;&#26086;&#20351;&#29992;&#20102;async&#23646;&#24615;&#65292;&lt;script type=&quot;module&quot;&gt;&#23601;&#19981;&#20250;&#25353;&#29031;&#22312;&#39029;&#38754;&#20986;&#29616;&#30340;&#39034;&#24207;&#25191;&#34892;&#65292;&#32780;&#26159;&#21482;&#35201;&#35813;&#27169;&#22359;&#21152;&#36733;&#23436;&#25104;&#65292;&#23601;&#25191;&#34892;&#35813;&#27169;&#22359;&#12290;
    </p>
    <p>
      5&#12289;&#23545;&#20110;&#22806;&#37096;&#30340;&#27169;&#22359;&#33050;&#26412;&#65288;&#19978;&#20363;&#26159;foo.js&#65289;&#65292;&#26377;&#20960;&#28857;&#38656;&#35201;&#27880;&#24847;&#12290;
    </p>
    <p>
      &#65288;1&#65289;&#12289;&#20195;&#30721;&#26159;&#22312;&#27169;&#22359;&#20316;&#29992;&#22495;&#20043;&#20013;&#36816;&#34892;&#65292;&#32780;&#19981;&#26159;&#22312;&#20840;&#23616;&#20316;&#29992;&#22495;&#36816;&#34892;&#12290;&#27169;&#22359;&#20869;&#37096;&#30340;&#39030;&#23618;&#21464;&#37327;&#65292;&#22806;&#37096;&#19981;&#21487;&#35265;&#12290;
    </p>
    <p>
      &#65288;2&#65289;&#12289;&#27169;&#22359;&#33050;&#26412;&#33258;&#21160;&#37319;&#29992;&#20005;&#26684;&#27169;&#24335;&#65292;&#19981;&#31649;&#26377;&#27809;&#26377;&#22768;&#26126;use strict&#12290;
    </p>
    <p>
      &#65288;3&#65289;&#12289;&#27169;&#22359;&#20043;&#20013;&#65292;&#21487;&#20197;&#20351;&#29992;import&#21629;&#20196;&#21152;&#36733;&#20854;&#20182;&#27169;&#22359;&#65288;.js&#21518;&#32512;&#19981;&#21487;&#30465;&#30053;&#65292;&#38656;&#35201;&#25552;&#20379;&#32477;&#23545; URL &#25110;&#30456;&#23545; URL&#65289;&#65292;&#20063;&#21487;&#20197;&#20351;&#29992;export&#21629;&#20196;&#36755;&#20986;&#23545;&#22806;&#25509;&#21475;&#12290;
    </p>
    <p>
      &#65288;4&#65289;&#12289;&#27169;&#22359;&#20043;&#20013;&#65292;&#39030;&#23618;&#30340;this&#20851;&#38190;&#23383;&#36820;&#22238;undefined&#65292;&#32780;&#19981;&#26159;&#25351;&#21521;window&#12290;&#20063;&#23601;&#26159;&#35828;&#65292;&#22312;&#27169;&#22359;&#39030;&#23618;&#20351;&#29992;this&#20851;&#38190;&#23383;&#65292;&#26159;&#26080;&#24847;&#20041;&#30340;&#12290;
    </p>
    <p>
      &#65288;5&#65289;&#12289;&#21516;&#19968;&#20010;&#27169;&#22359;&#22914;&#26524;&#21152;&#36733;&#22810;&#27425;&#65292;&#23558;&#21482;&#25191;&#34892;&#19968;&#27425;&#12290;
    </p>
    <p>
      6&#12289;&#21033;&#29992;&#39030;&#23618;&#30340;this&#31561;&#20110;undefined&#36825;&#20010;&#35821;&#27861;&#28857;&#65292;&#21487;&#20197;&#20390;&#27979;&#24403;&#21069;&#20195;&#30721;&#26159;&#21542;&#22312; ES6 &#27169;&#22359;&#20043;&#20013;&#12290;
    </p>
    <p>
      const isNotModuleScript = this !== undefined;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1509355144836" ID="ID_1759065929" MODIFIED="1509355797904">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      ES6&#27169;&#22359;&#21644;CommonJS&#27169;&#22359;&#30340;&#24046;&#24322;
    </p>
    <p>
      1&#12289;CommonJS &#27169;&#22359;&#26159;&#36816;&#34892;&#26102;&#21152;&#36733;&#65292;ES6 &#27169;&#22359;&#26159;&#32534;&#35793;&#26102;&#36755;&#20986;&#25509;&#21475;&#12290;
    </p>
    <p>
      &#22240;&#20026; CommonJS &#21152;&#36733;&#30340;&#26159;&#19968;&#20010;&#23545;&#35937;&#65288;&#21363;module.exports&#23646;&#24615;&#65289;&#65292;&#35813;&#23545;&#35937;&#21482;&#26377;&#22312;&#33050;&#26412;&#36816;&#34892;&#23436;&#25165;&#20250;&#29983;&#25104;&#12290;&#32780; ES6 &#27169;&#22359;&#19981;&#26159;&#23545;&#35937;&#65292;&#23427;&#30340;&#23545;&#22806;&#25509;&#21475;&#21482;&#26159;&#19968;&#31181;&#38745;&#24577;&#23450;&#20041;&#65292;&#22312;&#20195;&#30721;&#38745;&#24577;&#35299;&#26512;&#38454;&#27573;&#23601;&#20250;&#29983;&#25104;&#12290;
    </p>
    <p>
      2&#12289;CommonJS &#27169;&#22359;&#36755;&#20986;&#30340;&#26159;&#19968;&#20010;&#20540;&#30340;&#25335;&#36125;&#65292;ES6 &#27169;&#22359;&#36755;&#20986;&#30340;&#26159;&#20540;&#30340;&#24341;&#29992;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1509355805159" ID="ID_582085275" MODIFIED="1509361225830">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Node&#21152;&#36733;
    </p>
    <p>
      1&#12289;Node &#35201;&#27714; ES6 &#27169;&#22359;&#37319;&#29992;.mjs&#21518;&#32512;&#25991;&#20214;&#21517;&#12290;&#20063;&#23601;&#26159;&#35828;&#65292;&#21482;&#35201;&#33050;&#26412;&#25991;&#20214;&#37324;&#38754;&#20351;&#29992;import&#25110;&#32773;export&#21629;&#20196;&#65292;&#37027;&#20040;&#23601;&#24517;&#39035;&#37319;&#29992;.mjs&#21518;&#32512;&#21517;&#12290;require&#21629;&#20196;&#19981;&#33021;&#21152;&#36733;.mjs&#25991;&#20214;&#65292;&#20250;&#25253;&#38169;&#65292;&#21482;&#26377;import&#21629;&#20196;&#25165;&#21487;&#20197;&#21152;&#36733;.mjs&#25991;&#20214;&#65288;import&#20063;&#21487;&#20197;&#21152;&#36733;js&#27169;&#22359;&#65289;&#12290;&#21453;&#36807;&#26469;&#65292;.mjs&#25991;&#20214;&#37324;&#38754;&#20063;&#19981;&#33021;&#20351;&#29992;require&#21629;&#20196;&#65292;&#24517;&#39035;&#20351;&#29992;import&#12290;
    </p>
    <p>
      2&#12289;&#30446;&#21069;&#65292;&#36825;&#39033;&#21151;&#33021;&#36824;&#22312;&#35797;&#39564;&#38454;&#27573;&#12290;&#23433;&#35013; Node v8.5.0 &#25110;&#20197;&#19978;&#29256;&#26412;&#65292;&#35201;&#29992;--experimental-modules&#21442;&#25968;&#25165;&#33021;&#25171;&#24320;&#35813;&#21151;&#33021;&#12290;
    </p>
    <p>
      $ node --experimental-modules my-app.mjs
    </p>
    <p>
      3&#12289;&#20026;&#20102;&#19982;&#27983;&#35272;&#22120;&#30340;import&#21152;&#36733;&#35268;&#21017;&#30456;&#21516;&#65292;Node &#30340;.mjs&#25991;&#20214;&#25903;&#25345; URL &#36335;&#24452;&#12290;
    </p>
    <p>
      import './foo?query=1'; // &#21152;&#36733; ./foo &#20256;&#20837;&#21442;&#25968; ?query=1
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;&#33050;&#26412;&#36335;&#24452;&#24102;&#26377;&#21442;&#25968;?query=1&#65292;Node &#20250;&#25353; URL &#35268;&#21017;&#35299;&#35835;&#12290;&#21516;&#19968;&#20010;&#33050;&#26412;&#21482;&#35201;&#21442;&#25968;&#19981;&#21516;&#65292;&#23601;&#20250;&#34987;&#21152;&#36733;&#22810;&#27425;&#65292;&#24182;&#19988;&#20445;&#23384;&#25104;&#19981;&#21516;&#30340;&#32531;&#23384;&#12290;&#30001;&#20110;&#36825;&#20010;&#21407;&#22240;&#65292;&#21482;&#35201;&#25991;&#20214;&#21517;&#20013;&#21547;&#26377;:&#12289;%&#12289;#&#12289;?&#31561;&#29305;&#27530;&#23383;&#31526;&#65292;&#26368;&#22909;&#23545;&#36825;&#20123;&#23383;&#31526;&#36827;&#34892;&#36716;&#20041;&#12290;
    </p>
    <p>
      4&#12289;&#30446;&#21069;&#65292;Node &#30340;import&#21629;&#20196;&#21482;&#25903;&#25345;&#21152;&#36733;&#26412;&#22320;&#27169;&#22359;&#65288;file:&#21327;&#35758;&#65289;&#65292;&#19981;&#25903;&#25345;&#21152;&#36733;&#36828;&#31243;&#27169;&#22359;&#12290;
    </p>
    <p>
      &#22914;&#26524;&#27169;&#22359;&#21517;&#19981;&#21547;&#36335;&#24452;&#65292;&#37027;&#20040;import&#21629;&#20196;&#20250;&#21435;node_modules&#30446;&#24405;&#23547;&#25214;&#36825;&#20010;&#27169;&#22359;&#12290;
    </p>
    <p>
      import 'baz';
    </p>
    <p>
      import 'abc/123';
    </p>
    <p>
      &#22914;&#26524;&#27169;&#22359;&#21517;&#21253;&#21547;&#36335;&#24452;&#65292;&#37027;&#20040;import&#21629;&#20196;&#20250;&#25353;&#29031;&#36335;&#24452;&#21435;&#23547;&#25214;&#36825;&#20010;&#21517;&#23383;&#30340;&#33050;&#26412;&#25991;&#20214;&#12290;
    </p>
    <p>
      import 'file:///etc/config/app.json';
    </p>
    <p>
      import './foo';
    </p>
    <p>
      import './foo?search';
    </p>
    <p>
      import '../bar';
    </p>
    <p>
      import '/baz';
    </p>
    <p>
      5&#12289;Node &#30340;import&#21629;&#20196;&#26159;&#24322;&#27493;&#21152;&#36733;&#65292;&#36825;&#19968;&#28857;&#19982;&#27983;&#35272;&#22120;&#30340;&#22788;&#29702;&#26041;&#27861;&#30456;&#21516;&#12290;
    </p>
    <p>
      6&#12289;Node &#35268;&#23450; ES6 &#27169;&#22359;&#20043;&#20013;&#19981;&#33021;&#20351;&#29992; CommonJS &#27169;&#22359;&#30340;&#29305;&#26377;&#30340;&#19968;&#20123;&#20869;&#37096;&#21464;&#37327;&#12290;
    </p>
    <p>
      &#39318;&#20808;&#65292;&#23601;&#26159;this&#20851;&#38190;&#23383;&#12290;ES6 &#27169;&#22359;&#20043;&#20013;&#65292;&#39030;&#23618;&#30340;this&#25351;&#21521;undefined&#65307;CommonJS &#27169;&#22359;&#30340;&#39030;&#23618;this&#25351;&#21521;&#24403;&#21069;&#27169;&#22359;&#65292;&#36825;&#26159;&#20004;&#32773;&#30340;&#19968;&#20010;&#37325;&#22823;&#24046;&#24322;&#12290;
    </p>
    <p>
      &#20854;&#27425;&#65292;&#20197;&#19979;&#36825;&#20123;&#39030;&#23618;&#21464;&#37327;&#22312; ES6 &#27169;&#22359;&#20043;&#20013;&#37117;&#26159;&#19981;&#23384;&#22312;&#30340;&#12290;
    </p>
    <p>
      arguments
    </p>
    <p>
      require
    </p>
    <p>
      module
    </p>
    <p>
      exports
    </p>
    <p>
      __filename
    </p>
    <p>
      __dirname
    </p>
    <p>
      7&#12289;&#22914;&#26524;&#20320;&#19968;&#23450;&#35201;&#20351;&#29992;&#36825;&#20123;&#21464;&#37327;&#65292;&#26377;&#19968;&#20010;&#21464;&#36890;&#26041;&#27861;&#65292;&#23601;&#26159;&#20889;&#19968;&#20010; CommonJS &#27169;&#22359;&#36755;&#20986;&#36825;&#20123;&#21464;&#37327;&#65292;&#28982;&#21518;&#20877;&#29992; ES6 &#27169;&#22359;&#21152;&#36733;&#36825;&#20010; CommonJS &#27169;&#22359;&#12290;&#20294;&#26159;&#36825;&#26679;&#19968;&#26469;&#65292;&#35813; ES6 &#27169;&#22359;&#23601;&#19981;&#33021;&#30452;&#25509;&#29992;&#20110;&#27983;&#35272;&#22120;&#29615;&#22659;&#20102;&#65292;&#25152;&#20197;&#19981;&#25512;&#33616;&#36825;&#26679;&#20570;&#12290;
    </p>
    <p>
      // expose.js
    </p>
    <p>
      module.exports = {__dirname};
    </p>
    <p>
      // use.mjs
    </p>
    <p>
      import expose from './expose.js';
    </p>
    <p>
      const {__dirname} = expose;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1509361322375" ID="ID_1321514673" MODIFIED="1509362896868">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      ES6&#27169;&#22359;&#21152;&#36733;CommonJS&#27169;&#22359;
    </p>
    <p>
      1&#12289;CommonJS &#27169;&#22359;&#30340;&#36755;&#20986;&#37117;&#23450;&#20041;&#22312;module.exports&#36825;&#20010;&#23646;&#24615;&#19978;&#38754;&#12290;Node &#30340;import&#21629;&#20196;&#21152;&#36733; CommonJS &#27169;&#22359;&#65292;Node &#20250;&#33258;&#21160;&#23558;module.exports&#23646;&#24615;&#65292;&#24403;&#20316;&#27169;&#22359;&#30340;&#40664;&#35748;&#36755;&#20986;&#65292;&#21363;&#31561;&#21516;&#20110;export default xxx&#12290;
    </p>
    <p>
      &#19979;&#38754;&#26159;&#19968;&#20010; CommonJS &#27169;&#22359;&#12290;
    </p>
    <p>
      // a.js
    </p>
    <p>
      module.exports = {
    </p>
    <p>
      &#160;&#160;foo: 'hello',
    </p>
    <p>
      &#160;&#160;bar: 'world'
    </p>
    <p>
      };
    </p>
    <p>
      // &#31561;&#21516;&#20110;
    </p>
    <p>
      export default {
    </p>
    <p>
      &#160;&#160;foo: 'hello',
    </p>
    <p>
      &#160;&#160;bar: 'world'
    </p>
    <p>
      };
    </p>
    <p>
      import&#21629;&#20196;&#21152;&#36733;&#19978;&#38754;&#30340;&#27169;&#22359;&#65292;module.exports&#20250;&#34987;&#35270;&#20026;&#40664;&#35748;&#36755;&#20986;&#65292;&#21363;import&#21629;&#20196;&#23454;&#38469;&#19978;&#36755;&#20837;&#30340;&#26159;&#36825;&#26679;&#19968;&#20010;&#23545;&#35937;{ default: module.exports }&#12290;
    </p>
    <p>
      2&#12289;&#25152;&#20197;&#65292;&#19968;&#20849;&#26377;&#19977;&#31181;&#20889;&#27861;&#65292;&#21487;&#20197;&#25343;&#21040; CommonJS &#27169;&#22359;&#30340;module.exports&#12290;
    </p>
    <p>
      // &#20889;&#27861;&#19968;
    </p>
    <p>
      import baz from './a';
    </p>
    <p>
      // baz = {foo: 'hello', bar: 'world'};
    </p>
    <p>
      // &#20889;&#27861;&#20108;
    </p>
    <p>
      import {default as baz} from './a';
    </p>
    <p>
      // baz = {foo: 'hello', bar: 'world'};
    </p>
    <p>
      // &#20889;&#27861;&#19977;
    </p>
    <p>
      import * as baz from './a';
    </p>
    <p>
      // baz = {
    </p>
    <p>
      //&#160;&#160;&#160;get default() {return module.exports;},
    </p>
    <p>
      //&#160;&#160;&#160;get foo() {return this.default.foo}.bind(baz),
    </p>
    <p>
      //&#160;&#160;&#160;get bar() {return this.default.bar}.bind(baz)
    </p>
    <p>
      // }
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#30340;&#31532;&#19977;&#31181;&#20889;&#27861;&#65292;&#21487;&#20197;&#36890;&#36807;baz.default&#25343;&#21040;module.exports&#12290;foo&#23646;&#24615;&#21644;bar&#23646;&#24615;&#23601;&#26159;&#21487;&#20197;&#36890;&#36807;&#36825;&#31181;&#26041;&#27861;&#25343;&#21040;&#20102;module.exports&#12290;
    </p>
    <p>
      3&#12289;CommonJS &#27169;&#22359;&#30340;&#36755;&#20986;&#32531;&#23384;&#26426;&#21046;&#65292;&#22312; ES6 &#21152;&#36733;&#26041;&#24335;&#19979;&#20381;&#28982;&#26377;&#25928;&#12290;
    </p>
    <p>
      // foo.js
    </p>
    <p>
      module.exports = 123;
    </p>
    <p>
      setTimeout(_ =&gt; module.exports = null);
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;&#23545;&#20110;&#21152;&#36733;foo.js&#30340;&#33050;&#26412;&#65292;module.exports&#23558;&#19968;&#30452;&#26159;123&#65292;&#32780;&#19981;&#20250;&#21464;&#25104;null&#12290;
    </p>
    <p>
      4&#12289;&#30001;&#20110; ES6 &#27169;&#22359;&#26159;&#32534;&#35793;&#26102;&#30830;&#23450;&#36755;&#20986;&#25509;&#21475;&#65292;CommonJS &#27169;&#22359;&#26159;&#36816;&#34892;&#26102;&#30830;&#23450;&#36755;&#20986;&#25509;&#21475;&#65292;&#25152;&#20197;&#37319;&#29992;import&#21629;&#20196;&#21152;&#36733; CommonJS &#27169;&#22359;&#26102;&#65292;&#19981;&#20801;&#35768;&#37319;&#29992;&#19979;&#38754;&#30340;&#20889;&#27861;&#12290;
    </p>
    <p>
      // &#19981;&#27491;&#30830;
    </p>
    <p>
      import { readfile } from 'fs';
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1509362901996" ID="ID_885795051" MODIFIED="1509363012619">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      CommonJS&#27169;&#22359;&#21152;&#36733;ES6&#27169;&#22359;
    </p>
    <p>
      1&#12289;CommonJS &#27169;&#22359;&#21152;&#36733; ES6 &#27169;&#22359;&#65292;&#19981;&#33021;&#20351;&#29992;require&#21629;&#20196;&#65292;&#32780;&#35201;&#20351;&#29992;import()&#20989;&#25968;&#12290;ES6 &#27169;&#22359;&#30340;&#25152;&#26377;&#36755;&#20986;&#25509;&#21475;&#65292;&#20250;&#25104;&#20026;&#36755;&#20837;&#23545;&#35937;&#30340;&#23646;&#24615;&#12290;
    </p>
    <p>
      // es.mjs
    </p>
    <p>
      let foo = { bar:'my-default' };
    </p>
    <p>
      export default foo;
    </p>
    <p>
      foo = null;
    </p>
    <p>
      // cjs.js
    </p>
    <p>
      const es_namespace = await import('./es');
    </p>
    <p>
      // es_namespace = {
    </p>
    <p>
      //&#160;&#160;&#160;get default() {
    </p>
    <p>
      //&#160;&#160;&#160;&#160;&#160;...
    </p>
    <p>
      //&#160;&#160;&#160;}
    </p>
    <p>
      // }
    </p>
    <p>
      console.log(es_namespace.default);
    </p>
    <p>
      // { bar:'my-default' }
    </p>
    <p>
      &#19978;&#38754;&#20195;&#30721;&#20013;&#65292;default&#25509;&#21475;&#21464;&#25104;&#20102;es_namespace.default&#23646;&#24615;&#12290;&#21478;&#22806;&#65292;&#30001;&#20110;&#23384;&#22312;&#32531;&#23384;&#26426;&#21046;&#65292;es.js&#23545;foo&#30340;&#37325;&#26032;&#36171;&#20540;&#27809;&#26377;&#22312;&#27169;&#22359;&#22806;&#37096;&#21453;&#26144;&#20986;&#26469;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1509363120748" ID="ID_1659391059" MODIFIED="1509363209596">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#24490;&#29615;&#21152;&#36733;
    </p>
  </body>
</html></richcontent>
<node CREATED="1509363687173" ID="ID_1337220263" MODIFIED="1509363696621" TEXT="CommonJS&#x6a21;&#x5757;&#x7684;&#x5faa;&#x73af;&#x52a0;&#x8f7d;"/>
<node CREATED="1509363699315" ID="ID_1261884856" MODIFIED="1509365086218">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      ES6&#27169;&#22359;&#30340;&#24490;&#29615;&#21152;&#36733;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1509365093777" ID="ID_1907213401" MODIFIED="1509366100789">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      ES6&#27169;&#22359;&#36716;&#30721;
    </p>
    <p>
      1&#12289;babel
    </p>
    <p>
      2&#12289;ES6 module transpiler&#26159; square &#20844;&#21496;&#24320;&#28304;&#30340;&#19968;&#20010;&#36716;&#30721;&#22120;&#65292;&#21487;&#20197;&#23558; ES6 &#27169;&#22359;&#36716;&#20026; CommonJS &#27169;&#22359;&#25110; AMD &#27169;&#22359;&#30340;&#20889;&#27861;&#65292;&#20174;&#32780;&#22312;&#27983;&#35272;&#22120;&#20013;&#20351;&#29992;&#12290;
    </p>
    <p>
      &#39318;&#20808;&#65292;&#23433;&#35013;&#36825;&#20010;&#36716;&#30721;&#22120;&#12290;
    </p>
    <p>
      $ npm install -g es6-module-transpiler
    </p>
    <p>
      &#28982;&#21518;&#65292;&#20351;&#29992;compile-modules convert&#21629;&#20196;&#65292;&#23558; ES6 &#27169;&#22359;&#25991;&#20214;&#36716;&#30721;&#12290;
    </p>
    <p>
      $ compile-modules convert file1.js file2.js
    </p>
    <p>
      -o&#21442;&#25968;&#21487;&#20197;&#25351;&#23450;&#36716;&#30721;&#21518;&#30340;&#25991;&#20214;&#21517;&#12290;
    </p>
    <p>
      $ compile-modules convert -o out.js file1.js
    </p>
    <p>
      3&#12289;&#21478;&#19968;&#31181;&#35299;&#20915;&#26041;&#27861;&#26159;&#20351;&#29992; SystemJS&#12290;&#23427;&#26159;&#19968;&#20010;&#22443;&#29255;&#24211;&#65288;polyfill&#65289;&#65292;&#21487;&#20197;&#22312;&#27983;&#35272;&#22120;&#20869;&#21152;&#36733; ES6 &#27169;&#22359;&#12289;AMD &#27169;&#22359;&#21644; CommonJS &#27169;&#22359;&#65292;&#23558;&#20854;&#36716;&#20026; ES5 &#26684;&#24335;&#12290;&#23427;&#22312;&#21518;&#21488;&#35843;&#29992;&#30340;&#26159; Google &#30340; Traceur &#36716;&#30721;&#22120;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
</map>
